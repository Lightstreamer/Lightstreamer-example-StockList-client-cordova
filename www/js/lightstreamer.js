/*
 * LIGHTSTREAMER - www.lightstreamer.com
 * Lightstreamer JavaScript Client
 * Version 6.1.1 build 1640.2
 * Copyright (c) 2004-2014 Weswit Srl. All Rights Reserved.
 * Contains: Lightstreamer/LightstreamerClient, Lightstreamer/Subscription, Lightstreamer/DynaGrid
 * Globals
 */
(function(){function define(a,c,e){define.a[a]={e:c,d:e}}define.a={};define.b=function(a,c,e){for(var g=[],f=0;f<a.length;f++){var d=define.a[a[f]];if(!d)throw"All the modules must already be 'defined' Async load not supported: use a full-featured AMD loader like requirejs";d.c||define.b(d.e,d.d,a[f]);g.push(d.c)}a=c.apply(null,g);if(e)define.a[e].c=a};function require(a,c){define.b(a,c,null)};function u(){return function(g){return g}}function E(){return function(){}}function G(g){return function(e){this[g]=e}}function M(g){return function(){return this[g]}}function U(g){return function(){return g}}
define("IllegalStateException",[],function(){function g(e){this.name="IllegalStateException";this.message=e}g.prototype={toString:function(){return["[",this.name,this.message,"]"].join("|")}};return g});
define("Environment",["IllegalStateException"],function(g){var e="undefined"!==typeof window&&navigator&&document,d="undefined"!==typeof importScripts,b="object"==typeof process&&(/node(\.exe)?$/.test(process.execPath)||process.node&&process.v8||process.versions&&process.versions.node&&process.versions.v8);if(e&&!document.getElementById)throw new g("Not supported browser");var c={isBrowserDocument:function(){return e},isBrowser:function(){return!b&&(e||d)},isNodeJS:function(){return!e&&b},isWebWorker:function(){return!e&&
!b&&d},browserDocumentOrDie:function(){if(!this.isBrowserDocument())throw new g("Trying to load a browser-only module on non-browser environment");}};c.isBrowserDocument=c.isBrowserDocument;c.isBrowser=c.isBrowser;c.isNodeJS=c.isNodeJS;c.isWebWorker=c.isWebWorker;c.browserDocumentOrDie=c.browserDocumentOrDie;return c});
define("Helpers",["Environment"],function(g){var e=/^\s*([\s\S]*?)\s*$/,d=/,/,b=/\./,c={getTimeStamp:function(){return(new Date).getTime()},randomG:function(b){return Math.round(Math.random()*(b||1E3))},trim:function(b){return b.replace(e,"$1")},getNumber:function(c,a){if(c){if(!c.replace)return c;a?(c=c.replace(b,""),c=c.replace(d,".")):c=c.replace(d,"");return new Number(c)}return 0},isArray:function(b){return b.join&&"function"==typeof b.join},addEvent:function(b,a,c){if(!g.isBrowserDocument())return!1;
"undefined"!=typeof b.addEventListener?b.addEventListener(a,c,!1):"undefined"!=typeof b.attachEvent&&b.attachEvent("on"+a,c);return!0},removeEvent:function(b,a,c){if(!g.isBrowserDocument())return!1;"undefined"!=typeof b.removeEventListener?b.removeEventListener(a,c,!1):"undefined"!=typeof b.detachEvent&&b.detachEvent("on"+a,c);return!0}};c.getTimeStamp=c.getTimeStamp;c.randomG=c.randomG;c.trim=c.trim;c.getNumber=c.getNumber;c.isArray=c.isArray;c.addEvent=c.addEvent;c.removeEvent=c.removeEvent;return c});
define("BrowserDetection",["Environment"],function(g){function e(b){var c=a;return function(){null===c&&(c=-1<f.indexOf(b));return c}}function d(b){var c=a;return function(){if(null===c){c=!0;for(var a=0;a<b.length;a++)c=c&&b[a]()}return c}}function b(b,c){var d=a,h=a;return function(a,f){null===d&&(h=(d=b())?c():null);return d?a&&h?!0===f?h<=a:!1===f?h>=a:h==a:!0:!1}}function c(a){return function(){var b=a.exec(f);return b&&2<=b.length?b[1]:null}}function h(a){return function(){return!a()}}var a=
g.isBrowser()?null:!1,f=g.isBrowser()?navigator.userAgent.toLowerCase():null,l=a;g={isProbablyRekonq:e("rekonq"),isProbablyAWebkit:e("webkit"),isProbablyPlaystation:e("playstation 3"),isProbablyChrome:b(e("chrome/"),c(RegExp("chrome/([0-9]+)","g"))),isProbablyAKhtml:function(){null===l&&(l=document.childNodes&&!document.all&&!navigator.jC&&!navigator.ZB);return l},isProbablyKonqueror:b(e("konqueror"),c(RegExp("konqueror/([0-9.]+)","g"))),isProbablyIE:b(e("msie"),c(RegExp("msie\\s([0-9]+)[.;]","g"))),
isProbablyFX:b(e("firefox"),c(/firefox\/(\d+\.?\d*)/)),isProbablyOldOpera:b(function(){return"undefined"!=typeof opera},function(){if(opera.version){var a=opera.version(),a=a.replace(RegExp("[^0-9.]+","g"),"");return parseInt(a)}return 7})};g.isProbablyAndroidBrowser=d([e("android"),g.isProbablyAWebkit,h(g.isProbablyChrome)]);g.isProbablyOperaMobile=d([g.isProbablyOldOpera,e("opera mobi")]);g.isProbablyApple=b(d([e("safari"),function(b){var c=a;return function(){if(null===c){c=!1;for(var a=0;a<b.length;a++)c=
c||b[a]()}return c}}([e("ipad"),e("iphone"),e("ipod"),d([h(g.isProbablyAndroidBrowser),h(g.isProbablyChrome),h(g.isProbablyRekonq)])])]),c(/version\/(\d+\.?\d*)/));g.isProbablyRekonq=g.isProbablyRekonq;g.isProbablyChrome=g.isProbablyChrome;g.isProbablyAWebkit=g.isProbablyAWebkit;g.isProbablyPlaystation=g.isProbablyPlaystation;g.isProbablyAndroidBrowser=g.isProbablyAndroidBrowser;g.isProbablyOperaMobile=g.isProbablyOperaMobile;g.isProbablyApple=g.isProbablyApple;g.isProbablyAKhtml=g.isProbablyAKhtml;
g.isProbablyKonqueror=g.isProbablyKonqueror;g.isProbablyIE=g.isProbablyIE;g.isProbablyFX=g.isProbablyFX;g.isProbablyOldOpera=g.isProbablyOldOpera;return g});
define("List",[],function(){function g(){this.data=[]}g.prototype={add:function(e){this.data.push(e)},remove:function(e){for(var d=0;d<this.data.length;d++)if(this.data[d]==e)return this.data.splice(d,1),!0;return!1},forEach:function(e){for(var d=0;d<this.data.length;d++)e(this.data[d])},asArray:function(){return[].concat(this.data)},clean:function(){this.data=[]}};g.prototype.add=g.prototype.add;g.prototype.remove=g.prototype.remove;g.prototype.forEach=g.prototype.forEach;g.prototype.asArray=g.prototype.asArray;
g.prototype.clean=g.prototype.clean;return g});
define("EnvironmentStatus",["Helpers","BrowserDetection","Environment","List"],function(g,e,d,b){function c(a,b,c,d,f){return function(){a[b]||(a[c]=!0,d.forEach(function(a){try{if(a[f])a[f]();else a()}catch(b){}}),"preunloading"!=b&&d.clean(),a[b]=!0,a[c]=!1)}}function h(a,b){setTimeout(function(){if(a[b])a[b]();else a()},0)}function a(a,b,c,d){setTimeout(function(){c?d?a.apply(c,d):a.apply(c):d?a.apply(null,d):a()},b)}function f(){n=!0}var l=new b,m=new b,k=new b,n=!1,p={jh:"onloadDone",gs:"onloadInprogress",
Mh:"unloaded",wo:"unloading",ps:"preunloading"};b={};for(var q in p)b[p[q]]=q;q={jh:!1,gs:!1,Mh:!1,wo:!1,ps:!1,isLoaded:M("jh"),isUnloaded:M("Mh"),isUnloading:M("wo"),addOnloadHandler:function(a){this.Ix()?m.add(a):h(a,"onloadEvent")},addUnloadHandler:function(a){this.Jx()?l.add(a):h(a,"unloadEvent")},addBeforeUnloadHandler:function(a){k.add(a);this.ps&&h(a,"preUnloadEvent")},removeOnloadHandler:function(a){m.remove(a)},removeUnloadHandler:function(a){l.remove(a)},removeBeforeUnloadHandler:function(a){k.remove(a)},
Ix:function(){return!(this.jh||this.gs)},Jx:function(){return!(this.Mh||this.wo)},qu:function(){g.addEvent(window,"unload",this.Qu);g.addEvent(window,"beforeunload",this.su);if(document&&"undefined"!=typeof document.readyState){if("COMPLETE"==document.readyState.toUpperCase()){this.ai();return}a(this.Kp,1E3,this)}else if(this.br()){this.ai();return}if(!g.addEvent(window,"load",this.Oj))this.ai();else if(e.isProbablyOldOpera()){var b=!1;e.isProbablyOldOpera(9,!1)&&(b=!0,g.addEvent(document,"DOMContentLoaded",
f));a(this.Jp,1E3,this,[b])}},ai:function(){a(this.Oj,0)},Kp:function(){this.jh||("COMPLETE"==document.readyState.toUpperCase()?this.Oj():a(this.Kp,1E3,this))},Jp:function(b){this.jh||(n||!b&&this.br()?this.Oj():a(this.Jp,1E3,this,[b]))},br:function(){return"undefined"!=typeof document.getElementsByTagName&&"undefined"!=typeof document.getElementById&&(null!=document.getElementsByTagName("body")[0]||null!=document.body)}};q.Oj=c(q,b.onloadDone,b.onloadInprogress,m,"onloadEvent");q.Qu=c(q,b.unloaded,
b.unloading,l,"unloadEvent");q.su=c(q,b.preunloading,b.preunloading,k,"preUnloadEvent");d.isBrowserDocument()?q.qu():q.ai();q.addOnloadHandler=q.addOnloadHandler;q.addUnloadHandler=q.addUnloadHandler;q.addBeforeUnloadHandler=q.addBeforeUnloadHandler;q.removeOnloadHandler=q.removeOnloadHandler;q.removeUnloadHandler=q.removeUnloadHandler;q.removeBeforeUnloadHandler=q.removeBeforeUnloadHandler;q.isLoaded=q.isLoaded;q.isUnloaded=q.isUnloaded;q.isUnloading=q.isUnloading;return q});
define("Global",["EnvironmentStatus","Environment"],function(g,e){var d={yt:g,toString:function(){return"[Lightstreamer javascript client version "+this.version+" build "+this.build+"]"},sa:function(b,c,h,a){b=(a||"_")+b;this[b]||(this[b]={});this[b][c]=h;return"Lightstreamer."+b+"."+c},kx:function(b,c,h){b=(h||"_")+b;return this[b]&&this[b][c]},sl:function(b,c,h){b=(h||"_")+b;if(this[b]&&this[b][c]){delete this[b][c];for(var a in this[b])return;delete this[b]}},Iu:function(b,c){var h=(c||"_")+b;
this[h]&&delete this[h]},dj:{},eu:function(b){var c=this.dj,h=b.gf;c[h]||(c[h]=[]);c[h].push(b)},Rz:function(b){var c=b.gf,h=this.dj[c];if(h){for(var a=0;a<h.length;a++)h[a]==b&&h.splice(a,1);0==h.length&&delete h[c]}},Rw:function(b){return this.dj[b]&&(b=this.dj[b])&&0<b.length?b[0]:null}};e.isBrowserDocument()&&(window.SB&&OpenAjax.mx&&OpenAjax.mx.hC("Lightstreamer","http://www.lightstreamer.com/",d.version),window.Lightstreamer=d);d.version="6.1.1";d.build="1640.2";return d});
define("LoggerProxy",["Helpers"],function(g){function e(b){this.Sn(b)}function d(){return!1}var b={error:d,warn:d,info:d,debug:d,fatal:d,isDebugEnabled:d,isInfoEnabled:d,isWarnEnabled:d,isErrorEnabled:d,isFatalEnabled:d};e.prototype={Sn:function(c){this.Na=c||b},logFatal:function(b){this.Cx()&&(b+=this.re(arguments,1),this.fatal(b))},fatal:function(b,d){this.Na.fatal(b,d)},Cx:function(){return!this.Na.isFatalEnabled||this.Na.isFatalEnabled()},logError:function(b){this.ar()&&(b+=this.re(arguments,
1),this.error(b))},logErrorExc:function(b,d){this.ar()&&(d+=this.re(arguments,2),this.error(d,b))},error:function(b,d){this.Na.error(b,d)},ar:function(){return!this.Na.isErrorEnabled||this.Na.isErrorEnabled()},logWarn:function(b){this.Vx()&&(b+=this.re(arguments,1),this.warn(b))},warn:function(b,d){this.Na.warn(b,d)},Vx:function(){return!this.Na.isWarnEnabled||this.Na.isWarnEnabled()},logInfo:function(b){this.isInfoLogEnabled()&&(b+=this.re(arguments,1),this.info(b))},info:function(b,d){this.Na.info(b,
d)},isInfoLogEnabled:function(){return!this.Na.isInfoEnabled||this.Na.isInfoEnabled()},logDebug:function(b){this.isDebugLogEnabled()&&(b+=this.re(arguments,1),this.debug(b))},debug:function(b,d){this.Na.debug(b,d)},isDebugLogEnabled:function(){return!this.Na.isDebugEnabled||this.Na.isDebugEnabled()},re:function(b,d){for(var a=" {",f=d?d:0;f<b.length;f++)try{var e=b[f];null===e?a+="NULL":0>e.length?a+="*":null!=e.charAt?a+=e:e.message?(a+=e.message,e.stack&&(a+="\n"+e.stack+"\n")):e[0]==e?a+=e:g.isArray(e)?
(a+="(",a+=this.re(e),a+=")"):a+=e;a+=" "}catch(m){a+="missing-parameter "}return a+"}"}};e.prototype.debug=e.prototype.debug;e.prototype.isDebugLogEnabled=e.prototype.isDebugLogEnabled;e.prototype.logDebug=e.prototype.logDebug;e.prototype.info=e.prototype.info;e.prototype.isInfoLogEnabled=e.prototype.isInfoLogEnabled;e.prototype.logInfo=e.prototype.logInfo;e.prototype.warn=e.prototype.warn;e.prototype.isWarnEnabled=e.prototype.isWarnEnabled;e.prototype.logWarn=e.prototype.logWarn;e.prototype.error=
e.prototype.error;e.prototype.isErrorEnabled=e.prototype.isErrorEnabled;e.prototype.logError=e.prototype.logError;e.prototype.logErrorExc=e.prototype.logErrorExc;e.prototype.fatal=e.prototype.fatal;e.prototype.isFatalEnabled=e.prototype.isFatalEnabled;e.prototype.logFatal=e.prototype.logFatal;return e});
define("IllegalArgumentException",[],function(){function g(e){this.name="IllegalArgumentException";this.message=e}g.prototype={toString:function(){return["[",this.name,this.message,"]"].join("|")}};return g});
define("LoggerManager",["LoggerProxy","IllegalArgumentException"],function(g,e){var d={},b=null,c={setLoggerProvider:function(c){if(c&&!c.getLogger)throw new e("The given object is not a LoggerProvider");b=c;for(var a in d)b?d[a].Sn(b.getLogger(a)):d[a].Sn(null)},getLoggerProxy:function(c){d[c]||(d[c]=b?new g(b.getLogger(c)):new g);return d[c]},resolve:u()};c.setLoggerProvider=c.setLoggerProvider;c.getLoggerProxy=c.getLoggerProxy;c.resolve=c.resolve;return c});
define("lsA",["Environment"],function(g){return{Rd:1E3,Wo:200,So:1,wc:0,To:2,Ko:3,Vo:4,Lk:"1640.2",Ph:!g.isBrowserDocument()||"http:"!=document.location.protocol&&"https:"!=document.location.protocol?"file:":document.location.protocol,ab:"lightstreamer.stream",Pe:"lightstreamer.protocol",Sd:"lightstreamer.session",og:"lightstreamer.subscriptions",Kk:"lightstreamer.actions",Oa:"lightstreamer.sharing",Ro:"lightstreamer.flash",UB:"lightstreamer.stats",Td:"Lightstreamer_",Pk:"lightstreamer",xc:"UNORDERED_MESSAGES",
pg:{length:-1,toString:U("[UNCHANGED]")},CONNECTING:"CONNECTING",Gb:"CONNECTED:",ng:"STREAM-SENSING",Qh:"WS-STREAMING",lg:"HTTP-STREAMING",Re:"STALLED",rg:"WS-POLLING",Qd:"HTTP-POLLING",$b:"DISCONNECTED",qg:"DISCONNECTED:WILL-RETRY",Tk:"WS",Oh:"HTTP",Rk:"RAW",Nk:"DISTINCT",kg:"COMMAND",Qk:"MERGE"}});
define("lsF",["LoggerManager","Helpers","lsA"],function(g,e,d){function b(a){this.Fa=null;this.Ys(a)}function c(a,f){return"var callFun \x3d "+function(a,f){window.name!=a||(window!=top||window.Lightstreamer&&window.Lightstreamer.yt)||(window.name=f,window.close())}.toString()+"; callFun('"+a+"', '"+f+"');"}function h(a,f,b,h){this.log=a;this.fy=f;this.Eh=b;this.Np=h}var a=0,f=0,l=!1,m=!1,k=g.getLoggerProxy(d.Oa),n=[];b.prototype={Ys:function(a){k.logDebug(g.resolve(3));this.Fa=a;this.Yz()||
this.Ub()},Ub:function(){k.logDebug(g.resolve(4));this.Fa=null;delete n[this.vz]},Yz:function(){try{return this.Fa?!0:!1}catch(a){return!1}},Hh:function(){return this.vB()},vB:function(){k.logDebug(g.resolve(5));var a=1;try{if(null==this.Fa)return a=2,new h("null",a,!1,!0);if(this.Fa.closed)return a=3,this.Ub(),new h("closed",a,!1,!0);if(!this.Fa.Lightstreamer)return a=4,this.Ub(),new h("not global",a,!1,!1);a=5;return new h("OK",a,!0,!1)}catch(f){return this.Ub(),new h("exception "+a+" "+f,6,!1,
!0)}},Om:function(b,h,d){var t=null;try{n[b]&&(t=n[b])}catch(s){t=null}if(t&&(delete n[b],this.rr(t,b,h)))return!0;a:{var t="javascript:"+('eval("'+c(b,b+"__TRASH")+'; ")'),D=null;k.logDebug(g.resolve(1));if(m)t=!1;else{try{var C;if(window.VB){var y=!0;-5>f-a&&(y=!1);window.Jt&&y?(a++,C=d>e.getTimeStamp()?window.Jt(t,b,"height\x3d100,width\x3d100",!0):!1):(l||(l=!0,k.logWarn(g.resolve(0))),a=0,C=null)}else C=d>e.getTimeStamp()?window.open(t,b,"height\x3d100,width\x3d100",!0):!1;D=C}catch(x){k.logDebug(g.resolve(2),
x);t=!1;break a}if(D)try{f++}catch(w){m=!0}t=D}}if(!1===t)return k.logDebug(g.resolve(6)),!1;if(!t)return k.logDebug(g.resolve(7)),!0;k.logDebug(g.resolve(8));this.rr(t,b,h);return!0},rr:function(a,f,b){try{k.logDebug(g.resolve(9));if(a.closed)return k.logDebug(g.resolve(10)),!1;var h=a;if(b){if(a==a.top&&!a.Lightstreamer){k.logDebug(g.resolve(11));try{b=trashName,a.name!=f&&a.name!=b||a.close()}catch(l){k.logDebug(g.resolve(12),l)}return!1}h=a.parent;if(null==h)return k.logDebug(g.resolve(13)),!1}if(!h.Lightstreamer)return k.logDebug(g.resolve(14)),
!1;if(!h.Lightstreamer.yt)return k.logDebug(g.resolve(15)),!1;k.logDebug(g.resolve(16));this.Fa=h;this.vz=f;n[f]=a}catch(c){return k.logDebug(g.resolve(17),c),!1}return!0}};h.prototype.toString=function(){return["[|TestResult",this.log,this.fy,this.Eh,this.Np,"]"].join("|")};b.Kt=h;return b});
define("Executor",["Helpers","EnvironmentStatus","Environment"],function(g,e,d){function b(){}function c(a,b){return a.time===b.time?a.rn-b.rn:a.time-b.time}function h(){y=!1;f()}function a(){if(t)clearInterval(t);else if(d.isBrowserDocument()&&"undefined"!=typeof postMessage){C=function(){window.postMessage("Lightstreamer.run",D)};var a=function(a){("Lightstreamer.run"==a.data&&"*"==D||a.origin==D)&&h()};g.addEvent(window,"message",a);y||(y=!0,C());!1==y&&(g.removeEvent(window,"message",a),C=b)}else d.isNodeJS()&&
("undefined"!=typeof process&&process.nextTick)&&(C=function(){process.nextTick(h)});t=setInterval(f,l)}function f(){if(e.Mh)clearInterval(t);else{n=g.getTimeStamp();if(0<k.length){m&&(k.sort(c),m=!1);for(var a;0<k.length&&k[0].time<=n&&!e.Mh;)a=k.shift(),a.lf&&(x.executeTask(a),a.step&&r.push(a))}for(0>=k.length&&(s=0);0<r.length;)a=r.shift(),a.rn=s++,x.addPackedTimedTask(a,a.step,!0);n>=q&&(q=n+p,k=[].concat(k))}}var l=50,m=!1,k=[],n=g.getTimeStamp(),p=108E5,q=n+p,r=[],t=null,s=0,D=d.isBrowserDocument()&&
"http:"==document.location.protocol||"https:"==document.location.protocol?document.location.protocol+"//"+document.location.hostname+(document.location.port?":"+document.location.port:""):"*",C=b,y=!1,x={toString:function(){return["[|Executor",l,k.length,"]"].join("|")},getQueueLength:function(){return k.length},packTask:function(a,b,c){return{lf:a,Gl:b||null,ye:c||null,rn:s++}},addPackedTimedTask:function(a,b,c){a.step=c?b:null;a.time=n+parseInt(b);if(isNaN(a.time))throw"Executor error time: "+a.time;
k.push(a);m=!0},addRepetitiveTask:function(a,b,c,d){return this.addTimedTask(a,b,c,d,!0)},stopRepetitiveTask:function(a){a&&(a.lf=null,a.step=null)},addTimedTask:function(a,b,c,d,f){a=this.packTask(a,c,d);this.addPackedTimedTask(a,b,f);0!=b||y||(y=!0,C());return a},modifyTaskParam:function(a,b,c){a.ye[b]=c},modifyAllTaskParams:function(a,b){a.ye=b},delayTask:function(a,b){a.time+=b;m=!0},executeTask:function(a,b){try{var c=b||a.ye;a.Gl?c?a.lf.apply(a.Gl,c):a.lf.apply(a.Gl):c?a.lf.apply(null,c):a.lf()}catch(d){}}};
d.isWebWorker()?setTimeout(a,1):a();x.getQueueLength=x.getQueueLength;x.packTask=x.packTask;x.addPackedTimedTask=x.addPackedTimedTask;x.addRepetitiveTask=x.addRepetitiveTask;x.stopRepetitiveTask=x.stopRepetitiveTask;x.addTimedTask=x.addTimedTask;x.modifyTaskParam=x.modifyTaskParam;x.modifyAllTaskParams=x.modifyAllTaskParams;x.delayTask=x.delayTask;x.executeTask=x.executeTask;return x});
define("Inheritance",["IllegalStateException"],function(g){function e(b,c,d){if(c)return d?c.apply(b,d):c.apply(b)}var d={Dt:function(b,c,h,a){for(var f in c.prototype)if(!b.prototype[f])b.prototype[f]=c.prototype[f];else if(a){var e;a:{e=c.prototype;var m=void 0;for(m in e)if(e[f]==e[m]&&f!=m){e=m;break a}e=null}if(e){if(b.prototype[e]&&b.prototype[e]!==b.prototype[f]&&c.prototype[e]!==c.prototype[e])throw new g("Can't solve alias collision, try to minify the classes again ("+e+", "+f+")");b.prototype[e]=
b.prototype[f]}}h||(b.prototype._super_=c,b.prototype._callSuperConstructor=d._callSuperConstructor,b.prototype._callSuperMethod=d._callSuperMethod)},_callSuperMethod:function(b,c,d){return e(this,b.prototype._super_.prototype[c],d)},_callSuperConstructor:function(b,c){e(this,b.prototype._super_,c)}};return d.Dt});
define("CookieManager",["Helpers","Environment"],function(g,e){var d=!1,b={areCookiesEnabled:function(){return d},getAllCookiesAsSingleString:function(){return this.areCookiesEnabled()?document.cookie.toString():null},writeCookie:function(b,d){this.xt(b,d,"")},xt:function(b,d,a){this.areCookiesEnabled()&&(document.cookie=encodeURIComponent(b)+"\x3d"+d+"; "+a+"path\x3d/;")},readCookie:function(b){if(!this.areCookiesEnabled())return null;b=encodeURIComponent(b)+"\x3d";for(var d=this.getAllCookiesAsSingleString(),
d=d.split(";"),a=0;a<d.length;a++)if(d[a]=g.trim(d[a]),0==d[a].indexOf(b))return d[a].substring(b.length,d[a].length);return null},removeCookie:function(b){if(this.areCookiesEnabled()){var d=new Date;d.setTime(d.getTime()-864E5);this.xt(b,"deleting","expires\x3d"+d.toGMTString()+"; ")}},Eu:function(){if(e.isBrowserDocument()&&("http:"==document.location.protocol||"https:"==document.location.protocol)){d=!0;var b="LS__cookie_test"+g.randomG();this.writeCookie(b,"testing");var h=this.readCookie(b);
if("testing"==h&&(this.removeCookie(b),h=this.readCookie(b),null==h))return;d=!1}}};b.Eu();b.areCookiesEnabled=b.areCookiesEnabled;b.getAllCookiesAsSingleString=b.getAllCookiesAsSingleString;b.writeCookie=b.writeCookie;b.removeCookie=b.removeCookie;b.readCookie=b.readCookie;return b});
define("lsG",["Environment"],function(g){var e=RegExp("\\.","g"),d=RegExp("-","g"),b={".":!0," ":!0,0:!0},c={dr:function(){return g.isBrowser()?!1===navigator.onLine:!1},sp:function(){try{return"undefined"!=typeof localStorage&&null!==localStorage&&localStorage.getItem&&localStorage.setItem}catch(b){return!1}},kc:function(){try{return document.domain}catch(b){return""}},vm:function(){if(!g.isBrowserDocument())return!0;try{return-1<document.location.host.indexOf("[")?!0:c.kc()==document.location.hostname}catch(b){return!1}},
af:function(h){if("undefined"!=typeof h){if(!0===h||!1===h)return!0===h;if(null!=h)return isNaN(h)||""==h?(h||""==h)&&h.toString?h.toString():isNaN(h)?NaN:h:h.charAt&&h.charAt(0)in b&&h.toString?h.toString():parseFloat(h,10)}return null},rj:function(b){return require.rj?require.rj(b):require(b)},aa:function(b,a){b=b||{};if(a)for(var f in a)b[f]=a[f];return b},Wj:function(b){return b.replace(e,"_").replace(d,"__")},getReverse:function(b){var a={},f;for(f in b)a[b[f]]=f;return a}};return c});
define("lsAZ",["lsA"],function(g){function e(d,b,c){this.id=d;this.R=b;this.status=c}e.prototype={xb:M("status")};return{Sf:function(d,b){return this.An(b+"_"+d)},NB:function(d,b,c){c=c.join("|");this.write(g.Td+b+"_"+d,c)},tl:function(d,b){this.clean(g.Td+b+"_"+d)},Nj:function(d){return this.An(d)},Iz:function(d){d=this.An(d);if(!d)return null;for(var b=[],c=0;c<d.length;c++){var h=d[c].split("_");if(2==h.length){var a=this.Sf(h[1],h[0]);null!=a&&b.push(new e(h[0],h[1],a))}}return b},
Zk:function(d,b,c){d=g.Td+d;b+=c?"_"+c:"";c=this.Mj(d);if(!c)c="|";else if(-1<c.indexOf("|"+b+"|"))return!1;this.write(d,c+(b+"|"));return!0},sh:function(d,b,c){d=g.Td+d;b+=c?"_"+c:"";if(c=this.Mj(d))b="|"+b+"|",-1<c.indexOf(b)&&(c=c.replace(b,"|"),"|"==c?this.clean(d):this.write(d,c))},Rv:function(){for(var d=this.keys(),b=[],c=0;c<d.length;c++)0==d[c].indexOf(g.Td)&&(d[c]=d[c].substring(g.Td.length),b.push(d[c]));return b},An:function(d){d=g.Td+d;d=this.Mj(d);if(!d)return null;d=d.split("|");""==
d[0]&&d.shift();""==d[d.length-1]&&d.pop();return 0<d.length?d:null}}});define("lsAa",["lsG","lsAZ"],function(g,e){return g.aa({Mj:function(d){return localStorage.getItem(d)},write:function(d,b){localStorage.setItem(d,b)},clean:function(d){localStorage.removeItem(d)},keys:function(){for(var d=[],b=0;b<localStorage.length;b++)d.push(localStorage.key(b));return d}},e)});
define("lsAX",["CookieManager","lsAZ","lsG","Helpers"],function(g,e,d,b){return d.aa({Mj:function(b){return g.readCookie(b)},write:function(b,h){g.writeCookie(b,h)},clean:function(b){g.removeCookie(b)},keys:function(){for(var c=[],c=g.getAllCookiesAsSingleString().split(";"),h=0;h<c.length;h++)c[h]=b.trim(c[h]),c[h]=c[h].substring(0,c[h].indexOf("\x3d")),c[h]=decodeURIComponent(c[h]);return c}},e)});
define("Dismissable",["Executor"],function(g){function e(){this.initTouches()}e.prototype={clean:E(),initTouches:function(d){this.po=this.pf=0;this.timeout=d||5E3},IB:function(d){d==this.po&&0>=this.pf&&this.clean()},dismiss:function(){this.pf--;0>=this.pf&&g.addTimedTask(this.IB,this.timeout,this,[this.po])},touch:function(){this.po++;0>this.pf&&(this.pf=0);this.pf++}};e.prototype.touch=e.prototype.touch;e.prototype.dismiss=e.prototype.dismiss;e.prototype.clean=e.prototype.clean;e.prototype.initTouches=
e.prototype.initTouches;return e});define("lsAW","lsAa lsAX Executor Dismissable Inheritance lsA Helpers lsG".split(" "),function(g,e,d,b,c,h,a,f){function l(a){this._callSuperConstructor(l);this.da=a;this.vk=null}var m=[],k=h.Rd+h.Wo,n=6E4;l.prototype={start:function(){this.vk&&d.stopRepetitiveTask(this.vk);this.vk=d.addRepetitiveTask(this.Fp,n,this);d.addTimedTask(this.Fp,0,this)},clean:function(){d.stopRepetitiveTask(this.vk);for(var a=0;a<m.length;a++)if(m[a]==this){m.splice(a,1);
break}},Fp:function(){for(var b=a.getTimeStamp(),f=this.da.Rv(),l=0;l<f.length;l++)0<f[l].indexOf("_")&&this.md(f[l],null,b);for(l=0;l<f.length;l++)-1>=f[l].indexOf("_")&&this.Fu(f[l])},md:function(a,b,f){if(!b){b=a.split("_");if(2!=b.length)return!1;a=b[0];b=b[1]}var l=this.da.Sf(b,a);return l?f?f-l[h.wc]>k?(this.da.tl(b,a),!1):!0:!0:!1},Fu:function(a){for(var b=this.da.Nj(a),f=0;f<b.length;f++)0<b[f].indexOf("_")?this.md(b[f])||this.da.sh(a,b[f]):this.md(b[f],a)||this.da.sh(a,b[f])}};c(l,b,!1,!0);
g=new l(g);var p=new l(e),q=f.sp()?g:p;return{start:function(a){a=a?p:q;for(var b=0;b<m.length;b++)if(m[b]==a){a.touch();return}m.push(a);a.touch();a.start()},stop:function(a){a=a?p:q;for(var b=0;b<m.length;b++)m[b]==a&&a.dismiss()},$B:function(a){n=a;for(a=0;a<m.length;a++)m[a].start()}}});
define("IFrameHandler",["BrowserDetection","EnvironmentStatus","Environment"],function(g,e,d){var b=g.isProbablyAWebkit()&&g.isProbablyChrome(32,!0)?null:"about:blank",c={},h={createFrame:function(a,f){if(!d.isBrowserDocument())return null;var h=document.getElementsByTagName("BODY")[0];if(!h)return null;f=f||b;var e=document.createElement("iframe");e.style.visibility="hidden";e.style.height="0px";e.style.width="0px";e.style.display="none";e.name=a;e.id=a;g.isProbablyIE()||g.isProbablyOldOpera()?(e.src=
f,h.appendChild(e)):(h.appendChild(e),e.src=f);try{if(e.contentWindow){try{e.contentWindow.name=a}catch(k){}c[a]=e.contentWindow;return c[a]}return document.frames&&document.frames[a]?(c[a]=document.frames[a],c[a]):null}catch(n){return null}},getFrameWindow:function(a,b,d){b&&!c[a]&&this.createFrame(a,d);return c[a]||null},disposeFrame:function(a){if(c[a]){try{document.getElementsByTagName("BODY")[0].removeChild(document.getElementById(a))}catch(b){}delete c[a]}},removeFrames:function(){for(var a in c)try{document.getElementsByTagName("BODY")[0].removeChild(document.getElementById(a))}catch(b){}c=
{}}};h.createFrame=h.createFrame;h.getFrameWindow=h.getFrameWindow;h.disposeFrame=h.disposeFrame;h.removeFrames=h.removeFrames;e.addUnloadHandler(h.removeFrames);return h});
define("lsAY","Executor lsA lsAW lsAa lsAX Helpers EnvironmentStatus IFrameHandler LoggerManager lsG Environment".split(" "),function(g,e,d,b,c,h,a,f,l,m,k){function n(a,b,f){k.browserDocumentOrDie();this.R=a;this.aj=this.id=null;this.kk=500;this.ho=b;this.df=null;this.host=location.host;this.pd=null;this.ph=!1;this.pq=0;f?(this.da=c,d.start(!0)):(this.da=q,d.start());this.Hv=f;this.oo=this.ok=null;this.ca();this.ss();this.wq();this.hh={};p.logInfo(l.resolve(19),
this)}var p=l.getLoggerProxy(e.Oa),q=m.sp()?b:c,r=h.randomG(),t=e.wc;n.pm=function(){return q};n.prototype={toString:function(){return["[SharedStatus",this.id,this.R,"]"].join("|")},ca:function(){this.id=r++;this.da.Zk(this.R,this.id)?this.da.Sf(this.R,this.id)?this.ca():(this.pd=this.Nv(),a.addBeforeUnloadHandler(this),a.addUnloadHandler(this)):this.ca()},start:function(){this.oo=g.addRepetitiveTask(this.Lz,e.Rd,this);p.logInfo(l.resolve(20),this)},wq:function(){f.getFrameWindow(this.pd,!0)?(this.kk=
500,this.ok=g.addTimedTask(this.start,0,this)):(this.ok=g.addTimedTask(this.wq,this.kk,this),this.kk*=2)},ba:M("id"),Yt:function(a){a!=this.df&&(this.df=a,this.da.Zk(a,this.id,this.R))},ws:function(a){this.df!=a?p.logError(l.resolve(18),this.df,a):this.df=null;this.da.sh(a,this.id,this.R)},Dw:function(a){a=this.da.Iz(a);if(!a)return 0;for(var b=0,f=0;f<a.length;f++)h.getTimeStamp()-a[f].xb()[t]>e.Rd||b++;return b},ss:function(){this.aj=h.getTimeStamp()+this.pq;this.da.NB(this.R,this.id,[this.aj,this.pd,
this.host,e.Lk,e.Ph])},Lz:function(){if(this.ph)p.logDebug(l.resolve(23)),this.ph=!1;else{var a=!1;if(this.ho){p.logDebug(l.resolve(24),this);var b=this.da.Nj(this.R);if(b){p.logDebug(l.resolve(26),this.R);for(var f=0;f<b.length;f++)if(b[f]!=this.id){var c=this.da.Sf(this.R,b[f]);c?c[e.Ko]!=e.Lk||c[e.Vo]!=e.Ph?p.logDebug(l.resolve(28),b[f]):(c[t]==this.aj&&(this.pq=h.randomG(5)),c[t]>this.aj?a|=this.qy(b[f],c[t]):this.hh[b[f]]&&delete this.hh[b[f]]):p.logDebug(l.resolve(27),b[f])}}else p.logDebug(l.resolve(25),
this)}a||(p.logDebug(l.resolve(29)),this.da.Zk(this.R,this.id),this.ss())}},qy:function(a,b){p.logDebug(l.resolve(30),a,b);if(this.hh[a])if(this.hh[a]!=b)p.logInfo(l.resolve(21)),this.Bi();else return!1;this.hh[a]=b;return!0},Nv:function(){return m.Wj("LSF__"+m.kc()+"_"+this.id+"_"+this.R)},Bi:function(){this.clean();this.ho&&g.executeTask(this.ho)},pr:function(){this.da.tl(this.R,this.id);this.da.sh(this.R,this.id);this.ph=!0},clean:function(){p.logInfo(l.resolve(22),this);g.stopRepetitiveTask(this.oo);
g.stopRepetitiveTask(this.ok);f.disposeFrame(this.pd);this.pd=this.ok=this.oo=null;this.ws(this.df);this.pr()},unloadEvent:function(){this.clean()},preUnloadEvent:function(){this.pr()},ha:function(){this.clean();a.removeBeforeUnloadHandler(this);a.removeUnloadHandler(this);d.stop(this.Hv)}};n.prototype.unloadEvent=n.prototype.unloadEvent;n.prototype.preUnloadEvent=n.prototype.preUnloadEvent;return n});
define("lsAR","lsF Executor LoggerManager BrowserDetection Inheritance CookieManager lsAY Helpers lsA lsG".split(" "),function(g,e,d,b,c,h,a,f,l,m){function k(a,b,f,l,c){this._callSuperConstructor(k,[a]);this.appName=b;this.cl=this.gh=this.ae=null;this.Vn=!0;this.Of={};this.Tc={};this.$m=0;this.Fc=c||5E3;this.$d=null;this.to=!1;this.Ck=this.yk=0;this.so=!1;this.MB=f;this.eg=l;h.areCookiesEnabled()&&e.addRepetitiveTask(this.Ku,6E4,this)}function n(a){for(var b in a)return b}
var p=n({Ub:!0}),q=n({Om:!0}),r=n({Hh:!0}),t=d.getLoggerProxy(l.Oa),s=g.Kt;k.prototype={Ub:function(){this._callSuperMethod(k,p);this.gh=this.ae=null},nf:function(){return null!=this.Fa?(this.kt(),null!==this.Fa?this.Fa:null):null},rv:function(a){this.Vn=!a},Zz:function(a,f){var l=null;if((this.so||null==a)&&this.MB)t.logDebug(d.resolve(31)),l=this.Cv(),this.so=!1;else if(null!=a)t.logDebug(d.resolve(32)),this.Ys(a),this.so=!0;else return 10==this.$m&&t.logDebug(d.resolve(33)),10>=this.$m&&this.$m++,
null;t.logDebug(d.resolve(34));var c=this.kt();t.logDebug(d.resolve(35),c);if(null!=this.Fa){t.logDebug(d.resolve(36));this.Ck=0;try{return this.Of["LS6__"+m.kc()+"_"+this.ae+"_"+this.appName]="OK",this.Fa}catch(h){t.logDebug(d.resolve(37))}}if(b.isProbablyOldOpera()&&f&&l&&"null"==l.log)return t.logDebug(d.resolve(38)),e.executeTask(f),null;this.Ck++;10<=this.Ck&&(this.Ck=0,f&&this.Qx()?(t.logDebug(d.resolve(39)),e.executeTask(f)):(t.logDebug(d.resolve(40)),this.to=!0));return null},Om:function(a,
b,f){return!1===this._callSuperMethod(k,q,[a,!0,b])?!1:this.lt(f)},Qx:function(){if(this.fv)return t.logDebug(d.resolve(41)),!0;if(b.isProbablyOldOpera())return t.logDebug(d.resolve(42)),!0;if(b.isProbablyChrome())return t.logDebug(d.resolve(43)),!0;if(b.isProbablyApple(7,!1))return t.logDebug(d.resolve(44)),!0},hw:function(){if(!h.areCookiesEnabled())return null;this.cl=null;var b=l.Rd+(this.Vn?l.Wo:0),c=a.pm(),k=c.Nj(this.appName);if(!k)return t.logDebug(d.resolve(45)),null;for(var q=0;q<k.length;q++){var r=
k[q]+"_"+this.appName,m=c.Sf(this.appName,k[q]);if(m)if(this.Of[m[l.So]])t.logDebug(d.resolve(47),r);else if(m[l.Ko]!=l.Lk||m[l.Vo]!=l.Ph)t.logDebug(d.resolve(48),m);else{var g=f.getTimeStamp(),s=g-parseInt(m[l.wc]),p=1E3-s;if(s>b)this.Tc[r]?s>2*l.Rd?(this.Tc[r]=null,t.logDebug(d.resolve(49),r)):(this.Tc[r]=m[l.wc],this.eg&&e.executeTask(this.eg,[p]),t.logDebug(d.resolve(50),r)):t.logDebug(d.resolve(51),r);else{if(this.Vn)if(!this.Tc[r]){t.logDebug(d.resolve(52),r);this.Tc[r]=m[l.wc];this.eg&&e.executeTask(this.eg,
[p]);continue}else if(this.Tc[r]==m[l.wc]){t.logDebug(d.resolve(53),r);this.eg&&e.executeTask(this.eg,[p]);continue}this.cl=g+l.Rd-s;t.logDebug(d.resolve(54),r);return{J:m,id:k[q]}}}else t.logDebug(d.resolve(46),r)}return null},Cv:function(){var a=this.hw();if(!a)return!1;var b=a.J,f=b[l.So],a=this.Om(f,this.cl,a.id);this.Of[f]=!1===a||!a.Eh&&!1==a.Np?!1:a.log?a.log:"unknown";b[l.To]&&b[l.To]!=location.host&&(this.fv=!0);return a},Hh:function(){var a=this._callSuperMethod(k,r);a.Eh||(this.ae=null);
return a},kt:function(){return this.ae?this.lt(this.ae):this.uB()},lt:function(a){var b=this.Hh();if(!b.Eh)return b;t.logDebug(d.resolve(55));b=0;try{var f=this.Fa.Lightstreamer["_"+a];if(!f)return b=6,t.logDebug(d.resolve(56),a),this.Ub(),new s(a+" not IN global",b,!1,!1);if(!f.lsEngine)return b=7,t.logDebug(d.resolve(57),a),this.Ub(),new s(a+" not IN ITS global",b,!1,!1);this.ae=a;this.gh=f.lsEngine;b=8;return new s("OK",b,!0,!1)}catch(l){return t.logDebug(d.resolve(58),b,l),this.Ub(),new s("exception "+
b+" "+l,9,!1,!0)}},uB:function(){var a=this.Hh();if(!a.Eh)return a;t.logDebug(d.resolve(59));try{var b=this.Fa.Lightstreamer,f;for(f in b)try{if(0==f.indexOf("_")&&b[f].lsEngine&&b[f].lsEngine.gf==this.appName)return this.gh=b[f].lsEngine,this.ae=this.gh.Rg(),new s("OK",10,!0,!1)}catch(l){}}catch(c){return t.logDebug(d.resolve(60),c),this.Ub(),new s("exception "+c,11,!1,!0)}},Ss:function(a){this.Fc=a;this.li&&(a=this.$d,this.bt(),this.at(a))},at:function(a){this.li||(t.logDebug(d.resolve(61)),this.$d=
a,this.li=e.addRepetitiveTask(this.md,this.Fc,this))},bt:function(){t.logDebug(d.resolve(62));e.stopRepetitiveTask(this.li);delete this.$d;delete this.li},md:function(){null===this.nf()&&this.$d&&e.executeTask(this.$d,[!1]);this.$d&&e.executeTask(this.$d,[!0])},Ku:function(){var a=document.cookie.toString();this.Ju(a);this.Ou(a)},Ju:function(a){var b=this.Of;this.Of={};for(var f in b)b[f]&&-1<a.indexOf(f)&&(this.Of[f]=b[f])},Ou:function(a){var b=this.Tc;this.Tc={};for(var f in b)b[f]&&-1<a.indexOf(f)&&
(this.Tc[f]=b[f])},DB:function(a){this.to=!1;e.addTimedTask(this.CB,2E4,this,[new Number(++this.yk),a])},CB:function(a,b){this.to&&a==this.yk&&(e.executeTask(b),this.yk++)},uu:function(){this.yk++}};c(k,g);return k});
define("Setter",["IllegalArgumentException"],function(g){function e(){}e.prototype.checkPositiveNumber=function(d,b,c){var h=new Number(d);if(isNaN(h))throw new g("The given value is not valid. Use a number");if(!c&&h!=Math.round(h))throw new g("The given value is not valid. Use an integer");if(b){if(0>d)throw new g("The given value is not valid. Use a positive number or 0");}else if(0>=d)throw new g("The given value is not valid. Use a positive number");return h};e.prototype.checkBool=function(d,
b){if(!0===d||!1===d||b&&!d)return!0===d;throw new g("The given value is not valid. Use true or false");};return e});define("lsH",["LoggerManager","lsG","Inheritance","Setter","lsA"],function(g,e,d,b,c){function h(a){this.W="lsH";this.parent=null;this.pp=!1;a&&this.qi(a)}var a=g.getLoggerProxy(c.Kk),f=g.getLoggerProxy(c.Oa);h.prototype={Pi:function(a){return this.Ek[a]},Y:function(b,f){var c=this.Pi(b),h=this[c];this[c]=e.af(f);a.logDebug(g.resolve(64),this.parent,b,this.Si(c));this.parent&&this.pp&&this.Xe(b);h!=this[c]&&this.Dr(b)},Si:function(a){return this.Xp&&this.Xp[a]?"[...]":this[a]},N:function(b,
f){var c=this.Pi(b);f!=this[c]&&(this[c]=f,a.logInfo(g.resolve(63),b,this.Si(c)),this.Xe(b),this.Dr(b))},Yf:function(a,b){this.parent=a;this.pp=b},Xe:function(a){var b=this.Pi(a);f.logDebug(g.resolve(65),a,this.Si(b));return this.parent&&this.parent.Xe&&!this.parent.Xe(this.W,a,e.af(this[b]))?!1:!0},Dr:function(b){var f=this.Pi(b);!this.parent||!this.parent.Fr||this.Br&&this.Br[f]||(a.logDebug(g.resolve(66),b,this.Si(f)),this.parent.Fr(b,this))},qi:function(a){var b=this.Ek,f;for(f in b)this.Y(f,
a[b[f]])}};d(h,b,!1,!0);return h});define("lsJ",["lsH","Inheritance","lsG"],function(g,e,d){function b(a){this.Dm=null;this.Fg=!1;this.Br=c;this.Ek=h;this._callSuperConstructor(b,arguments);this.W="lsJ"}var c={Dm:!0,Fg:!0},h={Fg:"connectionRequested",Dm:"isLocalEngine"},h=d.getReverse(h);e(b,g);return b});
define("lsL","IllegalArgumentException lsA lsH Inheritance Global Environment lsG".split(" "),function(g,e,d,b,c,h,a){function f(){this.Fl=5E5;this.Vi=19E3;this.Bd=this.Oc=this.vf=0;this.Dd=3E3;this.nk=2E3;this.$e=4E3;this.En=5E3;this.Wn=!0;this.fm=null;this.Mp=this.Mn=!1;this.Tj=0;this.Sl=!0;this.Xn=5E3;this.mk=null;this.Fo=!0;this.Ii=2E3;this.jo=4E3;this.Ek=m;this._callSuperConstructor(f,arguments);this.W="lsL"}var l={};l[e.lg]=!0;l[e.rg]=!0;l[e.Qd]=!0;l[e.Qh]=
!0;l[e.Tk]=!0;l[e.Oh]=!0;var m={Fl:"contentLength",Vi:"idleMillis",vf:"keepaliveMillis",Oc:"maxBandwidth",Bd:"pollingMillis",Dd:"reconnectTimeout",nk:"stalledTimeout",$e:"connectTimeout",En:"retryTimeout",Wn:"slowingEnabled",fm:"forcedTransport",Mn:"serverInstanceAddressIgnored",Mp:"cookieHandlingRequired",Tj:"reverseHeartbeatMillis",Sl:"earlyWSOpenEnabled",Xn:"spinFixTimeout",mk:"spinFixEnabled",Fo:"xDomainStreamingEnabled",Ii:"forceBindTimeout",jo:"switchCheckTimeout"},m=a.getReverse(m);f.prototype=
{pA:function(a){this.N("contentLength",this.checkPositiveNumber(a))},cw:M("Fl"),uA:function(a){this.N("idleMillis",this.checkPositiveNumber(a,!0))},qw:M("Vi"),wA:function(a){this.N("keepaliveMillis",this.checkPositiveNumber(a,!0))},tw:M("vf"),yA:function(a){a="unlimited"==(new String(a)).toLowerCase()?0:this.checkPositiveNumber(a,!1,!0);this.N("maxBandwidth",a)},vw:function(){return 0>=this.Oc?"unlimited":this.Oc},DA:function(a){this.N("pollingMillis",this.checkPositiveNumber(a,!0))},Ew:M("Bd"),Iw:M("Dd"),
QA:function(a){this.N("stalledTimeout",this.checkPositiveNumber(a))},Pq:M("nk"),nA:function(a){this.N("connectTimeout",this.checkPositiveNumber(a))},$v:M("$e"),GA:function(a){this.N("retryTimeout",this.checkPositiveNumber(a))},Mw:M("En"),MA:function(a){this.N("slowingEnabled",this.checkBool(a))},Ox:M("Wn"),tA:function(a){if(null!==a&&!l[a])throw new g("The given value is not valid. Use one of: HTTP-STREAMING, HTTP-POLLING, WS-STREAMING, WS-POLLING, WS, HTTP or null");this.N("forcedTransport",a)},
ow:M("fm"),KA:function(a){this.N("serverInstanceAddressIgnored",this.checkBool(a))},Nx:M("Mn"),qA:function(a){if(a&&!h.isBrowser())throw new g("cookieHandlingRequired is only supported on Browsers");this.N("cookieHandlingRequired",this.checkBool(a))},Yi:M("Mp"),rA:function(a){this.N("earlyWSOpenEnabled",this.checkBool(a))},Ax:M("Sl"),HA:function(a){this.N("reverseHeartbeatMillis",this.checkPositiveNumber(a,!0))},Nw:M("Tj"),UA:function(a){this.N("xDomainStreamingEnabled",this.checkBool(a))},Wx:M("Fo"),
sA:function(a){this.N("forceBindTimeout",this.checkPositiveNumber(a))},mw:M("Ii"),RA:function(a){this.N("switchCheckTimeout",this.checkPositiveNumber(a))},Xw:M("jo"),PA:function(a){this.N("spinFixTimeout",this.checkPositiveNumber(a))},Vw:M("Xn"),OA:function(a){this.N("spinFixTimeout",null===this.YB?null:this.checkBool(a))},Uw:M("mk")};f.prototype.setContentLength=f.prototype.pA;f.prototype.getContentLength=f.prototype.cw;f.prototype.setIdleMillis=f.prototype.uA;f.prototype.getIdleMillis=f.prototype.qw;
f.prototype.setKeepaliveMillis=f.prototype.wA;f.prototype.getKeepaliveMillis=f.prototype.tw;f.prototype.setMaxBandwidth=f.prototype.yA;f.prototype.getMaxBandwidth=f.prototype.vw;f.prototype.setPollingMillis=f.prototype.DA;f.prototype.getPollingMillis=f.prototype.Ew;f.prototype.setReconnectTimeout=f.prototype.Pq;f.prototype.getReconnectTimeout=f.prototype.Iw;f.prototype.setStalledTimeout=f.prototype.QA;f.prototype.getStalledTimeout=f.prototype.Pq;f.prototype.setConnectTimeout=f.prototype.nA;f.prototype.getConnectTimeout=
f.prototype.$v;f.prototype.setRetryTimeout=f.prototype.GA;f.prototype.getRetryTimeout=f.prototype.Mw;f.prototype.setSlowingEnabled=f.prototype.MA;f.prototype.isSlowingEnabled=f.prototype.Ox;f.prototype.setForcedTransport=f.prototype.tA;f.prototype.getForcedTransport=f.prototype.ow;f.prototype.setServerInstanceAddressIgnored=f.prototype.KA;f.prototype.isServerInstanceAddressIgnored=f.prototype.Nx;f.prototype.setCookieHandlingRequired=f.prototype.qA;f.prototype.isCookieHandlingRequired=f.prototype.Yi;
f.prototype.setEarlyWSOpenEnabled=f.prototype.rA;f.prototype.isEarlyWSOpenEnabled=f.prototype.Ax;f.prototype.setReverseHeartbeatMillis=f.prototype.HA;f.prototype.getReverseHeartbeatMillis=f.prototype.Nw;f.prototype.setXDomainStreamingEnabled=f.prototype.UA;f.prototype.isXDomainStreamingEnabled=f.prototype.Wx;f.prototype.setForceBindTimeout=f.prototype.sA;f.prototype.getForceBindTimeout=f.prototype.mw;f.prototype.setSwitchCheckTimeout=f.prototype.RA;f.prototype.getSwitchCheckTimeout=f.prototype.Xw;
f.prototype.setSpinFixTimeout=f.prototype.PA;f.prototype.getSpinFixTimeout=f.prototype.Vw;f.prototype.setSpinFixEnabled=f.prototype.OA;f.prototype.getSpinFixEnabled=f.prototype.Uw;b(f,d);return f});
define("lsB",[],function(){function g(e,d,b,c){var h=3,a,f=d;d-=b;b="";var l;l="document".toString();var m=0,k=l.length;for(a=0;a<k;a++)m+=l.charCodeAt(a);l=parseInt(m);if(0<l&&(m=e.length,0<m))for(k=0;f+h-k<=m;k+=3){a=k;if(0<d)for(a=3*l;a>=d;a-=d);a=parseInt(e.substring(k,h-1))-parseInt(e.substring(a,a+2))+c-parseInt(e.substring(f,f+h-k));b=unescape("%"+a.toString(16))+b;h+=3;f+=3;l+=a}return b}return{ex:function(){return g("2844232422362353182342452312352492633183053182412392513042362492412532492362342352342462472452423042312312313182482758859157156756051950251650550051450653351251952051650852152653954583",
116,2,621)},dC:function(){return g("2844232422362353182342452312352492633183053182412392513042362492412532492362342352342462472452423042312312313182482393182292342362492382392362383182422532332342512492422422492342402770",6,7,350)}}});
define("ASSERT",["LoggerManager"],function(g){var e=g.getLoggerProxy("weswit.test"),d=0,b={},c={VOID:b,getFailures:function(){return d},compareArrays:function(b,a,c){if(b.length!=a.length)return this.Lb(),e.logError(g.resolve(479),b,a),!1;if(c)for(d=0;d<b.length;d++){if(b[d]!=a[d])return e.logError(g.resolve(482),b[d],a[d]),this.Lb(),!1}else{c={};for(var d=0;d<b.length;d++)c[b[d]]=1;for(d=0;d<a.length;d++)if(c[a[d]])c[a[d]]++;else return e.logError(g.resolve(480),a[d]),this.Lb(),!1;for(d in c)if(1==
c[d])return e.logError(g.resolve(481),c[d]),this.Lb(),!1}return!0},verifySuccess:function(b,a,c,d,e){return this.Nh(b,a,c,d,!1,e)},verifyException:function(b,a,c){return this.Nh(b,a,c,null,!0)},verifyNotNull:function(b){return null===b?(this.Lb(),e.logError(g.resolve(483),b),!1):!0},verifyValue:function(b,a,c){var d=!1;!0===c?d=b===a:c?d=c(b,a):isNaN(b)?d=b==a:(c=b&&b.charAt?b.charAt(0):null,d=a&&a.charAt?a.charAt(0):null,d="."==c||" "==c||"0"==c||"."==d||" "==d||"0"==d?String(b)==String(a):b==a);
return d?!0:(this.Lb(),e.logError(g.resolve(484),b,a),!1)},verifyDiffValue:function(b,a,c){return(c?b===a:b==a)?(this.Lb(),e.logError(g.resolve(485),b,a),!1):!0},verifyOk:function(b){return b?!0:(this.Lb(),e.logError(g.resolve(486)),!1)},verifyNotOk:function(b){return b?(this.Lb(),e.logError(g.resolve(487)),!1):!0},fail:function(){e.logError(g.resolve(488));this.Lb();return!1},Lb:function(){d++},Nh:function(c,a,d,l,m,k){var n=!1,p=null,q=null;try{p=d!==b?c[a].apply(c,d):c[a]()}catch(r){n=!0,q=r}c=
m?"succes":"failure";return m!=n?(this.Lb(),e.logError(g.resolve(489),c,"for",a,d,l,q),!1):m||l===b?!0:this.verifyValue(p,l,k)}};c.getFailures=c.getFailures;c.fail=c.fail;c.verifyNotOk=c.verifyNotOk;c.verifyOk=c.verifyOk;c.verifyDiffValue=c.verifyDiffValue;c.verifyNotNull=c.verifyNotNull;c.verifyValue=c.verifyValue;c.verifyException=c.verifyException;c.verifySuccess=c.verifySuccess;c.compareArrays=c.compareArrays;return c});
define("lsq","LoggerManager lsG lsB Environment ASSERT lsA".split(" "),function(g,e,d,b,c,h){var a=g.getLoggerProxy(h.Pe),f=d.ex(),l=/^[a-z][a-z0-9-]+$/,m=/^((?:[a-z][a-z.0-9-]+).(?:[a-z][a-z-]+))(?![\w.])/,k=/^((?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?))(?![d])/,n=/^[a-f0-9:]+$/;return{HB:function(a){a=a.toLowerCase();var b=0==a.indexOf("http://")?7:0==a.indexOf("https://")?8:-1;if(-1==b)return"The given server address has not a valid scheme";
var f=a.lastIndexOf(":"),f=f>b?f:a.length,c=this.kq(a,a.indexOf("://"));if(null!=c&&isNaN(c.substring(1)))return"The given server address has not a valid port";c=a.indexOf("/",b);c=c<f?c:f;if("["==a.charAt(b)){if(a=a.substring(b+1,a.lastIndexOf("]")),!n.test(a))return"The given server address is not a valid IPv6"}else if(a=a.substring(b,c),-1<a.indexOf(".")){if(!m.test(a)&&!k.test(a))return"The given server address is not a valid URL"}else if(!l.test(a))return"The given server address is not a valid machine name";
return!0},kq:function(a,b){var f=a.indexOf(":",b+1);if(-1>=f)return null;if(-1<a.indexOf("]")){f=a.indexOf("]:");if(-1>=f)return null;f+=1}else if(f!=a.lastIndexOf(":"))return null;var c=a.indexOf("/",b+3);return-1<c?a.substring(f,c):a.substring(f)},Ru:function(a,b){var f=this.kq(a,a.indexOf("://"));if(f){var c=b.indexOf("/");b=-1>=c?b+f:b.substring(0,c)+f+b.substring(c)}b=0==a.toLowerCase().indexOf("https://")?"https://"+b:"http://"+b;"/"!=b.substr(b.length-1)&&(b+="/");return b},Fw:function(h,l,
d,k,m,D,n,y,x,w,L){L=L&&b.isBrowserDocument()&&!e.vm()?"LS_domain\x3d"+e.kc()+"\x26":"";h="LS_phase\x3d"+h+"\x26"+L+(y?"LS_cause\x3d"+y+"\x26":"");m||D?(h+="LS_polling\x3dtrue\x26",y=w=0,D&&(w=Number(d.Bd),null==x||isNaN(x)||(w+=x),y=d.Vi),isNaN(w)||(h+="LS_polling_millis\x3d"+w+"\x26"),isNaN(y)||(h+="LS_idle_millis\x3d"+y+"\x26")):(0<d.vf&&(h+="LS_keepalive_millis\x3d"+d.vf+"\x26"),w&&(h+="LS_content_length\x3d"+d.Fl+"\x26"));if(m)return l="",0<d.Oc&&(l+="LS_requested_max_bandwidth\x3d"+d.Oc+"\x26"),
null!=k.Xh&&(l+="LS_adapter_set\x3d"+encodeURIComponent(k.Xh)+"\x26"),null!=k.Dk&&(l+="LS_user\x3d"+encodeURIComponent(k.Dk)+"\x26"),d=h+f+l,n&&(d+="LS_old_session\x3d"+n+"\x26"),a.logDebug(g.resolve(69),d),null!=k.Dj&&(d+="LS_password\x3d"+encodeURIComponent(k.Dj)+"\x26"),d;c.verifyOk(l)||a.logError(g.resolve(67));k="LS_session\x3d"+l+"\x26"+h;a.logDebug(g.resolve(68),k);return k},gw:function(b,f){var c={LS_op:"destroy",LS_session:b};f&&(c.LS_cause=f);a.logDebug(g.resolve(70));return c},nw:function(b,
f){var c={LS_op:"force_rebind"};b&&(c.LS_cause=b);null==f||isNaN(f)||(c.LS_polling_millis=f);a.logDebug(g.resolve(71));return c},uw:function(a,b,f){b.LS_build=f;b.LS_phase=a;return b},aw:function(a){return{LS_op:"constrain",LS_requested_max_bandwidth:0<a.Oc?a.Oc:0}},Mq:function(b,f,c){b=f||".js"==c||""==c?(b?this.hm()+"create_session":"bind_session")+c:(b?this.hm():"")+"STREAMING_IN_PROGRESS";a.logDebug(g.resolve(72),b);return b},hm:U("")}});
define("lsK","IllegalArgumentException lsH Inheritance Environment Global lsq lsG".split(" "),function(g,e,d,b,c,h,a){function f(){this.xh=k;this.Os=this.Ns=this.Dj=this.Dk=this.Xh=null;this.Xp=m;this.Ek=l;this._callSuperConstructor(f,arguments);this.W="lsK"}var l={xh:"serverAddress",Xh:"adapterSet",Dk:"user",Dj:"password",Ns:"serverInstanceAddress",Os:"serverSocketName"},l=a.getReverse(l),m={Dj:!0},k=!b.isBrowser()||"http:"!=location.protocol&&"https:"!=
location.protocol?null:location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")+"/";f.prototype={Ws:function(a){if(null===a)a=k;else{"/"!=a.substr(a.length-1)&&(a+="/");var b=h.HB(a);if(!0!==b)throw new g(b);}this.N("serverAddress",a)},Nq:M("xh"),Qs:function(a){this.N("adapterSet",a)},Pv:M("Xh"),TA:function(a){this.N("user",a)},dx:M("Dk"),AA:function(a){this.N("password",a)},Pw:M("Ns"),Qw:M("Os")};f.prototype.setServerAddress=f.prototype.Ws;f.prototype.getServerAddress=f.prototype.Nq;
f.prototype.setAdapterSet=f.prototype.Qs;f.prototype.getAdapterSet=f.prototype.Pv;f.prototype.setUser=f.prototype.TA;f.prototype.getUser=f.prototype.dx;f.prototype.setPassword=f.prototype.AA;f.prototype.getServerInstanceAddress=f.prototype.Pw;f.prototype.getServerSocketName=f.prototype.Qw;d(f,e);return f});
define("lsAQ",["LoggerManager","EnvironmentStatus","ASSERT","lsA"],function(g,e,d,b){function c(a){this.u=null;this.ob=!1;this.p=null;this.b=a;e.addUnloadHandler(this)}var h=g.getLoggerProxy(b.Oa);c.prototype={pc:function(){h.logInfo(g.resolve(73));this.ob=!0;this.b.g.ix()},Rc:function(){h.logInfo(g.resolve(74));this.ob=!1;this.b.Nn()},ga:function(a){return a==this.u},dk:function(a){d.verifyNotOk(this.ob);this.u=a;this.pc()},Ps:function(a){this.u=a;this.ob&&this.Rc()},pk:function(a){this.b.Ag(a)},
se:function(a){this.b.dq(a);this.Rc()},unloadEvent:function(){this.an()},ha:function(){e.removeUnloadHandler(this)}};c.prototype.unloadEvent=c.prototype.unloadEvent;return c});
define("lsAV","lsAQ Inheritance LoggerManager lsG Executor ASSERT lsA Helpers".split(" "),function(g,e,d,b,c,h,a,f){function l(a,b){this._callSuperConstructor(l,[a]);this.Fk=2E3;this.ca();this.yn=b;this.hd=null}var m={py:"newPage",sv:"engineConfiguration",cv:"deletePage",pB:"tableRemove",dd:"updateSubscriptionParams",dd:"updateSubscriptionParams",xj:"onTable",qB:"tableRequestSubmission",hi:"callConnect",ii:"callDisconnect",bA:"sendMex",Fd:"sendLog"},m=b.getReverse(m),
k,n;for(n in{se:!0})k=n;var p=d.getLoggerProxy(a.Oa);l.prototype={toString:function(){return["[|RemoteEngineHandler",this.p,this.Gk,this.me,this.Ta,this.ob,this.u,this.hd,this.Bm,"]"].join("|")},ca:function(a){this.u=null;this.hd=a?this.hd+1:f.randomG()+1;this.me=!1;this.Ta=null;this.ob=this.Gk=!1;this.p=-1;this.ub=null;this.Bm=!1},wm:M("me"),ni:function(){var a=!1;try{var b=this.nf();b&&(a=b.fb().mi(this.p))}catch(f){p,logInfo(d.resolve(76),f),a=!1}a||this.se();return a},mi:function(a,b){p.logDebug(d.resolve(77),
a,this.hd);return b?(p.logDebug(d.resolve(78),b,this.u),a==this.hd&&this.ga(b)):a==this.hd},De:function(a,b){p.logDebug(d.resolve(79),a,this);return this.Ed(a,b,!1,!1)},na:function(a,b){p.logDebug(d.resolve(80),a,this);return this.Ed(a,b,!0,!1)},Kn:function(a,b){p.logDebug(d.resolve(81),a,this);return this.Ed(a,b,!1,!0)},Wf:function(a,b){p.logDebug(d.resolve(82),a,this);return this.Ed(a,b,!0,!0)},fb:function(){var a=this.nf();return a?a.fb():null},Ed:function(a,b,f,c){if(!this.me)return!1;p.logDebug(d.resolve(83),
a);a=m[a];try{var h=this.fb();if(!h)return!1;(c?h.rm(this.p):h.rs).Q(a,this.p,b,f?this.u:null)}catch(l){return this.Bv(l),!1}return!0},hn:function(a,b,f,h,l,d,k,e){this.me=!0;this.Gk=!1;this.p=a;this.u=b;this.Ta=k;this.Fk=2E3;this.ob=e;this.ub.at(c.packTask(this.Ky,this));this.b.Nr(!0,!1,h,l,d);this.b.Ag(f);this.ob&&this.pc()},Rm:function(){this.ub.md();c.addTimedTask(this.ub.md,1E3,this.ub)},Ky:function(a){a?this.ni():this.se()},se:function(a){this.me&&this.ub&&(this.ub.bt(),this.ub.Ub(),this.ca(!0),
this._callSuperMethod(l,k,[a]))},Bv:function(){this.Bm||p.logDebug(d.resolve(84));this.Bm=!0;c.addTimedTask(this.ub.md,0,this.ub)},My:function(a,b){if(this.me||this.Gk)p.logError(d.resolve(75)),h.fail();this.Gk=!0;this.hd++;try{this.ub=a,this.fb().rs.Q(m.newPage,-1,{Do:window,Gj:this.hd,yn:this.yn})}catch(f){return this.ca(!0),!1}c.addTimedTask(this.Ny,this.Fk,this,[b]);this.Fk+=500;return!0},Ny:function(a){c.executeTask(a)},Js:function(a,b,f){this.Kn("engineConfiguration",{cp:a,Vt:f,Hz:b})},an:function(){this.me&&
this.p&&this.De("deletePage",this.p)},mn:function(a,b){a?this.Wf("tableRemove",{w:b}):this.Wf("tableRemove",{Ge:b,kb:this.p})},on:function(a,f,c){a?this.Wf("updateSubscriptionParams",b.aa({w:f},c)):this.Wf("updateSubscriptionParams",b.aa({Ge:f,kb:this.p},c))},xj:function(a,f,c,h,l){this.Wf("onTable",b.aa({zb:a,Ge:f,Db:c,kb:this.p,uk:h},l))},as:function(a,b){this.Wf("tableRequestSubmission",{kb:this.p,w:a,ef:b})},hi:function(){this.Kn("callConnect")},ii:function(){this.Kn("callDisconnect")},uq:function(a,
b,f,c){this.na("sendMex",{Pc:a,$j:b,eh:f,Te:c})},tq:function(a){this.De("sendLog",a)},nf:function(){return this.ub?this.ub.gh:null}};e(l,g);return l});
define("lsAT",["lsAQ","Inheritance","ASSERT","Executor"],function(g,e,d,b){function c(b,a){this._callSuperConstructor(c,[b]);this.la=a;this.p=this.la.fb().$t(b);this.u=this.la.fb().u}c.prototype={wm:U(!0),bound:function(b){var a=this.la;this.b.Nr(!1,b,a.ea,a.ra,a.K);this.b.Ag(a.xb());a.pe()&&this.pc()},ni:function(){return this.la.fb().mi(this.p)},Rm:E(),an:function(){this.la.fb().si(this.p)},Js:function(c,a,f){c="lsK"==c?this.la.ea:"lsL"==c?this.la.ra:
this.la.K;b.addTimedTask(c.Y,0,c,[a,f])},mn:function(c,a){d.verifyOk(c);b.addTimedTask(this.mz,0,this,[this.u,c,a])},mz:function(b,a,f){var c=this.la.fb();c&&c.ga(b)&&(a?c.ti(f):c.Qp(this.p,f))},on:function(c,a,f){b.addTimedTask(this.nz,0,this,[this.u,c,a,f])},nz:function(b,a,f,c){var d=this.la.fb();d&&d.ga(b)&&(a?d.dd(f,c):d.Ak(this.p,f,c))},xj:function(c,a,f,l,d){b.addTimedTask(this.lz,0,this,[this.u,c,a,f,l,d])},lz:function(b,a,f,c,d,k){var e=this.la.fb();e&&e.ga(b)&&e.Sq(a,f,c,this.p,d,k)},as:function(b,
a){this.la.fb().qk(this.p,b,a)},hi:function(){this.la.wi()},ii:function(){this.la.Wp()},uq:function(b,a,f,c){this.la.Xj(b,a,f,c)},tq:function(b){this.la.Fd(b)},by:function(){this.la.Bi()},nf:M("la")};e(c,g);return c});
define("lsAU",["ASSERT","Executor"],function(g,e){function d(b){this.xf=-1;this.nh={};this.Fj={};this.oh={};this.Ej=0;this.j=b}d.prototype={ko:G("j"),xw:function(b,c){this.xf++;this.nh[this.xf]=c;this.Fj[this.xf]=b;this.oh[this.xf]=!1;this.Ej++;var h={};h.kb=this.j.p;h.Ea=this.xf;return h},wb:function(b){return this.nh[b]},Ug:function(b){return this.Fj[b]},KB:function(b){return this.oh[b]},Lu:function(){var b=[],c;for(c in this.nh)b.push(c);b.sort(function(b,a){return b-a});for(c=0;c<b.length;c++)this.vr(b[c]);
g.verifyValue(this.Ej,0);this.xf=-1;this.nh={};this.Fj={};this.oh={};this.Ej=0},clean:function(b){delete this.nh[b];delete this.Fj[b];delete this.oh[b];this.Ej--},kj:function(b){this.wb(b)&&(this.oh[b]=!0)},fj:function(b){var c=this.wb(b);c&&e.addTimedTask(c.onProcessed,0,c,[this.Ug(b)]);this.clean(b)},jj:function(b){var c=this.wb(b);c&&e.addTimedTask(c.onError,0,c,[this.Ug(b)]);this.clean(b)},hj:function(b,c,h){var a=this.wb(b);a&&e.addTimedTask(a.onDeny,0,a,[this.Ug(b),c,h]);this.clean(b)},ij:function(b){var c=
this.wb(b);c&&e.addTimedTask(c.onDiscarded,0,c,[this.Ug(b)]);this.clean(b)},vr:function(b){var c=this.wb(b);c&&e.addTimedTask(c.onAbort,0,c,[this.Ug(b),this.KB(b)]);this.clean(b)}};return d});
define("lsAe",["Executor","LoggerManager","ASSERT","lsA"],function(g,e,d,b){function c(a){this.ry=0;this.sc={};this.Fh={};this.Ov=1;this.Da=null;this.e=a;this.Lp=4E3}var h=e.getLoggerProxy(b.og),a=e.getLoggerProxy(b.Oa);c.prototype={toString:U("[SubscriptionsHandler]"),ko:G("Da"),sd:function(a){return this.sc[this.Fh[a]]||null},Yh:function(a){var b=++this.ry;h.logInfo(e.resolve(87),a);a.Gy(b,++this.Ov,this);this.sc[b]=a;this.Da&&this.Da.ob&&this.un(a)},Qj:function(a){var b=a.ac,
c=a.He;h.logInfo(e.resolve(88),a);if(a.Fm()||a.oe())d.verifyOk(this.Da.wm()),c?this.Da.mn(!0,c):this.Da.mn(!1,b);a.az();c&&delete this.Fh[c];delete this.sc[b];return a},dd:function(a,b){if(d.verifyOk(a.$g()&&this.Da&&this.Da.wm())){var c=a.He;if(c)this.Da.on(!0,c,b);else this.Da.on(!1,a.ac,b)}else h.logError(e.resolve(85),a)},un:function(b,c,m){if(c){if(!b.Hm()||!this.Da.ga(c)||!b.pl(m))return}else b.Hx()||(h.logError(e.resolve(86)),d.fail()),b.hz();m=b.Db;g.addTimedTask(this.un,this.Lp,this,[b,this.Da.u,
m]);a.logDebug(e.resolve(89));this.Da.xj(b.zb,b.ac,m,b.uk,b.Sj)},yj:function(b,c,h,d){var g=this.sc[b];g&&(g.Hm()&&g.xp(h)&&g.pl(d))&&(a.logDebug(e.resolve(90)),g.yj(c),this.Fh[c]=b,this.et(g))},et:function(b,c,h,d,n,p){if(b.Fm()){if(c){if(!this.Da.ga(c)||!b.xp(d)||!b.pl(n))return!1;p++}else p=1;c=(h?2*h:this.Lp)+this.e.Bd;a.logDebug(e.resolve(91));h=g.packTask(this.et,this,[b,this.Da.u,c,b.zb,b.Db,p]);b.ku(h,c);this.Da.as(b.He,p)}},ix:function(){h.logDebug(e.resolve(92));for(var a in this.sc)this.un(this.sc[a])},
zz:function(a){d.verifyNotOk(a.Gx());h.logDebug(e.resolve(93),a);delete this.Fh[a.He];a.Yy();a.dt&&delete this.sc[a.ac]},yz:function(){h.logDebug(e.resolve(94));for(var a in this.sc)this.zz(this.sc[a]);this.Fh={}},zk:function(a,b){var c=this.sd(a[0]);if(!c)return!0;c.update(a,b,!1)},zd:function(a,b,c){a=this.sd(a);if(!a)return!1;a.gy(b,c)},Tb:function(a,b){var c=this.sd(a);if(!c)return!1;c.Zl(b)},Sb:function(a,b){var c=this.sd(a);if(!c)return!1;c.vl(b)},eq:function(a,b,c){(c=this.sd(c))&&c.hA(a,b)},
ft:function(a,b,c,h,d){(a=this.sd(a))&&a.fz(b,c,h,d)},ht:function(a){(a=this.sd(a))&&a.iz()}};return c});
define("lsD",["LoggerManager","Executor","lsA"],function(g,e,d){function b(a,b,c,h){this.Wk=a;this.aq=b;this.ye=c;this.hs=h}function c(a,b,h){this.xg=!0===h;this.Zu=a;this.gq=b;this.L=this.xg?[]:{Rf:0,jg:0,ge:0};this.xg||(this.ac=c.next++,c.Jj[this.ac]=this)}var h=g.getLoggerProxy(d.Oa);c.Jj={};c.next=0;c.Sa=function(){for(var a in this.Jj)this.Jj[a].Sa()};c.remove=function(a){delete this.Jj[a.ac]};c.prototype={Q:function(a,b,c,d){h.logDebug(g.resolve(97),a);this.xg?e.addTimedTask(this.Sr,
0,this,[a,b,c,d]):this.Sr(a,b,c,d)},Sr:function(a,c,h,d){if(this.xg)this.L.push(new b(a,c,h,d)),this.Sa();else{this.ph();this.L[this.L.jg]=new b(a,c,h,d);this.L.jg++;try{e.addTimedTask(this.Sa,0,this)}catch(k){}this.clean()}},clean:function(){for(var a=this.L.Rf;this.L.ge<a;this.L.ge++)delete this.L[this.L.ge]},ph:function(){this.L.ge==this.L.Rf&&this.L.ge==this.L.jg&&(this.L.jg=0,this.L.Rf=0,this.L.ge=0,this.L={Rf:0,jg:0,ge:0})},Sa:function(){if(this.xg)for(;0<this.L.length;){var a=this.L.shift();
this.handleEvent(a)}else{for(var b=this.L.Rf;b<this.L.jg;)a=this.L[b],this.handleEvent(a),b++;this.L.Rf=b}},handleEvent:function(a){try{if(this.Zu.mi(a.aq,a.hs))if(this.gq[a.Wk])this.gq[a.Wk](a.ye);else h.logError(g.resolve(95))}catch(b){h.logError(g.resolve(96))}}};b.prototype.toString=function(){return["[|CrossPageProxy.Event",this.Wk,this.aq,this.ye,this.hs,"]"].join("|")};return c});
define("lso",[],function(){function g(e){this.Eg=e;this.Ie={};this.Je={}}g.prototype={Yh:function(e,d,b,c,h){b={jb:e,Nt:b,Db:c,zb:h,id:d};this.Ie[d]=b;this.Je[e]=b},Qj:function(e){this.Je[e]&&(delete this.Ie[this.Je[e].id],delete this.Je[e])},Mz:function(e){this.Eg.ti(this.sm(e))},Ak:function(e,d){this.Eg.dd(this.sm(e),d)},ha:E(),Yw:function(e){return this.Je[e]?this.Je[e].Nt:null},sm:function(e){return this.Ie[e]?this.Ie[e].jb:null},zx:function(e,d,b){return this.Ie[e]&&this.Ie[e].Db==
d&&this.Ie[e].zb==b},Gm:function(e){return(e=this.Vg().g.sd(e))?e.oe():!1}};return g});
define("lsp","lso Inheritance lsF lsD lsL lsK lsJ LoggerManager lsA lsG".split(" "),function(g,e,d,b,c,h,a,f,l,m){function k(a,c,f,h,l){this._callSuperConstructor(k,[f]);this.tn=new d(a);this.op=c;this.ls=l;this.Wm=null;this.jt=new b(this.Eg,h,!1)}var n={Gm:"isTableSubscribed",uz:"pageCallback",lB:"tableCallback",cu:"addRequestSent",mB:"tableError",rB:"tableSubscription",sB:"tableUnsubscription",zk:"updatePage",
nB:"tableOverflow",Zl:"endOfSnapshot",vl:"clearSnapshot",ij:"messageDiscarded",hj:"messageDenied",jj:"messageError",fj:"messageComplete",kj:"messageOnNetwork",dk:"sessionReadyNotification",Nn:"sessionEnd",pk:"statusChange",bk:"serverError",Tu:"configurationChange",uv:"engineDying",tv:"engineDeath"},n=m.getReverse(n),p=f.getLoggerProxy(l.Oa);k.Et=!1;k.prototype={toString:function(){return["[|RemotePushPageHandler",this.ls,this.op,"]"].join("|")},ha:function(){p.logInfo(f.resolve(98),this);b.remove(this.jt)},
rm:M("jt"),De:function(a,b){p.logDebug(f.resolve(100),a,this);this.Ed(a,b,!1)},na:function(a,b,c){p.logDebug(f.resolve(101),a,this);this.Ed(a,b,c||!0)},Ms:function(a,b,c){p.logDebug(f.resolve(102),a,this);this.Ed(a,b,c-1)},Ed:function(a,b,c){if(!k.Et){a=n[a];c=!0===c?this.Eg.u:!1===c?null:c;try{this.Vg().sk.Q(a,this.op,b,c)}catch(h){p.logInfo(f.resolve(99),h),this.Eg.si(this.Wm)}}},Vg:function(){try{return this.tn.Fa.Lightstreamer["P"+this.ls].lsPage}catch(a){return p.logDebug(f.resolve(103),a),null}},
ah:function(){try{this.tn.Hh();if(!this.tn.Fa)return p.logDebug(f.resolve(104),this),!1;var a=this.Vg();if(!a)return p.logDebug(f.resolve(105),this),!1;var b=a.j;if(!b)return p.logDebug(f.resolve(106),this),!1;var c=b.p;return null!=c&&c!=this.Wm?(p.logDebug(f.resolve(107),this),!1):!0}catch(h){return p.logDebug(f.resolve(108),h,this),!1}},Gm:function(a){try{return this._callSuperMethod(k,n.isTableSubscribed,[a])}catch(b){return p.logDebug(f.resolve(109),b),!1}},hn:function(b,f,d){this.Wm=b;this.De("pageCallback",
{Do:b,u:f,Ta:d.Rg(),K:new a(d.K),ra:new c(d.ra),ea:new h(d.ea),status:d.xb(),ob:d.pe()})},Zr:function(a,b,c,f){this.na("tableCallback",{zb:a,Db:b,Ge:c,w:f})},Hr:function(a){this.na("addRequestSent",{w:a})},Mf:function(a,b,c){this.na("tableError",{cm:a,Pc:b,w:c})},bs:function(a,b,c,f,h){this.na("tableSubscription",{w:a,ay:b,wu:c,$x:f,Fv:h})},cs:function(a){this.na("tableUnsubscription",{w:a})},ds:function(a,b){this.na("updatePage",{ju:a,ZA:b})},$r:function(a,b,c){this.na("tableOverflow",{w:a,item:b,
hy:c})},Tb:function(a,b){this.na("endOfSnapshot",{w:a,item:b})},Sb:function(a,b){this.na("clearSnapshot",{w:a,item:b})},ve:function(a){this.na("messageDiscarded",{Ea:a})},Vr:function(a,b,c){this.na("messageDenied",{Ea:a,Vk:b,Pc:c})},Jf:function(a,b,c){this.na("messageError",{Ea:a,Vk:b,Pc:c})},Ur:function(a){this.na("messageComplete",{Ea:a})},Wr:function(a){this.na("messageOnNetwork",{Ea:a})},pc:function(a){this.Ms("sessionReadyNotification",{a:a},a)},Rc:function(a){this.Ms("sessionEnd",{a:a},a)},
onStatusChange:function(a){this.na("statusChange",{status:a})},Kf:function(a,b){this.na("serverError",{cm:a,Pc:b})},Kr:function(a,b,c){this.De("configurationChange",{Gr:a,Gz:b,GB:c})},Pr:function(){this.De("engineDying")},Or:function(a){this.De("engineDeath",{iB:a})}};e(k,g);return k});
define("lsAf",["lsA"],function(g){return function(e,d){var b=d?e:[];b.Ec=[];d||(b[0]=parseInt(e[0]),b[1]=parseInt(e[1]));for(var c=2,h=e.length;c<h;c++)e[c]?-1==e[c].length?b[c]=g.pg:(d||(b[c]=e[c].toString()),b.Ec.push(c-1)):(d||(b[c]=""===e[c]?"":null),b.Ec.push(c-1));return b}});
define("lsk",["lso","Inheritance","lsAf"],function(g,e,d){function b(c,h){this._callSuperConstructor(b,[c]);this.b=h}b.prototype={Vg:M("b"),ah:U(!0),Zr:function(b,h,a,f){this.b.g.yj(a,f,b,h)},Hr:function(b){this.b.g.ht(b)},Mf:function(b,h,a){this.b.g.eq(b,h,a)},bs:function(b,h,a,f,d){this.b.g.ft(b,h,a,f,d)},cs:E(),ds:function(b,h){this.b.g.zk(d(b,!0),h)},$r:function(b,h,a){this.b.g.zd(b,h,a)},Tb:function(b,h){this.b.g.Tb(b,h)},Sb:function(b,h){this.b.g.Sb(b,h)},
ve:function(b){this.b.q.ij(b)},Vr:function(b,h,a){this.b.q.hj(b,h,a)},Jf:function(b,h,a){this.b.q.jj(b,h,a)},Ur:function(b){this.b.q.fj(b)},Wr:function(b){this.b.q.kj(b)},pc:function(b){this.b.j.dk(b)},Rc:function(b){this.b.j.Ps(b)},onStatusChange:function(b){this.b.j.pk(b)},Kf:function(b,h){this.b.bk(b,h)},Kr:function(b,h,a){("lsK"==b?this.b.ea:"lsL"==b?this.b.ra:this.b.K).Y(h,a)},Pr:function(){this.b.j.Rm()},Or:function(b){this.b.j.se(b)}};e(b,g);return b});
define("lsg",["lsG","LoggerManager","lsA"],function(g,e,d){function b(a){return null==a?null:a.toString()}function c(a){var c={},h;for(h in a)0===h.indexOf("LS_")&&(c[h]=b(a[h]));return c}function h(a,b){this.U=a;this.Cd=b}var a=e.getLoggerProxy(d.Oa);h.prototype={toString:U("[Master EventBridge]"),py:function(b){a.logDebug(e.resolve(110),this);this.Cd.au(b.Do,parseInt(b.Gj),parseInt(b.yn))},xj:function(f){a.logDebug(e.resolve(111),this);this.Cd.Sq(parseInt(f.zb),b(f.Ge),parseInt(f.Db),
parseInt(f.kb),parseInt(f.uk),c(f))},qB:function(b){a.logDebug(e.resolve(112),this);this.Cd.qk(parseInt(b.kb),parseInt(b.w),parseInt(b.ef))},pB:function(c){a.logDebug(e.resolve(113),this);c.w?this.Cd.ti(parseInt(c.w)):this.Cd.Qp(parseInt(c.kb),b(c.Ge))},dd:function(f){a.logDebug(e.resolve(114),this);f.w?this.Cd.dd(parseInt(f.w),c(f)):this.Cd.Ak(parseInt(f.kb),b(f.Ge),c(f))},cv:function(b){a.logDebug(e.resolve(115),this);this.Cd.si(parseInt(b))},Fd:function(b){a.logDebug(e.resolve(116),this);this.U.Fd(c(b))},
bA:function(c){a.logDebug(e.resolve(117),this);this.U.Xj(b(c.Pc),g.af(c.$j),c.eh,g.af(c.Te))},sv:function(c){a.logDebug(e.resolve(118),this);("lsK"==c.cp?this.U.ea:"lsL"==c.cp?this.U.ra:this.U.K).Y(b(c.Hz),c.Vt)},hi:function(){a.logDebug(e.resolve(119),this);this.U.wi()},ii:function(){a.logDebug(e.resolve(120),this);this.U.Wp()}};return h});
define("lsQ",[],function(){function g(e){this.As=e;this.Yj=!0;this.Te=100}g.prototype={$w:function(){var e=this.Te;this.Te+=5E3;return e},toString:function(){return["[|DeleteStatus",this.Yj,this.As,this.Te,"]"].join("|")}};return g});define("lsW",["Executor"],function(g){function e(d,b){this.Ze=d;this.nt=this.kw?this.Ze.Ii:b?2*b:4E3}e.prototype={yd:function(d){d?this.ce():g.addTimedTask(this.Ad,this.nt+Number(this.Ze.Bd),this)},Ad:function(){this.verifySuccess()||this.ce()}};return e});
define("lsV",["Inheritance","lsW","ASSERT"],function(g,e,d){function b(c,h,a,f,d,e){this._callSuperConstructor(b,[c,e]);this.w=h;this.Gj=a;this.xe=f;this.Au=d}b.prototype={verifySuccess:function(){return!this.xe.Ux(this.w,this.Gj)},ce:function(){this.xe.dd(this.w,this.Au,this.nt)},sj:function(){d.fail();this.Lf(this.w,this.Gj)}};g(b,e);return b});
define("lsn","lsD EnvironmentStatus lsp lsk Executor lsG LoggerManager ASSERT lsg lsQ lsV lsA Helpers".split(" "),function(g,e,d,b,c,h,a,f,l,m,k,n,p){function q(a){this.s={};this.yr=1;this.tk={};this.sy=1;this.Bs=p.randomG();this.Zj={};this.be={};this.gt=0;this.ze={};this.U=a;this.u=p.randomG(100)+1;this.rs=new g(this,new l(this.U,this),!0);this.Mu=c.addRepetitiveTask(this.Nu,5E3,
this);e.addBeforeUnloadHandler(this);e.addUnloadHandler(this)}var r=a.getLoggerProxy(n.Oa);q.prototype={toString:function(){return["[|PushPageCollectionHandler",this.u,"]"].join("|")},mi:function(a,b){return-1==a?!0:this.rd(a)?b?this.ga(b):!0:!1},ga:function(a){return a==this.u},rd:function(b){return this.s[b]?this.s[b]:(r.logDebug(a.resolve(125)),null)},rm:function(a){return(a=this.rd(a))?a.rm():null},Lc:function(b){b=this.tk[b];return"undefined"==typeof b?(r.logDebug(a.resolve(126)),null):this.rd(b)},
au:function(b,c,f){var h=this.yr++,k=new l(this.U,this);b=new d(b,c,this,k,f);this.s[h]=b;r.logDebug(a.resolve(127),this);b.hn(h,this.u,this.U)},$t:function(c){var f=this.yr++;c=new b(this,c);this.s[f]=c;r.logDebug(a.resolve(128),this);return f},Qp:function(b,c){r.logDebug(a.resolve(129),this);b&&this.s[b]&&this.s[b].Mz(c)},Yq:function(b){delete this.tk[b];var f;if((f=this.be[b])&&f.Yj){var h=f.$w();f.Yj=!1;5E3<h&&this.wp(0);r.logDebug(a.resolve(130));c.addTimedTask(this.Bz,h,this,[b,f.As])}},wp:function(b){var c=
this.U.Yc;c&&c.Dw(this.U.h.Mc())>b&&r.logWarn(a.resolve(124))},ti:function(b){r.logDebug(a.resolve(131),this);var c=this.tk[b];c&&this.s[c]?this.s[c].Qj(b):(r.logError(a.resolve(121),this),f.fail());this.Yq(b)},Ak:function(b,c,f){r.logDebug(a.resolve(132),this,f);b&&this.s[b]&&this.s[b].Ak(c,f)},dd:function(b,c,f){r.logDebug(a.resolve(133),this,c);var d=++this.gt,l=h.aa({LS_table:b,LS_op:"reconf",LS_win_phase:d},c);this.ze[b]=d;c=new k(this.U.ra,b,d,this,c,f);this.U.h.dA(b,l,c)},Lf:function(a,b){this.ze[a]==
b&&delete this.ze[a]},Ux:function(a,b){return this.ze[a]&&this.ze[a]==b?!0:!1},Bp:function(a){delete this.be[a];delete this.Zj[a];delete this.ze[a]},zp:function(){this.be={};this.Zj={};this.gt=0;this.ze={}},si:function(b){r.logDebug(a.resolve(134),this,b);if(this.s[b]){var c=this.s[b].Je,f;for(f in c)this.ti(f);this.s[b].ha();delete this.s[b]}},du:function(a){this.Zj[a]=!0},Qz:function(a){this.be[a]&&(this.be[a].Yj=!0)},Lx:function(a){return this.Zj[a]},By:function(a){var b=this.s,c;for(c in b)b[c].onStatusChange(a);
return!0},Cy:function(a,b){var c=this.s,f;for(f in c)c[f].Kf(a,b)},Sq:function(b,c,h,d,l,k){f.verifyOk(this.U.pe())||r.logError(a.resolve(122));l=this.s[d];if(!l)r.logError(a.resolve(123),this,d),f.fail();else if(this.U.pe()){var e;l.zx(c,h,b)?e=l.sm(c):(e=this.sy++,this.tk[e]=d,d=this.ew(k,e),l.Yh(e,c,d.add,h,b),this.be[e]=new m(d.remove));r.logDebug(a.resolve(135));l.Zr(b,h,c,e)}},qk:function(a,b,c){3<=c&&this.wp(1);(a=this.s[a].Yw(b))&&this.U.h.cA(b,a,this,2<=c)},ew:function(a,b){this.Bs++;var c=
{LS_table:b,LS_req_phase:this.Bs,LS_win_phase:this.u};h.aa(a,c);return{add:h.aa(a,{LS_op:"add"}),remove:h.aa(c,{LS_op:"delete"})}},Er:function(a){var b=this.s;this.s={};for(var c in b)b[c].Or(a)},yy:function(){var a=this.s,b;for(b in a)a[b].Pr()},Nu:function(){for(var b in this.s)this.s[b].ah()||(r.logDebug(a.resolve(136),this),this.si(b))},pc:function(){this.zp();var a=this.s;this.u++;for(var b in a)a[b].pc(this.u)},Rc:function(){this.zp();var a=this.s;this.u++;for(var b in a)a[b].Rc(this.u)},Bz:function(a,
b){this.be[a]&&this.U.pe()&&this.U.h.eA(a,b,this)},ha:function(){c.stopRepetitiveTask(this.Mu);e.removeBeforeUnloadHandler(this);e.removeUnloadHandler(this)},unloadEvent:function(){this.Er(!1)},preUnloadEvent:function(){this.yy()}};q.prototype.unloadEvent=q.prototype.unloadEvent;q.prototype.preUnloadEvent=q.prototype.preUnloadEvent;return q});
define("lsl",["LoggerManager","BrowserDetection","Helpers","lsA"],function(g,e,d,b){var c=e.isProbablyFX(1.5,!0)?10:50,h=c,a=0,f=0,l=0,m=null,k=null,n=null,p=g.getLoggerProxy(b.Sd);return{ca:function(){h=c;l=f=a=0;n=k=m=null},nx:function(){m=a;k=f;n=l;var b=d.getTimeStamp();l||(l=b);6E4<=b-l&&(a=0,l=b);f&&1E3>b-f&&a++;f=b},Uj:function(){k!=f&&(a=m,f=k,l=n)},rp:function(){if(0!=f){if(!h)return!1;if(a>=h)return p.logError(g.resolve(137)),h=0,!1}return!0}}});
define("lsAH",["Environment","lsG"],function(g,e){function d(b,c,h,a){this.BA(b);this.Zf(c);this.setData(h);this.gk(a)}d.Mt="GET";d.Rh="POST";d.prototype={toString:function(){return["[",this.bc,this.Sh,this.yc,this.sg,"]"].join("|")},BA:function(b){for(;b&&"/"==b.substring(b.length-1);)b=b.substring(0,b.length-1);this.bc=b},Zf:function(b){for(;b&&"/"==b.substring(0,1);)b=b.substring(1);this.Sh=b},gk:function(b){this.sg=b||d.Rh},setData:function(b){this.yc=b||null},Ci:function(b){this.yc?this.Vu(b)||
(this.yc+=b):this.setData(b)},Vu:function(b){return this.yc&&-1<this.yc.indexOf(b)},getFile:M("Sh"),Ua:function(){return this.Sh?this.bc+"/"+this.Sh:this.bc},getData:M("yc"),cx:function(){return this.yc?this.Ua()+"?"+this.yc:this.Ua()},fr:function(){return!(0==this.bc.indexOf("http://")||0==this.bc.indexOf("https://")||0==this.bc.indexOf("file:///"))},Mx:function(b,c){if(!g.isBrowser())return!1;if(this.fr())return g.isWebWorker()?location.hostname==b:e.kc()==b;if(c){if(!this.hr(c))return!1;if("file:"==
c)return""==b}b=b.replace(".",".");return RegExp("^https?://(?:[a-z][a-z0-9-]+.)*"+b+"(?:/|$|:)","i").test(this.bc)},hr:function(b){return g.isBrowser()&&b.indexOf(":")==b.length-1?this.fr()?location.protocol==b:0==this.bc.indexOf(b):!1},va:function(){if(!g.isBrowser())return!0;var b=g.isWebWorker()?location.hostname:e.kc();return!this.Mx(b,location.protocol)},ua:function(){return g.isBrowser()?!this.hr(location.protocol):!0}};d.Wt=new d("about:blank");return d});
define("lsO",[],function(){function g(e,d,b,c,h){this.Vc=e;this.us=d;this.vs=c;this.Ud=b;this.Ce=h}g.Od=1;g.Qe=2;g.Mk=3;g.Oe=4;g.ed=5;g.Me=6;g.Ok=7;g.Ne=8;g.Lo=9;g.prototype={toString:function(){return["[|ControlRequest",this.vs,this.Ud,this.Ce,this.Vc,"]"].join("|")},getKey:M("vs")};return g});
define("lsa",["lsAH","lsO","lsG"],function(g,e,d){function b(){}b.prototype={toString:U("[Encoder]"),rx:function(b){var h=new g;h.Zf((b.qd()==e.Oe?"msg":b.qd()==e.ed?"send_log":b.qd()==e.Ne?"heartbeat":"control")+this.Sg());h.gk(g.Rh);return h},bq:function(b,h,a){for(a=a?"":"\r\n";0<b.getLength();){var f=b.Hi(),d=f.us,g=f.Ud;if(g==e.Od&&d.dh())b.shift();else if(g!=e.Qe||d.gu())if(d&&d.verifySuccess&&d.verifySuccess())b.shift();else return b=f.Vc,g==e.Oe?a+this.Yl(b,d,h):g==e.Me?
a+this.Vl(b,d,h):g==e.Ne?a+this.Wl(b,d,h):g==e.ed?a+this.Xl(b,d,h):a+this.Ul(b,d,h);else d.sj(),b.shift()}return null},expand:function(b,h){var a="";if(b)for(var f in b)f!==h&&(a+=f+"\x3d"+b[f]+"\x26");return a},Lg:function(b,h){var a=this.expand(b);return a+=this.expand(h)},cq:function(b,h,a){var f=this.expand(b,a),f=f+this.expand(h,a);b[a]?f+=a+"\x3d"+b[a]:h&&(f+=a+"\x3d"+h[a]);return"LS_unq\x3d"+f.length+"\x26"+f},Eo:u(),Sg:U(".js"),km:U(0),nm:U(2),Ul:function(b,h,a,f){f=d.aa(f,{LS_session:a});
return this.Lg(b,f)},Vl:function(b,h,a,f){return this.Lg(b,f)},Wl:function(b,h,a,f){return this.Lg(b,f)},Xl:function(b,h,a,f){return a?(f=d.aa(f,{LS_session:a}),this.Lg(b,f)):this.Lg(b)},Yl:function(b,h,a,f){return this.cq(b,f,"LS_message")}};return b});
define("lsb",["lsa","Inheritance","lsG"],function(g,e,d){function b(){}var c=1,h={Yl:"encodeMessageRequest",Ul:"encodeControlRequest",Vl:"encodeDestroyRequest",Wl:"encodeHeartbeatRequest",Xl:"encodeLogRequest"},h=d.getReverse(h);b.prototype={Yl:function(a,c,l,e){e=d.aa(e,{LS_session:l});c.Bo?e.LS_msg_prog||a.LS_msg_prog||(e=d.aa(e,{LS_ack:"",LS_msg_prog:c.qa.zv(c.jb)})):(c.qv(!0),e=d.aa(e,{LS_ack:"",LS_msg_prog:c.qa.ur(c.jb)}));return this._callSuperMethod(b,h.encodeMessageRequest,[a,
c,l,e])},Ul:function(a,f,l,e){e=d.aa(e,{LS_unique:c++});return this._callSuperMethod(b,h.encodeControlRequest,[a,f,l,e])},Vl:function(a,f,l,e){e=d.aa(e,{LS_unique:c++});return this._callSuperMethod(b,h.encodeDestroyRequest,[a,f,l,e])},Wl:function(a,f,l,e){e=d.aa(e,{LS_unique:c++});return this._callSuperMethod(b,h.encodeHeartbeatRequest,[a,f,l,e])},Xl:function(a,f,l,e){e=d.aa(e,{LS_unique:c++});return this._callSuperMethod(b,h.encodeLogRequest,[a,f,l,e])},expand:function(a,b){var c="";if(a)for(var h in a)c=
h!==b?c+(h+"\x3d"+a[h]+"\x26"):c+(h+"\x3d"+encodeURIComponent(a[h])+"\x26");return c},cq:function(a,b,c){a=this.expand(a,c);return a+=this.expand(b,c)}};e(b,g);return b});
define("lsAI",["lsb"],function(g){function e(){for(var b in{pa:!0})this.Th=b;this.W=e}function d(){return!1}function b(){return!0}var c=new g;e.No="LS_container\x3dlsc\x26";e.fc=function(c,a){for(var f in a)c[f]=!0===a[f]?b:!1===a[f]?d:a[f]};e.fc(e,{ta:!1,va:!1,ua:!1,dc:!1,ec:!1,sf:!1});e.prototype={Z:E(),ck:function(b,a,c,d,g,k){this.W.ec()?b.Ci("LS_eng\x3d"+k+"\x26"):b.Ci(e.No);return this.pa(b,a,c,d,g)},pa:U(!1),je:function(){return c}};return e});
define("lsf",["lsa","Inheritance"],function(g,e){function d(){}d.prototype={toString:U("[WSEncoder]"),km:function(b){return b.length+2},Sg:U("")};e(d,g);return d});
define("lsAK","lsAI Inheritance EnvironmentStatus Executor Environment LoggerManager lsG ASSERT lsf lsA".split(" "),function(g,e,d,b,c,h,a,f,l,m){function k(a){this._callSuperConstructor(k);this.k=!1;this.$a=this.zj=this.Xa=this.Ai=null;this.we=this.kh=!1;this.yh=null;this.pn=!1;this.OB=a;this.W=k}function n(a){a=a.toLowerCase();a=0==a.indexOf("http://")?a.replace("http://","ws://"):a.replace("https://","wss://");if(q)return new q(a,r);if("undefined"!=typeof WebSocket)return new WebSocket(a,
r);if("undefined"!=typeof MozWebSocket)return new MozWebSocket(a,r);k.Ll();return null}var p=h.getLoggerProxy(m.ab),q=null;c.isNodeJS()&&(q=a.rj("faye-websocket").Client);var r="js.lightstreamer.com",t=new l,s=!1;k.Ll=function(){s=!0};k.Xz=function(){s=!1};k.yx=function(){return s};g.fc(k,{ta:function(){if(s)return!1;var a=null;"undefined"!=typeof WebSocket?a=WebSocket:"undefined"!=typeof MozWebSocket&&(a=MozWebSocket);return a&&2==a.prototype.CLOSED?!1:q||a},va:!0,ua:function(){return!c.isBrowser()||
"https:"!=location.protocol},dc:!0,ec:!1,sf:!0});k.prototype={toString:function(){return["[|WebSocketConnection",this.k,this.Xa,this.Ai,this.Em(),"]"].join("|")},Z:function(){if(this.$a){p.logDebug(h.resolve(142));this.Xa=null;if(this.$a)try{this.$a.close(1E3)}catch(a){p.logDebug(h.resolve(143),a)}this.Wa()}},pz:function(a,c,f,d,l){if(this.k)p.logError(h.resolve(138));else if(s)return!1;this.we=!1;this.yh=a.bc;this.Xa=c;try{this.$a=n(this.yh)}catch(k){return p.logDebug(h.resolve(144),k),!1}b.addTimedTask(this.qz,
6E3,this,[this.Xa]);var e=this;this.$a.onmessage=function(a){e.jn(a,c,f)};this.$a.onerror=function(){e.Qy(c,d)};this.$a.onclose=function(a){e.Iy(a,c,l,d)};this.$a.onopen=function(){e.Xy(c)};return!0},qz:function(a){if(a==this.Xa&&this.$a&&!this.pn)try{p.logDebug(h.resolve(145)),this.$a.close(1E3)}catch(b){p.logDebug(h.resolve(146))}},pa:function(a,b){if(this.k)return p.logError(h.resolve(139)),null;if(s)return!1;this.zj=a;this.Ai=b;p.logDebug(h.resolve(147),a.Ua());this.Em()&&this.Ks(b);return!0},
xx:function(a){return f.verifyOk(this.yh)?0==this.yh.indexOf(a):(p.logError(h.resolve(140)),!1)},Em:function(){return null!=this.$a&&1==this.$a.readyState},tg:function(a,b){if(!this.Em())return null;b&&(this.tt(b),a.Ci(g.No));p.isDebugLogEnabled()&&p.logDebug(h.resolve(148),a.getFile());try{this.$a.send(a.getFile()+"\r\n"+a.getData())}catch(c){return p.logDebug(h.resolve(149),c),!1}return!0},Ks:function(a){var b=this.tg(this.zj,a);f.verifyOk(null!==b)||p.logError(h.resolve(141),a);b&&(this.k=!0,this.OB.Dv(this.Xa))},
tt:G("Ai"),jn:function(a,c,f){this.Xa!=c||d.isUnloaded()||(p.isDebugLogEnabled()&&p.logDebug(h.resolve(150),a.data),this.kh=!0,b.executeTask(f,[a.data,this.Ai]))},Qy:function(a,c){this.Xa!=a||d.isUnloaded()||(p.logDebug(h.resolve(151)),this.we|=!this.kh,b.executeTask(c,["wsc.unknown",this.Xa,!0,this.we]))},Xy:function(a){this.Xa!=a||d.isUnloaded()||(this.pn=!0,p.logDebug(h.resolve(152)),this.zj&&this.Ks())},Iy:function(a,c,f,l){this.Xa!=c||d.isUnloaded()||(a=a?a.code:-1,p.logDebug(h.resolve(153),
a,this.kh),1E3==a||1001==a?(b.modifyAllTaskParams(f,[this.Xa,!0]),b.addPackedTimedTask(f,300),this.Wa()):(this.we|=!this.kh,f=this.Xa,this.Wa(),b.executeTask(l,["wsc."+a,f,!0,this.we])))},Wa:function(){this.pn=this.k=!1;this.zj=this.Xa=null;this.kh=!1;this.yh=this.$a=null},je:function(){return t}};e(k,g);return k});
define("lsR",["Inheritance","lsW"],function(g,e){function d(b,c,h,a){this._callSuperConstructor(d,[a]);this.Ot=b;this.Ut=h;this.d=c}d.prototype={verifySuccess:function(){return!this.d.ga(this.Ut)},ce:function(){this.d.Ji(this.Ot)},kw:function(){return this.Ze.Ii},sj:E()};g(d,e);return d});
define("lsr","EnvironmentStatus Helpers LoggerManager Executor lsl lsA lsR lsO lsq ASSERT BrowserDetection lsAK".split(" "),function(g,e,d,b,c,h,a,f,l,m,k){function n(a,c,f,h,d){this.ll=b.packTask(this.gz,this);this.kl=b.packTask(this.ln,this);this.jl=b.packTask(this.kn,this);this.I=a;this.he=c;this.a=1;this.ma=0;this.La=100*e.randomG(100);this.c=f;this.M=h;this.rc=f.rc;this.e=f.e;this.sb=f.sb;this.$=null;this.X=f.X;this.Jb=f.Rg();
this.mr=this.ig=this.Xf=0;this.Ee=this.Dd=this.Lm=null;this.reset();d&&(this.We=d.We,this.pb=d.pb,this.Id=d.Id,this.La=d.La,this.Xf=d.Xf,this.ak=d.ak,this.zm=d.zm)}var p=d.getLoggerProxy(h.Sd),q=d.getLoggerProxy(h.Pe);n.Uk=1;n.Pd=2;n.Oo=3;n.Qo=4;n.Po=5;n.At=7;n.Ht=8;n.TB=9;n.WB=10;n.Gt=6;n.Sk=11;n.prototype={reset:function(){this.We=0;this.pb=this.Id=null;this.Xf=0;this.dg=this.ad=this.el=!1;this.io="";this.Zc=!1},Dc:function(a){var b=this.a;this.a=a;this.ma++;a=this.ma;this.a!=b&&this.c.cB(this.M);
return a==this.ma},Xi:function(){this.La++},ga:function(a){return this.La==a},mm:function(){var a=this.a;return 1==a?h.$b:11==a?h.qg:2==a?h.CONNECTING:3==a||4==a||5==a?h.Gb+this.Dq():10==a?h.Re:h.Gb+this.zq()},k:function(){return 1!=this.a&&2!=this.a&&11!=this.a},Tx:function(){return 2==this.a||7==this.a||5==this.a},er:function(){return 3==this.a||8==this.a||9==this.a||10==this.a},Rx:function(){return!this.I},Mc:function(){return this.k()?this.Id:this.ak},Wg:M("pb"),Hb:function(a,b){var f=1!=this.a&&
11!=this.a?!1:!0;if(!c.rp())return this.Qa("mad",f,!0),!1;!1==f&&this.Qa("new."+(b||""),!1,!1);p.logDebug(d.resolve(166),this);this.reset();this.os();this.sb.Y("serverSocketName",null);this.sb.Y("serverInstanceAddress",null);this.ak=this.sb.xh;this.zm=this.e.Mn;this.Xi();return!0},Xd:function(){if(!c.rp())return this.Qa("madb",!1,!0),!1;this.We++;m.verifyOk(6==this.a||4==this.a||1==this.a)||p.logError(d.resolve(154));if(1==this.a){if(!this.Dc(4))return!1;this.os();this.le()}this.Xi();p.logDebug(d.resolve(167),
this);return!0},Cs:function(a,b,c){this.M=a;this.ad||(this.Zc=!1,2==this.a||11==this.a||1==this.a?this.c.cf(this.M,b,c):6==this.a||4==this.a?this.c.lo(this.M,b,c):(this.ad=!0,this.dg=c,this.io=b,this.Ji(b)))},Uz:function(a){this.M=a;this.Zc||(m.verifyOk(2!=this.a&&11!=this.a&&1!=this.a)||p.logError(d.resolve(155)),6==this.a||4==this.a?this.c.Zs(this.M):(this.Zc=!0,this.Ji("slow")))},os:function(){1!=this.a&&11!=this.a||this.rc.Ez();this.I&&this.he&&this.rc.Es()},le:E(),Qa:function(a,b,c){1!=this.a&&
(2!=this.a&&11!=this.a)&&(this.c.wj(this.Mc()),b||this.aA(a),this.M=this.c.cz(this.M,c),this.sb.Y("serverSocketName",null),this.sb.Y("serverInstanceAddress",null),p.logDebug(d.resolve(168),this,a));this.ag(!c)},ag:function(a){this.Xi();this.reset();this.Dc(a?11:1)},nv:function(a){if(this.Dc(3==this.a?4:6)){this.Xi();var b=a;this.I&&(a>this.e.Bd||this.e.Y("pollingMillis",a),b=this.Hw());m.verifyOk(6==this.a||4==this.a)||p.logError(d.resolve(156));4!=this.a&&b&&0<b?(p.logDebug(d.resolve(169)),this.vd(b)):
this.Ad(this.ma)}},Ad:function(a,b){if(a==this.ma){var c="timeout."+this.a+"."+this.We;2==this.a||3==this.a||7==this.a||10==this.a||11==this.a?this.Zc||this.ad?this.c.cf(this.M,c+".switch",this.dg):!this.I||this.he?this.Hb(this.pb,c):this.c.cf(this.M,c,!1):5==this.a?(this.ig--,this.Zc||this.ad?this.c.cf(this.M,c+".switch",this.dg):0<this.ig||this.he?this.Hb(this.pb,c):this.I?this.c.cf(this.M,c+".switch",this.dg):this.Sc(this.M,c)):6==this.a?(this.I&&this.rc.wB(b),this.Xd("loop")):4==this.a?this.Xd("loop1"):
8==this.a?this.AB():9==this.a?this.zB():(p.logError(d.resolve(157),this),m.fail())}},Un:function(){return this.he||this.c.Un()},Sc:function(a,b){var c=this.Un();c&&this.Qa("giveup",1!=this.a&&11!=this.a?!1:!0,!0);this.c.Sc(a,b,c)},Ka:function(a,b,c,f){8==this.a||10==this.a||9==this.a||7==this.a||f?(this.Qa(a,b,!1),this.Ad(this.ma)):2==this.a||3==this.a||5==this.a?this.ad&&!this.he||k.isProbablyAndroidBrowser()?this.c.cf(this.M,this.io+".error",this.dg):(this.Qa(a,b,!1),this.vd(this.e.En)):(p.logError(d.resolve(158),
a,this),m.fail())},cn:function(a){this.$&&this.$.vq&&this.$.vq();8==this.a||9==this.a||10==this.a||3==this.a?this.ad?this.c.lo(this.M,this.io,this.dg):this.Zc?this.c.Zs(this.M):this.nv(a):(p.logError(d.resolve(159),this),m.fail())},Q:function(){2==this.a?this.Dc(3)&&this.yB():3!=this.a&&(7==this.a||5==this.a||9==this.a||10==this.a||8==this.a?this.Dc(8)&&this.BB():(p.logError(d.resolve(160),this),m.fail()))},Il:function(){c.nx();this.Ee=e.getTimeStamp();m.verifyOk(1==this.a||11==this.a)||p.logError(d.resolve(161));
if(!this.Dc(2))return!1;this.vd(this.e.$e);this.$=this.c.Aq()},zg:function(){this.Ee=e.getTimeStamp();m.verifyOk(6==this.a||4==this.a)||p.logError(d.resolve(162),this);if(!this.Dc(6==this.a?7:5))return!1;this.vd(this.Sv());this.$=this.c.Aq()},vd:function(a){return b.addTimedTask(this.Ad,a,this,[this.ma,a])},BB:function(){if(0<this.e.vf){var a=e.getTimeStamp();50>a-this.mr&&this.Lm?b.modifyTaskParam(this.Lm,0,this.ma):(this.mr=a,this.Lm=this.vd(this.e.vf))}},AB:function(){this.Dc(9)&&this.vd(this.e.nk)},
zB:function(){this.Dc(10)&&this.vd(this.e.Dd)},yB:function(){m.verifyValue(this.a,3)||p.logError(d.resolve(163));this.vd(this.e.nk)},Sv:function(){return this.I?this.e.$e+this.e.Vi:0<this.ig&&null!=this.Dd?this.Dd:this.e.$e},Hw:function(){if(4==this.a)return this.e.Bd;var a=this.e.Bd;if(this.Ee)var b=e.getTimeStamp()-this.Ee,a=a>b?a-b:0;return a},xu:function(){this.Ee||(p.logError(d.resolve(164),this),m.fail(),this.Dd=null);var a=e.getTimeStamp()-this.Ee,b=this.e.$e;this.Dd=(a>b?b:a)+b},gz:function(a,
b){!g.isUnloaded()&&this.ga(b)&&""!==a&&(null==a?(c.Uj(),this.Ka("nullresp")):this.$.$o(b,a))},ln:function(a,b,f,d){!g.isUnloaded()&&this.ga(b)&&(c.Uj(),this.Ka("failure."+a,!1,f,d))},kn:function(a){this.ga(a)&&(c.Uj(),this.Ka("wrongend"))},fq:function(){this.Ka("eval")},dz:function(){this.ad||this.Zc||this.c.ez(this.M)},kz:function(){q.isDebugLogEnabled()&&q.logDebug(d.resolve(170));this.Q();8==this.a&&(this.ig=1)},bz:function(a){q.isDebugLogEnabled()&&q.logDebug(d.resolve(171),a);this.Xf=a;this.e.Y("maxBandwidth",
a)},Oy:function(){q.isDebugLogEnabled()&&q.logDebug(d.resolve(172));this.Ka("error41",!0)},Sy:function(){q.isDebugLogEnabled()&&q.logDebug(d.resolve(173));this.Q()},Wy:function(a,b,c,f,h,k){q.isDebugLogEnabled()&&q.logDebug(d.resolve(174));var e=this.ak;null==b||this.zm||(e=b=l.Ru(e,b));e!=this.Id&&(this.c.wj(this.Id),this.Id=e,this.c.gn(this.Id));f&&(this.I?this.e.Y("idleMillis",f):this.e.Y("keepaliveMillis",f));2==this.a?this.pb=a:(m.verifyValue(this.pb,a)||p.logError(d.resolve(165)),this.xu());
this.rc.bB(this.I);this.Q();3==this.a?(this.c.pc(c),this.sb.Y("serverSocketName",h),this.sb.Y("serverInstanceAddress",this.Id),this.el&&(this.ji(),this.el=!1)):this.c.Yr(c);k&&this.c.Ry(k)},Ty:function(a){q.isDebugLogEnabled()&&q.logDebug(d.resolve(175));this.cn(a)},jz:function(){c.Uj();this.Ka("syncerror",!0)},Lr:function(a){q.isDebugLogEnabled()&&q.logDebug(d.resolve(176),a);this.Qa("end",!0,!0)},nn:function(a,b){this.Q();this.c.nn(a,b)},Tb:function(a){this.Q();this.c.Tb(a)},Sb:function(a){this.Q();
this.c.Sb(a)},zd:function(a){this.Q();this.c.zd(a)},dn:function(a,b){this.Q();this.c.dn(a,b)},fn:function(a,b){this.Q();this.c.fn(a,b)},en:function(a,b,c,f){this.Q();this.c.en(a,b,f,c)},ve:function(a,b){this.Q();this.c.ve(a,b)},Jf:function(a,b,c,f){this.Q();this.c.Jf(a,b,f,c)},Mf:function(a,b,c){this.Q();this.c.Mf(a,b,c)},Kf:function(a,b){this.Lr(b);this.c.Kf(a,b)},onUnsubscription:function(a){this.Q();this.c.onUnsubscription(a)},onSubscription:function(a,b,c,f,d){this.Q();this.c.onSubscription(a,
b,c,f,d)},Lf:function(a,b){this.Q();this.c.Lf(a,b)},Ji:function(b){p.logDebug(d.resolve(177),this);var c=l.nw(b,this.rc.im());b=new a(b,this,this.La,this.e);this.X.Bc(this.pb,c,f.Ok,b)},aA:function(a){p.logDebug(d.resolve(178),this);a=l.gw(this.pb,a);this.X.Bc(this.pb,a,f.Me,null,this.Mc())},ji:function(){1!=this.a&&11!=this.a&&(2==this.a?this.el=!0:0>=this.Xf&&0>=this.e.Oc||this.Xf!=this.e.Oc&&this.X.Bc(null,l.aw(this.e),f.Mk,null))}};return n});
define("lsAJ",[],function(){function g(){this.wn=!1;this.Ij=0;this.Ho=!1}g.prototype={jq:function(e,d){if(!d&&!this.Kx(e))return null;0==this.Ij&&"/*"==e.substring(0,2)&&(this.Ho=!0);var b=-1;if(d&&!this.Ho)b=e.length;else{b=e.lastIndexOf(";\n");if(0>b)return null;b+=2}var c=e.substring(this.Ij,b);0==this.Ij&&this.Ho&&(c=c.substring(2,c.length));this.Ij=b;return c},bo:function(e){return this.jq(e,!1)},ao:function(e){return this.jq(e,!0)},Kx:function(e){if(this.wn)return!0;var d=e.indexOf("setPhase("),
b=e.indexOf("setPhase(ph)");if(-1<d){if(-1>=b)return this.wn=!0;d=e.indexOf("setPhase(",d+1);if(-1<d&&e.lastIndexOf(";\n")>d)return this.wn=!0}return!1}};return g});
define("lsAN","lsAI Inheritance Executor BrowserDetection EnvironmentStatus lsAJ Environment LoggerManager lsG lsA".split(" "),function(g,e,d,b,c,h,a,f,l,m){function k(){this._callSuperConstructor(k);this.k=!1;this.Bb=this.oa=this.gc=this.t=null;this.W=k}function n(a){return function(){d.executeTask(a)}}var p=f.getLoggerProxy(m.ab),q=a.isBrowser()?2:3,r;a.isNodeJS()&&(r=l.rj("xmlhttprequest").XMLHttpRequest);var t=null;g.fc(k,{ta:function(){if(null!==
t)return t;b.isProbablyIE(9,!0)?t=!1:"undefined"!=typeof XMLHttpRequest?"undefined"!=typeof(new XMLHttpRequest).withCredentials&&(t=!0):!a.isBrowser()&&r&&(t=!0);null===t&&(t=!1);return t},sf:function(){return!b.isProbablyOldOpera()&&!b.isProbablyPlaystation()},va:!0,ua:!0,dc:!1,ec:!1});k.prototype={toString:function(){return["[|XSXHRConnection",this.k,this.t,this.gc,"]"].join("|")},Z:function(){if(this.k){p.logDebug(f.resolve(179));this.t=null;if(this.oa)try{this.oa.abort()}catch(a){p.logDebug(f.resolve(180))}this.Wa()}},
pa:function(a,b,c,l,k){if(this.k)return null;this.oa=r?new r:new XMLHttpRequest;this.Bb=new h;c=d.packTask(this.jn,this,[b,c,k]);this.oa.onreadystatechange=n(c);this.t=b;this.gc=null;p.logDebug(f.resolve(181),a.Ua());try{this.oa.open(a.sg,a.Ua(),!0),this.oa.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this.oa.send(a.getData()),this.k=!0}catch(e){return p.logDebug(f.resolve(182),e),!1}return!0},jn:function(a,b,h){this.t!=a||c.isUnloaded()||(a=null,this.rf()&&b&&(3==this.oa.readyState?
a=this.Bb.bo(this.oa.responseText):4==this.oa.readyState&&(a=this.Bb.ao(this.oa.responseText)),p.isDebugLogEnabled()&&p.logDebug(f.resolve(183),a),null!=a&&d.executeTask(b,[a,this.t])),4==this.oa.readyState&&(!this.rf()&&b&&d.executeTask(b,[null,this.t]),p.logDebug(f.resolve(184)),this.Wa(),""==a&&h&&d.addTimedTask(this.ih,100,this,[this.t,h])))},ih:function(a,b){d.executeTask(b,[a])},Wa:function(){this.k=!1;this.t=null;this.oa&&(delete this.oa.onreadystatechange,delete this.oa)},rf:function(){try{if(null===
this.gc){if(this.oa.readyState<q)return!1;this.gc=200<=this.oa.status&&299>=this.oa.status}return this.gc}catch(a){return p.logDebug(f.resolve(185),a),!1}}};e(k,g);return k});
define("lsAE","lsAI Inheritance Executor EnvironmentStatus lsAJ LoggerManager lsA".split(" "),function(g,e,d,b,c,h,a){function f(){this._callSuperConstructor(f);this.k=!1;this.Aa=this.Bb=this.t=null;this.W=f}function l(a){return function(){d.executeTask(a)}}var m=h.getLoggerProxy(a.ab),k=null;g.fc(f,{ta:function(){return null!==k?k:k="undefined"!=typeof XDomainRequest?!0:!1},sf:!0,va:!0,ua:!1,dc:!1,ec:!1});f.prototype={toString:function(){return["[|IEXSXHRConnection",
this.k,this.t,"]"].join("|")},Z:function(){if(this.k){m.logDebug(h.resolve(186));this.t=null;if(this.Aa)try{this.Aa.abort()}catch(a){m.logDebug(h.resolve(187))}this.Wa()}},pa:function(a,b,f,k,e){if(this.k)return null;this.Aa=new XDomainRequest;this.Bb=new c;e=d.packTask(this.Wz,this,[b,f,e]);var g=d.packTask(this.np,this,[b,k,"xdr.err"]);k=d.packTask(this.np,this,[b,k,"xdr.timeout"]);f=d.packTask(this.qs,this,[b,f,!1]);this.Aa.onload=l(e);this.Aa.onerror=l(g);this.Aa.ontimeout=l(k);this.Aa.onprogress=
l(f);this.t=b;m.logDebug(h.resolve(188),a.Ua());try{this.Aa.open(a.sg,a.Ua()),this.Aa.send(a.getData()),this.k=!0}catch(D){return m.logDebug(h.resolve(189),D),!1}return!0},np:function(a,c,f){this.t!=a||b.isUnloaded()||(m.logDebug(h.resolve(190)),d.executeTask(c,[f,a]))},qs:function(a,c,f){this.t==a&&!b.isUnloaded()&&c&&(a=f?this.Bb.ao(String(this.Aa.responseText)):this.Bb.bo(String(this.Aa.responseText)),m.isDebugLogEnabled()&&m.logDebug(h.resolve(191),a),null!=a&&d.executeTask(c,[a,this.t]))},Wz:function(a,
c,f){this.t!=a||b.isUnloaded()||(this.qs(a,c,!0),this.Wa(),m.logDebug(h.resolve(192)),f&&d.addTimedTask(this.ih,100,this,[f,this.t]))},ih:function(a,b){d.executeTask(a,[b])},Wa:function(){this.k=!1;this.Bb=this.t=null;this.Aa&&(this.Aa.onload=null,this.Aa.onerror=null,this.Aa.ontimeout=null,this.Aa=this.Aa.onprogress=null)}};e(f,g);return f});
define("lsAA",["lsAI","Inheritance","Executor"],function(g,e,d){function b(){this._callSuperConstructor(b)}g.fc(b,{ta:!1,va:!1,ua:!1,dc:!1,ec:!1});b.prototype={pa:function(b,h,a){a&&d.addTimedTask(this.yd,1E3,this,[a,h]);return!0},yd:function(b,h){d.executeTask(b,["",h])}};e(b,g);return b});
define("lse",["lsb","Inheritance"],function(g,e){function d(){}d.prototype={km:U(15),nm:function(b){return b?encodeURIComponent(b).length-b.length:0},Eo:function(b){return"LS_querystring\x3d"+encodeURIComponent(b)}};e(d,g);return d});define("lsd",["lse","Inheritance"],function(g,e){function d(){}d.prototype={toString:U("[LegacyEncoder]"),Sg:U(".html"),Eo:u()};e(d,g);return d});
define("lsAB","lsAI lsAA Inheritance IFrameHandler Executor Environment LoggerManager lsd lsA lsG".split(" "),function(g,e,d,b,c,h,a,f,l,m){function k(a){this._callSuperConstructor(k);a&&(this.target=m.Wj(a),b.getFrameWindow(a,!0));this.k=!1;this.W=k;this.cj=0}var n=new f,p=a.getLoggerProxy(l.ab);g.fc(k,{ta:function(){return h.isBrowserDocument()},va:!0,ua:!0,dc:!0,ec:!0});k.prototype={toString:function(){return["[|FormConnection",this.target,
"]"].join("|")},Z:function(){p.logDebug(a.resolve(193));this.k=!1;this.cj++},pa:function(b,f,d,h){if(this.k)return null;this._callSuperMethod(k,this.Th,[b,f,d,h]);try{this.cj++;var l=this.Mv();if(!l)return!1;p.logDebug(a.resolve(194),b.Ua());l.Jc.method=b.sg;l.Jc.target=this.target;l.Jc.action=b.Ua();l.Kj.value=b.getData();l.Jc.submit();c.addTimedTask(this.av,1E3,this,[l.Jc,this.cj]);return this.k=!0}catch(e){return p.logDebug(a.resolve(195),e),!1}},Mv:function(){var a=document.getElementsByTagName("BODY")[0];
if(!a)return null;var b={};b.Jc=document.createElement("FORM");try{b.Jc.acceptCharset="utf-8"}catch(c){}b.Jc.style.display="none";b.Kj=document.createElement("INPUT");b.Kj.type="hidden";b.Kj.name="LS_querystring";b.Jc.appendChild(b.Kj);a.appendChild(b.Jc);return b},av:function(a,b){a.parentNode.removeChild(a);b==this.cj&&(this.k=!1)},je:function(){return n}};d(k,e);return k});
define("lsAC","lsAI lsAA lsAH Inheritance IFrameHandler Executor EnvironmentStatus Environment lsAB LoggerManager lsd lsA lsG".split(" "),function(g,e,d,b,c,h,a,f,l,m,k,n,p){function q(a){this._callSuperConstructor(q);this.target=p.Wj(a);this.Cc=0;this.k=!1;this.Ki=null;c.getFrameWindow(this.target,!0);this.W=q}var r=new k,t=m.getLoggerProxy(n.ab);g.fc(q,{ta:function(){return f.isBrowserDocument()},va:!1,ua:!1,dc:!0,ec:!0,sf:!0});
q.prototype={toString:function(){return["[|FrameConnection",this.k,this.target,this.Cc,this.Ki,"]"].join("|")},Pt:function(a){a==this.Cc&&(this.Cc++,this.k&&(this.bp(this.Cc,d.Wt),this.k=!1))},Z:function(){t.logDebug(m.resolve(196));var a=++this.Cc;h.addTimedTask(this.Pt,0,this,[a])},bp:function(b,f,d,h,l){if(b==this.Cc&&!a.isUnloading()){this._callSuperMethod(q,this.Th,[f,d,h,l]);this.Cc++;t.logDebug(m.resolve(197),f.Ua());try{c.getFrameWindow(this.target).location.replace(f.cx()),this.k=!0}catch(k){return t.logDebug(m.resolve(198),
k),!1}return!0}},ey:function(a,b,c,f){this.Ki||(this.Ki=new l(this.target));this.Cc++;if(a=this.Ki.pa(a,b,c,f))this.k=!0;return a},pa:function(a,b,c,f){if(a.method==d.Rh)return this.ey(a,b,c,f);var l=++this.Cc;h.addTimedTask(this.bp,0,this,[l,a,b,c,f]);return!0},je:function(){return r}};b(q,e);return q});
define("lsy","LoggerManager lsAC lsAH lsG Executor EnvironmentStatus IFrameHandler Global Environment Inheritance Dismissable lsA Helpers".split(" "),function(g,e,d,b,c,h,a,f,l,m,k,n,p){function q(a){this.path=a;this.vg=p.randomG();this.status=l.isBrowserDocument()&&(window.ActiveXObject||"undefined"!=typeof XMLHttpRequest)?2:-1;this.$h=++t;this.pd="LS_AJAXFRAME_"+this.$h;this.initTouches();this.pu()}var r=g.getLoggerProxy(n.ab),t=0,s={};q.Qv=function(a){s[a]||(s[a]=
new q(a),s[a].pa(!1));return s[a]};q.prototype={toString:function(){return["[|AjaxFrameHandler",this.status,"]"].join("|")},pu:function(){var a=this;f.sa(this.$h,"LS_a",function(b){a.Hy(b)},"A")},clean:function(){f.sl(this.$h,"LS_a","A");var a=this.path;s[a]&&delete s[a]},ca:function(a){this.vg++;this.status=a?3:0},pa:function(a){if(-1!=this.status&&(r.logDebug(g.resolve(199)),!this.ud())){this.ca(a);a=this.vg;b.dr()&&r.logDebug(g.resolve(200));var f="id\x3d"+this.$h+"\x26";b.vm()||(f+="domain\x3d"+
b.kc()+"\x26");f=new d(this.path,"xhr.html",f);(new e(this.pd)).pa(f);c.addTimedTask(this.Jv,1E4,this,[a]);c.addTimedTask(this.hx,2E3,this,[a])}},Hy:function(){h.isUnloaded()||1==this.status||(r.logDebug(g.resolve(201)),this.status=1)},Jv:function(a){this.vg!=a||this.ud()||(r.logDebug(g.resolve(202)),this.pa(!0))},hx:function(a){this.vg!=a||this.ud()||(r.logDebug(g.resolve(203)),this.status=4)},disable:function(){this.status=-1;this.vg++},ud:function(){return 1===this.status},$q:function(){return-1===
this.status||3===this.status||4===this.status},fA:function(b,c,f){if(this.$q())return!1;if(1!==this.status)return null;r.logDebug(g.resolve(204),b);var d;try{d=!1!==a.getFrameWindow(this.pd).iC(b,c,f)}catch(h){d=!1,r.logDebug(g.resolve(205),h)}!1===d&&this.disable();return d}};m(q,k,!0,!0);return q});
define("lsAL","lsAI Inheritance lsy EnvironmentStatus Executor Environment LoggerManager lsA".split(" "),function(g,e,d,b,c,h,a,f){function l(){this._callSuperConstructor(l);this.error=this.response=this.gc=this.sender=this.t=null;this.k=!1;this.a=0;this.LS_x=this.Py;this.xd=null;this.W=l}var m=a.getLoggerProxy(f.ab);g.fc(l,{ta:function(){return h.isBrowserDocument()&&(window.ActiveXObject||"undefined"!=typeof XMLHttpRequest)},va:!1,ua:!1,dc:!0,ec:!1});l.prototype=
{toString:function(){return["[|XHRConnection",this.k,this.a,this.t,"]"].join("|")},pa:function(b,c,f,h){this.xd=d.Qv(b.bc);if(this.xd.$q())return this.xd.dismiss(),!1;if(!this.xd.ud()||this.k)return null;this.xd.touch();this.t=c;this.gc=null;this.response=f;this.error=h;this.a++;var l=this,e=this.a;this.LS_h=function(){l.Xr(e)};this.k=!0;m.logDebug(a.resolve(206),b.Ua());return this.xd.fA(b.Ua(),b.getData(),this)},Z:function(){if(this.k){this.Wa();m.logDebug(a.resolve(207));try{this.sender&&this.sender.abort&&
this.sender.abort()}catch(b){m.logDebug(a.resolve(208),b)}this.oi()}},rf:function(){try{if(null===this.gc){if(2>this.sender.readyState)return!1;this.gc=200<=this.sender.status&&299>=this.sender.status}return this.gc}catch(b){return m.logDebug(a.resolve(209),b),!1}},Xr:function(f){b.isUnloaded()||(f!=this.a||!this.sender)||4!=this.sender.readyState&&"complete"!=this.sender.readyState||(f=null,this.rf()&&(f=this.sender.responseText,f=f.toString(),"/*"==f.substring(0,2)&&(f=f.substring(2,f.length-2))),
m.isDebugLogEnabled()&&m.logDebug(a.resolve(210),f),this.Wa(),this.response&&c.executeTask(this.response,[f,this.t]),this.oi())},Py:function(){b.isUnloaded()||(myFrameHandler.disable(),m.logDebug(a.resolve(211)),this.Wa(),this.error&&c.executeTask(this.error,["xhr.unknown",this.t]),this.oi())},oi:function(){try{delete this.sender.onreadystatechange}catch(b){m.logDebug(a.resolve(212),b)}try{delete this.sender}catch(c){m.logDebug(a.resolve(213),c)}this.response=this.error=null;this.xd&&this.xd.dismiss()},
Wa:function(){this.k=!1;this.a++}};e(l,g);return l});
define("lsAM","lsAI lsAL Inheritance EnvironmentStatus Executor BrowserDetection lsAJ Environment LoggerManager lsA".split(" "),function(g,e,d,b,c,h,a,f,l,m){function k(){this._callSuperConstructor(k);this.Bb=null;this.W=k}var n=l.getLoggerProxy(m.ab),p=null;g.fc(k,{ta:function(){return null!==p?p:p=f.isBrowserDocument()?h.isProbablyIE()?!1:"undefined"!=typeof XMLHttpRequest?"undefined"!=typeof(new XMLHttpRequest).addEventListener:!1:!1},
sf:function(){return!h.isProbablyOldOpera()},va:!1,ua:!1,dc:!0,ec:!1});k.prototype={toString:function(){return["[|XHRStreamingConnection",this.k,this.a,this.t,"]"].join("|")},pa:function(b,c,f,d,h){b=this._callSuperMethod(k,this.Th,[b,c,f,d]);n.logDebug(l.resolve(214));b&&(this.Bb=new a,this.Hp=h);return b},Xr:function(a){!b.isUnloaded()&&(a==this.a&&this.sender)&&(a=null,this.rf()&&this.response&&(3==this.sender.readyState?a=this.Bb.bo(this.sender.responseText):4==this.sender.readyState&&(a=this.Bb.ao(this.sender.responseText)),
n.isDebugLogEnabled()&&n.logDebug(l.resolve(215),a),null!=a&&c.executeTask(this.response,[a,this.t])),4==this.sender.readyState&&(!this.rf()&&this.response&&c.executeTask(this.response,[null,this.t]),this.Wa(),this.oi(),n.isDebugLogEnabled()&&n.logDebug(l.resolve(216)),""==a&&this.Hp&&c.addTimedTask(this.ih,100,this,[this.t])))},ih:function(a){c.executeTask(this.Hp,[a])}};d(k,e);return k});
define("lsE",["Executor","IFrameHandler","Global","BrowserDetection","lsG"],function(g,e,d,b,c){function h(b){this.$l=b;this.mb=!1;this.Pm=c.kc();this.Up=this.Fi=!1;this.nj=-1;this.$p=b=c.Wj(this.Gq()+"_"+this.Pm);g.addTimedTask(this.Hu,3E3,this);var h="about:blank";this.qj()&&(this.nj=++a,h=d.sa(this.nj,"EQCallback_"+b,this.fx(),"Q"),h="javascript:(function(){document.open();"+("document.domain\x3d'"+c.kc()+"';")+("parent."+h+"(window);")+"document.close();})()");try{this.jc=e.getFrameWindow(b,
!0,h),this.ny()?g.addTimedTask(this.Ql,1,this):this.qj()||this.Ql()}catch(m){}}var a=0;h.prototype={Fq:U(null),Nh:U(!0),ha:function(){g.addTimedTask(e.disposeFrame,0,e,[this.$p]);null!==this.nj&&d.sl(this.nj,"EQCallback_"+this.$p,"Q");this.Up=!0},cg:function(){return this.Fi||this.Up?!1:c.kc()==this.Pm?!0:this.Ym()?!1:!0},ud:M("mb"),Ql:function(){var a=this.Fq();this.qj()?this.jc.document.write("\x3cscript\x3edocument.domain\x3d'"+this.Pm+"';\x3c/script\x3e"):b.isProbablyOldOpera()&&!a||this.jc.document.open();
a&&this.jc.document.write(a);this.qj()||b.isProbablyOldOpera()&&!a||this.jc.document.close();this.mb=this.Nh()},fx:function(){var a=this;return function(b){a.jc=b;a.Ql()}},qj:function(){return b.isProbablyIE()&&!c.vm()},Ym:function(){return b.isProbablyIE()||b.isProbablyOldOpera()||b.isProbablyKonqueror(4.4,!0)},ny:function(){return b.isProbablyKonqueror()},Rt:function(a,b){this.Fi=!0;this.$l&&(this.$l.ye=[a,b],g.executeTask(this.$l))},Hu:function(){this.mb||this.Rt(5)}};return h});
define("lsAG","LoggerManager Executor lsE Inheritance Dismissable lsA Helpers".split(" "),function(g,e,d,b,c,h,a){function f(a,b){this.Tt=a;this._callSuperConstructor(f,[b]);this.Gg=null;this.initTouches()}function l(a,b,c){try{a.appendChild(b),b.src=c}catch(f){}}var m=g.getLoggerProxy(h.ab);f.prototype={toString:U("[JSONPFrame]"),ou:function(a,b){try{var c=this.bw();if(!c)return c;var f=this.jc.document.createElement("script");f.id=a;f.type="text/javascript";e.addTimedTask(l,50,
null,[c,f,b])}catch(h){return m.logDebug(g.resolve(217),h),!1}return!0},ev:function(a){var b=this.jc.document.getElementById(a);e.addTimedTask(function(){b&&b.parentNode&&b.parentNode.removeChild(b)},4E3)},clean:function(){this.ha()},bw:function(){if(this.Gg)return this.Gg;this.Gg=this.jc.document.getElementsByTagName("BODY")[0];if(!this.Gg){if(this.ef)return 2E3<a.getTimeStamp()-this.ef?!1:null;this.ef=a.getTimeStamp();return null}return this.Gg},Gq:function(){return"LS6__JF_"+this.Tt}};b(f,d);b(f,
c,!0,!0);return f});define("lsc",["lse","Inheritance"],function(g,e){function d(){}d.prototype={toString:U("[JSONPEncoder]")};e(d,g);return d});
define("lsAF","lsAI lsAA Inheritance Helpers Environment lsAG Executor LoggerManager lsc lsA".split(" "),function(g,e,d,b,c,h,a,f,l,m){function k(c){this._callSuperConstructor(k);this.originalTarget=c;this.target=c+b.randomG();this.Kb=new h(this.target,a.packTask(this.Ar,this));this.zi=0;this.Fn="script_"+b.randomG();this.ef=null;this.kp=!1;this.oq=!0;this.W=k}var n,p;for(p in{ck:!0})n=p;var q=f.getLoggerProxy(m.ab),r=/(^|&)LS_domain=[^&]*/,
t=new l;g.fc(k,{ta:function(){return c.isBrowserDocument()},va:!0,ua:!0,dc:!0,ec:!0});k.prototype={toString:function(){return["[|JSONPConnection",this.target,this.Fn,this.ef,"]"].join("|")},Ar:function(){this.kp=!0},ck:function(a,b,c,f,h,d){(this.oq||10==this.zi)&&a.Ci("LS_force_head\x3dtrue\x26");this.oq=!1;var l=a.getData(),l=l.replace(r,"");0==l.indexOf("\x26")&&(l=l.substring(1));a.setData(l);return this._callSuperMethod(k,n,[a,b,c,f,h,d])},pa:function(c,d,l,e){this.Z();if(this.kp)return!1;if(!this.Kb.cg()&&
this.Kb.Ym()||10==this.zi)this.Kb.ha(),this.zi=0,this.target=this.originalTarget+b.randomG(),this.Kb=new h(this.target,a.packTask(this.Ar,this));if(!this.Kb.ud())return null;this.zi++;q.logDebug(f.resolve(218),c.Ua());var g=c.Ua(),m=c.getData(),g=this.Kb.ou(this.Fn,g+"?"+m);if(!g)return g;this.Kb.touch();this._callSuperMethod(k,this.Th,[c,d,l,e]);return!0},Z:function(){this.Kb.dismiss();if(this.Kb.cg()||!this.Kb.Ym()){q.logDebug(f.resolve(219));try{this.Kb.ev(this.Fn)}catch(a){}}},je:function(){return t}};
d(k,e);return k});
define("lsz","LoggerManager lsAN lsAE lsAM lsAL lsAC lsAF lsAB lsAA lsAK lsA".split(" "),function(g,e,d,b,c,h,a,f,l,m,k){function n(a,b){this.Qm=a;this.vu=b;this.Hj=-1}function p(){return!1}var q=g.getLoggerProxy(k.ab);n.bC=function(){m.ta=p};n.cC=function(){e.ta=p;d.ta=p;b.ta=p;c.ta=p};n.aC=function(){f.ta=p;h.ta=p};n.Xo=[];k=[e,d,b,h];for(var r=0;r<k.length;r++)k[r].sf()&&
n.Xo.push(k[r]);n.Bt=[e,d,c,a,f];n.mg=[e,d,c,a,h];n.Dx=function(a){return a.W===h};n.kC=function(a){return a.W.prototype.yd!=l.prototype.yd};n.qf=function(a,b,c,f,h){q.logDebug(g.resolve(220),a);if(!a.ta())return q.logDebug(g.resolve(221)),!1;if(b&&!a.va())return q.logDebug(g.resolve(222)),!1;if(c&&!a.dc())return q.logDebug(g.resolve(223)),!1;if(f&&!a.ua())return q.logDebug(g.resolve(224)),!1;if(b=h){a:{for(b=0;b<h.length;b++)if(h[b]==a){a=!0;break a}a=!1}b=!a}if(b)return q.logDebug(g.resolve(225)),
!1;q.logDebug(g.resolve(226));return!0};n.prototype={xm:function(){return this.Hj<this.Qm.length-1},Kq:function(a,b,c){for(q.logDebug(g.resolve(227),a,b,c);this.xm();){this.Hj++;var f=this.Qm[this.Hj];if((!this.vu||f!==d)&&this.qf(f,a,b,c))return f}return null},qf:function(a,b,c,f){return n.qf(a,b,c,f,this.Qm)},zc:function(){q.logDebug(g.resolve(228));this.Hj=-1}};return n});
define("lsAD",["lsAC","BrowserDetection","IFrameHandler","Executor"],function(g,e,d,b){function c(){this.pj=!1}c.prototype={Cz:function(b){(this.pj=b===g)&&d.getFrameWindow("LS6__HOURGLASS",!0)},eB:function(){b.addTimedTask(this.fB,900,this)},fB:function(){if(this.pj&&(this.pj=!1,!e.isProbablyAKhtml()&&!e.isProbablyIE(6,!0)&&!e.isProbablyIE(9,!1)))try{window.open("about:blank","LS6__HOURGLASS",null,!0)}catch(b){}}};return c});
define("lss","lsA Inheritance lsr lsz lsAD lsAH lsG lsq Executor LoggerManager BrowserDetection EnvironmentStatus lsAE".split(" "),function(g,e,d,b,c,h,a,f,l,m,k,n,p){function q(a,c,f,h,d){this._callSuperConstructor(q,arguments);this.Xu=new b(b.mg);this.Ue=this.Ee=this.oj=this.ic=this.Pa=null}function r(a){a&&a!=C||(C++,D=s)}var t={Hb:"createSession",Xd:"bindSession",ag:"shutdown",zg:"bindSent",Q:"onEvent"},t=a.getReverse(t),s=1,D=
1,C=1,y=m.getLoggerProxy(g.Sd),x=m.getLoggerProxy(g.Pe);q.prototype={zq:function(){return this.I?g.Qd:g.lg},Dq:function(){return this.I?g.Qd:g.ng},toString:function(){return["[|SessionHTTP",this.I,this.he,this.a,this.ma,this.La,this.ig,this.pb,this.ad,this.Zc,"]"].join("|")},Hb:function(a,b){if(!this._callSuperMethod(q,t.createSession,[a,b]))return!1;this.Jl(this.ma,b,a);return!0},Jl:function(b,c,f){if(b==this.ma){if(a.dr()){if(0>=D){y.logDebug(m.resolve(230));l.addTimedTask(this.Jl,3E3,this,[b,f,
"offline"]);return}D--;0==D&&l.addTimedTask(r,2E4,null,[C])}b=this.hq(f,this.Jl,c);null!==b&&(b?this.Il():!1===b&&y.logWarn(m.resolve(229)))}},Xd:function(a){if(!this._callSuperMethod(q,t.bindSession,[a]))return!1;this.Ue&&this.Ue.Z();this.Ev();this.ci(this.ma,a);return!0},Ev:function(){if(!n.isLoaded()&&(null===this.e.mk&&(k.isProbablyAndroidBrowser()||k.isProbablyApple())||!0===this.e.mk)){var a=this.We,b=this;n.addOnloadHandler(function(){l.addTimedTask(function(){a==b.We&&b.a==d.Ht&&b.Ji("spinfix")},
b.e.Xn)})}},ci:function(a,f){if(a==this.ma){this.ic||(this.ic=this.I?new b(b.mg):new b(b.Xo,!this.e.Fo));this.oj||this.I||(this.oj=new c);var h=this.hq(null,this.ci,f);null!==h&&(h?this.zg():!1!==h||this.I||this.Sc(this.M,"streaming.unavailable"))}},le:function(){this.a!=d.Uk&&(this.a!=d.Pd&&this.a!=d.Sk)&&(0<this.e.Tj&&!this.I?this.X.aB(this.e.Tj):this.X.ct())},ag:function(a){this._callSuperMethod(q,t.shutdown,[a]);this.Ue&&this.Ue.Z()},Og:function(a,b,c){var l=this.a==d.Uk||this.a==d.Sk,e=this.Mc(),
e=new h(e+g.Pk),k=!e.ua()&&!e.va();a=f.Fw(this.La,this.pb,this.e,this.sb,l,this.I,a,b,this.rc.im(),c,k);e.setData(a);x.logDebug(m.resolve(231),e);return e},hq:function(a,c,e){var k=this.a==d.Uk||this.a==d.Sk,g=!k,q=this.Og(a,e,!0);this.X.bl(null);this.Pa&&this.Pa.W==p&&(this.Pa=null);var n=k?this.Xu:this.ic;this.Pa&&!n.qf(this.Pa.W,q.va(),this.e.Yi(),q.ua())&&(n.zc(),this.Pa=null);for(var t=!1,s=(this.I?"LS6__POLLFRAME":"LS6__PUSHFRAME")+"_"+this.Jb;(this.Pa||n.xm())&&!1===t;){if(!this.Pa){t=n.Kq(q.va(),
this.e.Yi(),q.ua());if(!t)return n.zc(),!1;this.Pa=new t(s)}q.gk(b.Dx(this.Pa)&&g?h.Mt:h.Rh);q.Zf(f.Mq(k,this.I,this.Pa.je().Sg()));t=this.Pa.ck(q,this.La,this.ll,this.kl,this.jl,this.Jb);if(null===t)return y.logDebug(m.resolve(232)),l.addTimedTask(c,50,this,[this.ma,e,a]),null;!1===t?this.Pa=null:(y.logDebug(m.resolve(233)),n.zc(),this.Ue=this.Pa)}return t},zg:function(){this._callSuperMethod(q,t.bindSent);this.Xm()&&this.oj.Cz(this.Ue.W)},Xm:function(){return!this.I},Q:function(){this.a==d.Po&&
r();!this.Xm()||this.a!=d.At&&this.a!=d.Po||this.oj.eB();this._callSuperMethod(q,t.onEvent)}};e(q,d);return q});
define("lsu","lsA lsr lss Inheritance lsAK lsz lsq Executor LoggerManager ASSERT lsAH lsG".split(" "),function(g,e,d,b,c,h,a,f,l,m,k,n){function p(a,b,c,f,h){this._callSuperConstructor(p,arguments);this.S=null;this.Yb=1;this.Nf=null;this.kf=!1}var q={Il:"createSent",Ad:"onTimeout",cn:"onLoop",ln:"onStreamError",kn:"onStreamEnd",Ka:"onErrorEvent",ag:"shutdown"},q=n.getReverse(q),r=l.getLoggerProxy(g.Sd);p.prototype={toString:function(){return["[|SessionWS",
this.I,this.he,this.a,this.ma,this.La,this.Yb,this.ig,this.pb,this.S,this.ad,this.Zc,"]"].join("|")},Zd:G("Yb"),zq:function(){return this.I?g.rg:g.Qh},Dq:function(){return g.ng},qn:function(){m.verifyValue(this.Yb,1)||r.logError(l.resolve(234));this.Nf=this.La;this.S=new c(this);var a=this.Mc(),a=new k(a+g.Pk);if(h.qf(c,a.va(),this.e.Yi(),a.ua())&&(r.logDebug(l.resolve(241)),this.S.pz(a,this.Nf,this.ll,this.kl,this.jl)))return this.X.bl(this.S),this.Zd(2),!0;this.Zd(5);return!1},Il:function(){this._callSuperMethod(p,
q.createSent);this.e.Sl&&!this.kf&&this.qn()},ci:function(b,h){if(b==this.ma)if(this.kf=!1,1==this.Yb?this.qn():2!=this.Yb||this.S.xx(this.Mc())||(r.logWarn(l.resolve(239)),this.S.Z(),this.Zd(1),this.qn()),6==this.Yb)this.Sc(this.M,"ws.early.closed");else if(5==this.Yb)this.Sc(this.M,"ws.notgood");else if(3==this.Yb)c.Ll(),this.Sc(this.M,"ws.early.openfail");else{var d=this.Og(null,h,!1),e=!1;d.Zf(a.Mq(!1,this.I,this.S.je().Sg()));var k=!1;2==this.Yb?(e=this.S.ck(d,this.La,this.ll,this.kl,this.jl,
this.Jb),k=!0):4==this.Yb?e=this.S.tg(d,this.La):(m.fail(),r.logError(l.resolve(235),this));null===e?(r.logDebug(l.resolve(242)),f.addTimedTask(this.ci,50,this,[b,h])):!1===e?(r.logWarn(l.resolve(240)),this.Sc(this.M,"ws.false")):k||(r.logDebug(l.resolve(243)),this.zg())}},Dv:function(a){this.Nf==a&&(r.logDebug(l.resolve(244)),this.zg(),this.Zd(4))},Ad:function(a,b){a==this.ma&&(this.a==e.Pd&&(this.kf=!0),this._callSuperMethod(p,q.onTimeout,[a,b]))},cn:function(a){this._callSuperMethod(p,q.onLoop,
[a]);this.S&&this.S.tt(this.La)},ln:function(a,b,c,f){c?b==this.Nf&&this._callSuperMethod(p,q.onStreamError,[a,this.La,c,f]):(this.a==e.Pd&&(this.kf=!0),this._callSuperMethod(p,q.onStreamError,arguments))},kn:function(a,b){b?a==this.Nf&&(this.a==e.Ft||this.a==e.Pd||this.a==e.Oo?this.Ka("ws.early.end",!1,!0):(m.verifyDiffValue(this.a,e.Qo)||r.logError(l.resolve(236),this),this._callSuperMethod(p,q.onStreamEnd,[this.La,b]))):(this.a==e.Pd&&(this.kf=!0),this._callSuperMethod(p,q.onStreamEnd,arguments))},
Ka:function(a,b,f,h){f?(m.verifyDiffValue(this.Yb,1)||r.logError(l.resolve(237),this),h?this.Zd(3):this.Zd(6),this.a==e.Ft||this.a==e.Pd||this.a==e.Oo?r.logDebug(l.resolve(245),this):this.a==e.Qo?(r.logDebug(l.resolve(246),this),h&&c.Ll(),this.Sc(this.M,"ws.error."+a)):this.I&&this.a==e.Gt?(m.verifyNotOk(h)||r.logError(l.resolve(238),this),r.logDebug(l.resolve(247),this),this.Qa(a,b,!1),this.Ad(this.ma)):this._callSuperMethod(p,q.onErrorEvent,arguments)):(this.a==e.Pd&&(this.kf=!0),this._callSuperMethod(p,
q.onErrorEvent,arguments))},ag:function(a){this._callSuperMethod(p,q.shutdown,[a]);this.S&&(this.Nf=null,this.S.Z(),this.S=null,this.X.bl(null));this.Zd(1)},Xm:U(!1),le:function(){this.X.ct()}};b(p,d);return p});
define("lsm",["Global","LoggerManager","EnvironmentStatus","ASSERT","lsA"],function(g,e,d,b,c){function h(a,b){this.oB=b;this.xv(a)}var a=e.getLoggerProxy(c.Pe),f=!1;h.YA=function(a){f=a};h.prototype={Yd:function(b){a.logDebug(e.resolve(249),b);this.h=b},xv:function(a){var b=this;g.sa(a,"LS_e",function(a,c,f,h,d,l,e,g){b.Zy(a,c,f,h,d,l,e,g)});g.sa(a,"LS_t",E());g.sa(a,"LS_u",function(a,c,f){b.es(a,c,f)});g.sa(a,"LS_v",function(a,c){b.es(a,c,!0)});g.sa(a,"LS_o",function(a,c){b.zd(a,c)});
g.sa(a,"LS_n",function(a,c){b.Tb(a,c)});g.sa(a,"LS_s",function(a,c){b.Sb(a,c)});g.sa(a,"LS_l",function(a,c,f,h){b.Ka(a,c,f,h)});g.sa(a,"LS_w",function(a,c,f,h,d,l,e){b.Jy(a,c,f,h,d,l,e)});g.sa(a,"setTimeout",function(a,b){setTimeout(a,b)});g.sa(a,"alert",function(a){"undefined"!=typeof alert?alert(a):"undefined"!=typeof console&&console.log(a)})},qc:function(b,c,h,g){var p=!f&&!d.isUnloaded()&&null!=this.h;p&&b&&(p&=this.h.ga(b));p&&c&&(p&=this.oB.ga(c));p&&!g&&(p=h?p&this.h.Tx():p&this.h.er());a.isDebugLogEnabled()&&
a.logDebug(e.resolve(250),p);return p},Zy:function(a,b,c,f,h,d,e,g){if(this.qc(b,null,1==a,3==a||4==a))if(1==a)this.h.Wy(c,f,d,h,e,g);else if(2==a)this.h.Ty(c);else if(3==a)this.h.jz();else if(4==a){a=30;if(null!=c){a=c;if(41==a){this.h.Oy();return}if(0<a&&30>a||39<a)a=39}this.Ka(a,b,null,"The session has been forcibly closed by the Server")}else 5==a?this.h.bz(c):this.h.Lr("Unsupported Server version")},es:function(a,b,c){2>b.length?this.qc(a)&&this.h.Sy():this.qc(null,a)&&this.h.nn(b,c||!1)},Tb:function(a,
b){this.qc(null,a)&&this.h.Tb(b)},Sb:function(a,b){this.qc(null,a)&&this.h.Sb(b)},zd:function(a,b){this.qc(null,a)&&this.h.zd(b)},Uy:function(c,f,h,d){if(this.qc())if(b.verifyValue(h.substring(0,3),"MSG")||a.logError(e.resolve(248),h),h=h.substr(3),39==c)for(c=parseInt(d),f=parseInt(f),c=f-c+1;c<=f;c++)this.h.ve(h,c);else 38==c?this.h.ve(h,f):0>=c?this.h.en(h,c,d,f):this.h.Jf(h,c,d,f)},Ka:function(a,b,c,f){null!=c&&isNaN(c)?this.Uy(a,b,c,f):null!=c?this.qc(null,b)&&this.h.Mf(c,a,f):this.qc(b,null,
null,!0)&&this.h.Kf(a,f)},Jy:function(b,c,f,h,d,g,r){if(this.qc(null,4==b||5==b||9==b?null:c))if(4==b)this.h.dn(f,c);else if(5==b)this.h.fn(f,c);else if(8==b)this.h.onUnsubscription(f);else if(6==b)this.h.onSubscription(f,h,d,g+1,r+1);else 9==b?this.h.Lf(f,c):a.logDebug(e.resolve(251),b)}};return h});
define("lsU",["lsO"],function(g){function e(d,b,c){this.Ld=b;this.Ud=c;this.qa=d}e.prototype={dh:function(){var d=this.qa.Lc(this.Ld);return d?d.Gm(this.Ld):!0},gu:function(){return this.qa.Lx(this.Ld)},yd:function(){if(this.Ud==g.Od){var d=this.qa.Lc(this.Ld);d&&d.Hr(this.Ld);this.qa.du(this.Ld)}else this.Ud==g.Qe&&this.qa.Qz(this.Ld)},sj:function(){this.qa.Bp(this.Ld)}};return e});
define("lsv",["LoggerManager","Global","Helpers","ASSERT","lsA"],function(g,e,d,b,c){function h(a,b){this.Pj=0;this.Ja=null;this.Yg=!1;this.e=a;this.d=null;this.tu(b)}var a=g.getLoggerProxy(c.Pe),f=g.getLoggerProxy(c.Sd);h.prototype={toString:function(){return["[","lsv",this.Ja,this.Pj,0.5,7E3,"]"].join("|")},Ex:function(a){return null!=this.Ja&&this.Ja>a},Yd:G("d"),im:function(){return null!=this.Ja&&0<this.Ja?Math.round(this.Ja):null},Es:function(){this.Ja=null;this.Yg=
!1},Ez:function(){this.Yg=!1},wB:function(a){this.mt(a)},kB:function(c,f){a.logDebug(g.resolve(255));this.d&&this.d.ga(c)&&(b.verifyOk(this.d.er())||a.logError(g.resolve(252)),this.d.Rx()&&(this.mt(1E3*f)?this.e.Wn&&this.d.dz():this.d.kz()))},tu:function(a){var b=this;e.sa(a,"LS_s",function(a,c){b.kB(a,c)})},bB:function(a){a||this.Es();this.Pj=d.getTimeStamp()},mt:function(a){var b=d.getTimeStamp();if(!this.Pj)return!0;a=b-this.Pj-a;if(null==this.Ja)return this.Ja=a,f.logDebug(g.resolve(256)),!1;
if(2E4<a&&a>2*this.Ja&&(this.Yg=!this.Yg))return f.logInfo(g.resolve(253)),7E3<this.Ja;this.Ja=0.5*this.Ja+0.5*a;if(60>this.Ja)return this.Ja=0,f.logDebug(g.resolve(257)),!1;if(this.Ex(7E3))return f.logInfo(g.resolve(254)),!0;f.logDebug(g.resolve(258));return!1}};return h});
define("lsP",["LoggerManager","lsO","ASSERT","lsA"],function(g,e,d,b){function c(a){this.Cb=[];this.keys={};this.bi=a;this.jy=0}var h=g.getLoggerProxy(b.og);c.prototype={toString:function(){return["[|ControlRequestBatch",this.bi,this.Cb.length,"]"].join("|")},fp:function(a,b){this.keys[a]=b;this.Cb.push(a)},Ve:function(a,b){var c=a.Ud;if(c==e.Oe||c==e.ed||c==e.Ne){if(this.bi!=c)return h.logError(g.resolve(259),this),d.fail(),!1;this.fp(this.jy++,a);return!0}if(this.bi!=
e.Od)return h.logError(g.resolve(260),this),d.fail(),!1;var m;switch(c){case e.Mk:m="C";break;case e.Ok:m="F";break;case e.Lo:m="X"+a.getKey();break;default:m=a.getKey()}var k=this.keys[m];h.logDebug(g.resolve(264),this,m,a);if(k){if(c==e.Mk||c==e.Ok){b||(h.logDebug(g.resolve(265)),this.fo(m,a));return}if(c==e.Qe){k.Ce?(h.logDebug(g.resolve(266)),b||this.fo(m,a)):k.Ud==e.Qe?h.logDebug(g.resolve(267)):(h.logDebug(g.resolve(268)),d.verifyNotOk(b)||h.logError(g.resolve(261),this),b||this.Pz(m));return}if(c==
e.Me){for(;k&&a.Ce!=k.Ce;)h.logDebug(g.resolve(269)),m+="_",k=this.keys[m];if(k){h.logDebug(g.resolve(270));return}}else{b||(h.logDebug(g.resolve(271)),this.fo(m,a));return}}h.logDebug(g.resolve(272));this.fp(m,a)},getLength:function(){return this.Cb.length},fo:function(a,b){this.keys[a]=b},Cn:function(a){if(this.Cb.length<=a)return h.logError(g.resolve(262)),null;var b=this.Cb[a];this.Cb.splice(a,1);a=this.keys[b];delete this.keys[b];return a},Pz:function(a){if(!this.keys[a])return h.logError(g.resolve(263)),
null;for(var b=0;b<this.Cb.length;b++)if(this.Cb[b]==a)return this.Cn(b)},shift:function(){return this.Cn(0)},pop:function(){return this.Cn(this.Cb.length-1)},wf:function(){return this.qm(this.Cb.length-1)},Hi:function(){return this.qm(0)},qm:function(a){return 0>=this.Cb.length?null:this.keys[this.Cb[a]]},qd:M("bi")};return c});
define("lsN","lsO lsP LoggerManager lsAH Executor lsz lsA ASSERT".split(" "),function(g,e,d,b,c,h,a,f){function l(){this.a=this.Vc=this.Gc=this.Ba=null}function m(a,b,c){this.ic=new h(h.Bt);this.ym=this.vi=this.ej=this.Hl=this.Sm=null;this.th=this.Uf=0;this.a=this.status=this.f=1;this.Lh=0;this.Ra=this.o=null;this.qa=a;this.sb=b;this.Ta=c;this.S=null;this.zc()}var k=d.getLoggerProxy(a.og),n={1:"IDLE",2:"STAND BY",3:"WAITING RESP"};
m.prototype={toString:function(){return["[|ControlConnectionHandler",n[this.status],this.o,this.th,"]"].join("|")},FA:function(a){this.th=a;k.logDebug(d.resolve(290),this)},aB:function(a){this.Uf=a;k.logInfo(d.resolve(280),this);1==this.status&&this.Ls(this.f)},Ls:function(a){1==this.status&&(this.f==a&&0!=this.Uf)&&(k.logDebug(d.resolve(291),this),this.Bc(null,"",g.Ne))},ct:function(){k.logInfo(d.resolve(281),this);this.Uf=0},Z:function(){k.logDebug(d.resolve(292));this.Ra&&this.Ra.Z()},fa:function(a){this.f++;
1==a&&0<this.Uf&&c.addTimedTask(this.Ls,this.Uf,this,[this.f]);this.status=a},zc:function(){k.logDebug(d.resolve(293),this);this.th=0;this.Sm=new e(g.Oe);this.Hl=new e(g.Od);this.ym=new e(g.Ne);this.S=null;this.Uf=0;this.ej||(this.ej=new e(g.ed));this.vi||(this.vi=new e(g.Od));this.Rj=[this.Sm,this.Hl,this.ej,this.vi,this.ym];this.a++;var a=this.o?this.o.qd():null;null!==a&&a!==g.Me&&a!==g.ed?(f.verifyDiffValue(this.status,1)||k.logError(d.resolve(273)),this.Z(),this.o=null,this.fa(1),this.Sa(!1,
"reset1")):null===a&&(f.verifyValue(this.status,1)||k.logError(d.resolve(274)),f.verifyValue(this.o,null)||k.logError(d.resolve(275)),this.Sa(!1,"reset2"))},bl:function(a){a?k.logDebug(d.resolve(294),this):this.S&&k.logDebug(d.resolve(295),this);this.S=a},Bc:function(a,b,f,h,d){c.addTimedTask(this.bu,0,this,[this.a,a,b,f,h,d])},ol:function(a,b){return b==g.Me||b==g.ed?!0:this.a===a},hp:function(a,b){a==g.Oe?this.Sm.Ve(b):a==g.ed?this.ej.Ve(b):a==g.Me?this.vi.Ve(b):a==g.Ne?this.ym.Ve(b):this.Hl.Ve(b)},
bu:function(a,b,c,f,h,e){this.ol(a,f)&&(k.logInfo(d.resolve(282),this,c),a=new g(c,h,f,b,e),this.hp(f,a),1==this.status?this.Sa(!0,"add"):k.logDebug(d.resolve(296),this))},Sa:function(a,b){!0===a?(k.logDebug(d.resolve(297),a,this),this.Rp(this.f,b)):c.addTimedTask(this.Rp,!1===a?0:a,this,[this.f,"async."+b])},Rp:function(a,b){if(a==this.f){for(var c=0;1>c;){c++;this.fa(2);k.logDebug(d.resolve(298),b,this);var f=null;null!=this.o?(k.logDebug(d.resolve(299)),f=this.Is(this.o)):(k.logDebug(d.resolve(300)),
f=this.$z());if(1==f)k.logInfo(d.resolve(283)),this.o=null;else{if(2==f){k.logInfo(d.resolve(284));this.Sa(200,"later");return}if(3==f){k.logWarn(d.resolve(277));this.o&&this.o.bn(!0);this.o=null;this.Sa(!1,"no");return}if(4==f){k.logInfo(d.resolve(285));this.fa(3);this.o.bn();this.Sa(4E3,"http");return}if(5==f)k.logInfo(d.resolve(286)),this.fa(3),this.o.bn(),this.o=null,this.fa(1);else{k.logInfo(d.resolve(287));this.Z();this.fa(1);return}}}this.Sa(!1,"limit")}},$z:function(){for(var a=0;a<this.Rj.length;){this.Lh=
this.Lh<this.Rj.length-1?this.Lh+1:0;if(0<this.Rj[this.Lh].getLength())return this.Is(this.Rj[this.Lh]);a++}return null},Is:function(h){var e;e=this.qa.Mc();var l=h.Hi();e=l?new b((l.Ce&&!0!==l.Ce?l.Ce:e)+a.Pk):null;if(null==e)return k.logDebug(d.resolve(301)),1;k.logDebug(d.resolve(302));l=!1;if(this.S){k.logDebug(d.resolve(303));l=this.Op(h,this.S);if(null==l)return k.logDebug(d.resolve(304)),1;e.Zf(l.getFile());e.setData(l.getData());l=this.S.tg(e);if(!1===l)this.S=null;else return null===l?2:
5}this.Ra&&!this.ic.qf(this.Ra.W,e.va(),!1,e.ua())&&(this.ic.zc(),this.Ra=null);for(;this.Ra||this.ic.xm();){if(!this.Ra){l=this.ic.Kq(e.va(),!1,e.ua());if(!l)return k.logWarn(d.resolve(278),this.Ra),f.fail(),this.ic.zc(),3;this.Ra=new l("LS6__CONTROLFRAME");k.logDebug(d.resolve(305),this.Ra)}l=this.Op(h,this.Ra);if(null==l)return k.logDebug(d.resolve(306)),1;e.Zf(l.getFile());e.setData(l.getData());e.gk(l.sg);this.o.CA(this.f);this.Ra.Z();l=this.Ra.pa(e,this.o.a,c.packTask(this.$y,this),c.packTask(this.Ka,
this));if(!1===l)k.logDebug(d.resolve(307)),this.Ra=null;else{if(null===l)return k.logDebug(d.resolve(308)),2;this.ic.zc();return 4}}!1!==l&&(k.logError(d.resolve(276)),f.fail());return 3},Op:function(a,b){var c=b.je();if(null==this.o)this.o=new l,this.o.Ts(c),this.o.fill(a,this.th,this.qa.Wg());else if(this.o.oy(c)&&(this.o.Ts(c),c=this.o.Kz(this.th,this.qa.Wg())))for(var f=c.qd();0<c.getLength();)this.hp(f,c.shift());return this.o.bh()?this.o=null:this.o.Vc},$y:function(a,b){this.o&&b==this.o.a&&
(k.logInfo(d.resolve(288),b),this.fa(1),this.o=null,this.Sa(!1,"ready4next"))},Ka:function(a,b){this.o&&b==this.o.a&&(k.logInfo(d.resolve(289),this,a),this.fa(1),this.o=null,this.Sa(!1,"error"))}};l.prototype={toString:function(){return this.Ba?this.Ba.toString():null},qd:function(){return this.Ba?this.Ba.qd():null},Hi:function(){return this.Ba?this.Ba.Hi():null},getLength:function(){return this.Ba?this.Ba.getLength():0},shift:function(){return this.Ba?this.Ba.shift():null},oy:function(a){return a!=
this.Gc},Ts:G("Gc"),fill:function(a,b,c){if(!(0>=a.getLength())){this.Ba=new e(a.qd());this.Vc=this.Gc.rx(a);var f="",h=this.Gc.bq(a,c,!0);if(null===h)this.Vc=this.Ba=null;else{var l=this.Gc.km(this.Vc.getFile()),g=this.Gc.nm(h)+h.length;0<b&&g+l>b&&k.logWarn(d.resolve(279),f);do f+=h,this.Ba.Ve(a.shift()),l+=g,0<a.getLength()&&(h=this.Gc.bq(a,c))&&(g=this.Gc.nm(h)+h.length);while(h&&(0==b||l+g<b)&&0<a.getLength());f?this.Vc.setData(this.Gc.Eo(f)):this.Vc=null}}},Kz:function(a,b){var c=this.Ba;this.Ba=
null;this.fill(c,a,b);return 0<c.getLength()?c:null},CA:G("a"),bh:function(){return 0>=this.getLength()},bn:function(a){for(var b=0,f=null;f=this.Ba.qm(b);)(f=f.us)&&c.addTimedTask(f.yd,0,f,[a]),b++}};return m});
define("lsS",["Inheritance","lsW","lsG"],function(g,e){function d(b,a,c,e,g,k,n){this._callSuperConstructor(d,[a]);this.Ln=e;this.jb=g;this.$j=k;this.a=c;this.qa=b;this.Bo=n}var b,c;for(c in{yd:!0})b=c;d.prototype={yd:function(c){this._callSuperMethod(d,b,[c]);c||(this.qa.gA(this.$j,this.jb),this.Bo||this.qa.ty(this.$j,this.jb))},verifySuccess:function(){return this.qa.Gu(this.a)&&this.Ln.q[this.jb]&&null!=this.Ln.q[this.jb].qh?!1:!0},ce:function(){this.qa.Vz(this.jb,this)},sj:E(),
qv:G("Bo")};g(d,e);return d});
define("lsT",["lsS","lsO","LoggerManager","lsA"],function(g,e,d,b){function c(a,b,c){this.Vh=!1;this.lj=0;this.Hd={};this.bd={};this.qt=0;this.X=a;this.r=b;this.Ze=c}var h=d.getLoggerProxy(b.og);c.prototype={Z:function(){this.Vh=!1;this.Hd={};this.qt=0;this.bd={};this.lj++;h.logDebug(d.resolve(314))},Yk:function(){h.logDebug(d.resolve(315));if(!this.Vh){for(var a in this.Hd){var b=this.Hd[a],c;for(c in b.q)if(null!=b.q[c].qh){var e=new g(this,this.Ze,
this.lj,b,c);this.Jn(c,query,e)}}this.Vh=!0}},tg:function(a,c,e,m){h.logDebug(d.resolve(316));var k=this.Hd[c];null==k&&(k={Bf:0,q:{}},this.Hd[c]=k);k.Bf++;a={LS_message:a};var n=!1;e&&(a.LS_outcome="",n=!0);c!=b.xc&&(a.LS_sequence=encodeURIComponent(c),n=!0);m&&(a.LS_max_wait=m,n=!0);n&&(a.LS_ack="",a.LS_msg_prog=c==b.xc?this.ur(k.Bf):k.Bf);m={};m.qh=a;m.eh=e;k.q[k.Bf]=m;this.Vh&&(h.logDebug(d.resolve(317),a),c=new g(this,this.Ze,this.lj,k,k.Bf,c,n),this.Jn(k.Bf,a,c))},ur:function(a){var b=++this.qt;
this.bd[b]=a;return b},uh:function(a){return this.bd[a]?this.bd[a]:a},Nz:function(a){for(var b in this.bd)if(this.bd[b]==a){delete this.bd[b];break}},zv:function(a){for(var b in this.bd)if(this.bd[b]==a)return b},Gu:function(a){return a==this.lj},Vz:function(a,b){var c=b.Ln.q[a].qh;h.logDebug(d.resolve(318),c);this.Jn(a,c,b)},Jn:function(a,b,c){this.X.Bc(a,b,e.Oe,c)},Xt:function(a,c){c=a==b.xc?this.uh(c):c;h.logInfo(d.resolve(309),a,c);var e=this.Hd[a];e.q[c]&&(null!=e.q[c].qh&&(h.logDebug(d.resolve(319)),
e.q[c].qh=null),null==e.q[c].eh&&(h.logDebug(d.resolve(320)),this.Se(a,c)))},ty:function(a,b){h.logDebug(d.resolve(321),a,b);this.Se(a,b)},Se:function(a,c){h.logDebug(d.resolve(322));var e=this.Hd[a];e&&e.q[c]&&(delete e.q[c],a==b.xc&&this.Nz(c))},wb:function(a,b){var c=this.Hd[a];return c&&c.q[b]&&c.q[b].eh?c.q[b].eh:null},gA:function(a,b){h.logDebug(d.resolve(323),a,b);var c=this.wb(a,b);if(c){var e=this.r.rd(c.kb);e&&e.Wr(c.Ea)}},Qt:function(a,c){c=a==b.xc?this.uh(c):c;h.logInfo(d.resolve(310),
a,c);var e=this.wb(a,c);if(e){var g=this.r.rd(e.kb);g&&g.Ur(e.Ea)}this.Se(a,c)},xy:function(a,c){c=a==b.xc?this.uh(c):c;h.logInfo(d.resolve(311),a,c);var e=this.wb(a,c);if(e){var g=this.r.rd(e.kb);g&&g.ve(e.Ea)}this.Se(a,c)},wy:function(a,c,e,g){g=a==b.xc?this.uh(g):g;h.logInfo(d.resolve(312),a,g);var k=this.wb(a,g);if(k){var n=this.r.rd(k.kb);n&&n.Vr(k.Ea,c,e)}this.Se(a,g)},zy:function(a,c,e,g){g=a==b.xc?this.uh(g):g;h.logInfo(d.resolve(313),a,g);var k=this.wb(a,g);if(k){var n=this.r.rd(k.kb);n&&
n.Jf(k.Ea,c,e)}this.Se(a,g)}};return c});
define("lsi",["LoggerManager","Executor","Global","ASSERT","lsA"],function(g,e,d,b,c){function h(a){this.Ta=a;this.vb=[];this.Tq=!1;this.lsc={};this.lsc.LS_window=d["_"+a];this.dv=this.Lv(this.lsc)}var a=g.getLoggerProxy(c.ab);h.prototype={toString:function(){return"[EvalQueue|"+this.vb.length+"]"},Lv:function(){eval("var lsc \x3d arguments[0]");return function(a){with(lsc)eval(a)}},$o:function(b,c){this.cg()&&(this.vb.push({Aj:b,tb:c}),a.isDebugLogEnabled()&&a.logDebug(g.resolve(325)),
e.addTimedTask(this.ui,0,this))},Yd:G("d"),ui:function(){for(a.isDebugLogEnabled()&&a.logDebug(g.resolve(326),this.vb.length);0<this.vb.length;){var c=this.vb.shift();if(this.d&&this.d.ga(c.Aj))try{this.dv(c.tb)}catch(h){this.Tq=!0,this.vb=[],b.fail(),a.logError(g.resolve(324),h,c.tb),this.d.fq()}else a.isDebugLogEnabled()&&a.logDebug(g.resolve(327),c.Aj,this.d)}},cg:function(){return!this.Tq},ha:E()};return h});
define("lsh",[],function(){function g(e){this.lsc={};this.lsc.LS_window=e;this.mb=!1}g.prototype={ud:M("mb"),dw:M("lsc"),vv:function(e){eval("var lsc \x3d this.lsc");with(lsc)eval(e);this.mb=!0}};return g});
define("lsw","LoggerManager Executor lsE Inheritance Global lsh lsA".split(" "),function(g,e,d,b,c,h,a){function f(a,b){this.Ta=a;this._callSuperConstructor(f,[e.packTask(this.Rr,this)]);this.vb=[];this.yi=b?b:new h(c["_"+a])}var l=g.getLoggerProxy(a.ab),m=0;f.prototype={toString:function(){return"[WrappedEvalQueue|"+this.vb.length+"]"},$o:function(a,b){this.cg()&&(this.vb.push({Aj:a,tb:b}),l.isDebugLogEnabled()&&l.logDebug(g.resolve(329)),e.addTimedTask(this.ui,
0,this))},vq:function(){this.Fi=!0},Yd:G("d"),Fq:U("\x3cscript\x3ewindow.evalProxy \x3d function(lsc,_p){with(lsc){eval(_p);}};\x3c/script\x3e"),Nh:function(){return this.jc.evalProxy?!0:!1},Gq:function(){return"LS6__EQ_"+this.Ta+"_"+ ++m},ui:function(){if(this.mb)for(l.isDebugLogEnabled()&&l.logDebug(g.resolve(330));0<this.vb.length;){var a=this.vb.shift();if(this.d&&this.d.ga(a.Aj)){var b=null,c=null;if(!this.yi.ud()&&(-1<(b=a.tb.indexOf("// END OF HEADER"))||-1<(c=a.tb.indexOf("myEnv.LS_window \x3d LS_window;")))){var h;
-1<b?(h=a.tb.substring(0,b),b=a.tb.substring(b)):(h=a.tb.substring(0,c+28),b=a.tb.substring(c+28));a.tb=b;this.yi.vv(h)}try{this.jc.evalProxy(this.yi.dw(),a.tb)}catch(f){this.Rr(a.tb,f);break}}}else e.addTimedTask(this.ui,100,this)},Rr:function(a,b){this.Fi=!0;this.vb=[];l.logError(g.resolve(328),b,a);this.d&&this.d.fq()}};b(f,d);return f});
define("lst","Executor BrowserDetection ASSERT LoggerManager lsq lsl lsAK lss lsu EnvironmentStatus Global lsm lsO lsU lsA lsv lsN lsT lsi lsw".split(" "),function(g,e,d,b,c,h,a,f,l,m,k,n,p,q,r,t,s,D,C,y){function x(a,b){this.status=L;this.f=0;this.wl=this.d=null;this.ie="";this.xe=a;this.r=b;this.e=a.ra;this.sb=a.ea;this.Jb=a.Rg();this.rc=
new t(this.e,this.Jb);this.tz=new n(this.Jb,b);m.addUnloadHandler(this);this.wv();this.X=new s(this,a.ea,this.Jb);this.Gd=new D(this.X,this.r,this.e)}function w(a){switch(a){case L:return"No session";case A:return"WS Streaming";case H:return"prepare WS Streaming";case R:return"WS Polling";case N:return"prepare WS Polling";case F:return"HTTP Streaming";case v:return"prepare HTTP Streaming";case I:return"HTTP Polling";case z:return"prepare HTTP Polling";case J:return"Shutting down"}}var L=1,A=2,H=3,
R=4,N=5,F=6,v=7,I=8,z=9,J=10,O={};O[A]=v;O[F]=z;O[R]=H;O[I]=H;O["_"+A]=H;O["_"+F]=z;O["_"+R]=H;O["_"+I]=v;var K={};K[A]=v;K[F]=z;K[R]=H;K[I]=H;K["_"+A]=H;K["_"+F]=z;K["_"+R]=H;K["_"+I]=z;var T={};T[A]=H;T[F]=v;T[R]=N;T[I]=z;var Q={};Q[A]=N;Q[F]=z;Q[v]=z;Q[z]=z;var S={};S[H]=!0;S[N]=!0;S[v]=!0;S[z]=!0;var B=b.getLoggerProxy(r.Pe),P=b.getLoggerProxy(r.Sd);x.prototype={wv:function(){var a=this;k.sa(this.Jb,"LS_forceReload",function(){a.d&&a.d.Ka("server.exit",!0)})},fa:function(a){this.status=a;this.f++},
Qa:function(a,b,c){this.status!=L&&this.status!=J&&this.d&&this.d.Qa(a?"api":b,!1,c)},ah:function(){return this.status!=L&&this.status!=J},Hb:function(a,b,c,f,d,e,g){a&&h.ca();a=a?"api":e;this.ie=b?"_":"";!g&&this.ah()?(b=f?d?z:N:d?v:H,this.fa(b),this.Zn(a),this.d.Cs(this.f,a,c)):(this.Ds(),g=this.d?this.d.Wg():null,a="new."+a,this.Qa(!1,a,!1),b=f?d?I:R:d?F:A,this.fa(b),this.ms(f,c,d),this.d.Hb(g,a))},ms:function(a,b,c,h){this.d=new (c?f:l)(a,b,this,this.f,h);h&&h.ag();this.rc.Yd(this.d);this.$&&
this.$.Yd(this.d);this.tz.Yd(this.d)},Xd:function(a,b,c,h){this.fa(b?c?I:R:c?F:A);this.ms(b,a,c,this.d);this.d.Xd(h)},Un:function(){return"_"==this.ie&&T[this.status]==K[this.ie+this.status]},Sc:function(a,c,h){a==this.f&&(h?(P.logInfo(b.resolve(336)),this.fa(L)):(a=K[this.status]||this.status,P.logInfo(b.resolve(337),w(this.status),w(a)),a==L||a==J?(P.logError(b.resolve(331)),d.fail()):(this.fa(a),this.Zn(c),this.d.Cs(this.f,c,!1))))},ez:function(a){a==this.f&&(a=Q[this.status],P.logInfo(b.resolve(338),
w(this.status),w(a)),a?(this.fa(a),this.Zn("slow"),this.d.Uz(this.f)):(P.logError(b.resolve(332),w(this.status),this.d),d.fail()))},cf:function(a,c,h){a==this.f&&(a=O[this.ie+this.status]||this.status,P.logInfo(b.resolve(339),w(this.status),w(a)),a==L||a==J?(P.logError(b.resolve(333)),d.fail()):this.Hb(!1,"_"==this.ie,h,a==H||a==v?!1:!0,a==H||a==N?!1:!0,c,!0))},lo:function(a,c,h){a==this.f&&(a=this.status,P.logInfo(b.resolve(340),w(this.status)),S[a]?this.Xd(h,a==H||a==v?!1:!0,a==H||a==N?!1:!0,c):
(P.logError(b.resolve(334)),d.fail()))},Zs:function(a){P.logInfo(b.resolve(341));this.lo(a,"slow",!1)},jB:function(a,c){if(a==this.f){var h=this.status;P.logInfo(b.resolve(342),w(this.status));S[h]?this.Hb(!1,"_"==this.ie,!1,h==H||h==v?!1:!0,h==H||h==N?!1:!0,"switch.timeout."+c,!0):(P.logError(b.resolve(335)),d.fail())}},Zn:function(a){g.addTimedTask(this.jB,this.e.jo+(this.rc.im()||0),this,[this.f,a])},Ds:function(){this.X.zc();this.Gd.Z()},pe:function(){return this.d?this.d.k():null},mm:function(){return this.d?
this.d.mm():r.$b},Mc:function(){return this.d?this.d.Mc():this.sb.xh},Wg:function(){return this.d?this.d.Wg():null},Aq:function(){if(!this.$||!this.$.cg()){if(e.isProbablyIE(9,!0)){var a=null;this.$&&(a=this.$.yi,this.$.ha());this.$=new y(this.Jb,a)}else this.$=new C(this.Jb);this.$.Yd(this.d)}return this.$},ha:function(){this.$&&this.$.ha();m.removeUnloadHandler(this)},unloadEvent:function(){this.Qa(!1,"unload",!0);this.fa(J)},Rg:M("Jb"),cB:function(a){a==this.f&&this.xe.Ay()},pc:function(a){P.logInfo(b.resolve(343),
this);this.Yr(a);this.Gd.Yk();this.r.pc();this.le()},Yr:function(a){P.logDebug(b.resolve(344),this);a&&this.X.FA(a)},cz:function(a,c){if(a!=this.f)return null;P.logDebug(b.resolve(345),this);this.Ds();this.xe.Rc();c?this.fa(L):this.fa(this.status);return this.f},nn:function(a,c){var h=this.r.Lc(a[0]);h?(B.isDebugLogEnabled()&&B.logDebug(b.resolve(347),a),h.ds(a,c)):(this.r.Yq(a[0]),B.logDebug(b.resolve(346),this))},zd:function(a){var c=this.r.Lc(a[0]);c?(B.isDebugLogEnabled()&&B.logDebug(b.resolve(349),
a),c.$r(a[0],a[1],a[2])):B.logDebug(b.resolve(348),this)},Tb:function(a){var c=this.r.Lc(a[0]);c?(B.isDebugLogEnabled()&&B.logDebug(b.resolve(351),a),c.Tb(a[0],a[1])):B.logDebug(b.resolve(350),this)},Sb:function(a){var c=this.r.Lc(a[0]);c?(B.isDebugLogEnabled()&&B.logDebug(b.resolve(353),a),c.Sb(a[0],a[1])):B.logDebug(b.resolve(352),this)},Kf:function(a,c){B.isDebugLogEnabled()&&B.logDebug(b.resolve(354),a,c);this.r.Cy(a,c)},Mf:function(a,c,h){var f=this.r.Lc(a);f?(B.isDebugLogEnabled()&&B.logDebug(b.resolve(356),
a,c,h),f.Mf(c,h,a)):B.logDebug(b.resolve(355),this)},onUnsubscription:function(a){this.r.Bp(a);var c=this.r.Lc(a);c?(B.isDebugLogEnabled()&&B.logDebug(b.resolve(358),a),c.cs(a)):B.logDebug(b.resolve(357),this)},Lf:function(a,c){B.isDebugLogEnabled()&&B.logDebug(b.resolve(359),a,c);this.r.Lf(a,c)},onSubscription:function(a,c,h,f,d){var e=this.r.Lc(a);e?(B.isDebugLogEnabled()&&B.logDebug(b.resolve(361),a,c,h,f,d),e.bs(a,f,d,c,h)):B.logDebug(b.resolve(360),this)},dn:function(a,c){B.isDebugLogEnabled()&&
B.logDebug(b.resolve(362),a,c);this.Gd.Xt(a,c)},fn:function(a,c){B.isDebugLogEnabled()&&B.logDebug(b.resolve(363),a,c);this.Gd.Qt(a,c)},en:function(a,c,h,f){B.isDebugLogEnabled()&&B.logDebug(b.resolve(364),a,f,c,h);this.Gd.wy(a,c,f,h)},ve:function(a,c){B.isDebugLogEnabled()&&B.logDebug(b.resolve(365),a,c);this.Gd.xy(a,c)},Jf:function(a,c,h,f){B.isDebugLogEnabled()&&B.logDebug(b.resolve(366),a,f,c,h);this.Gd.zy(a,c,f,h)},wj:function(a){this.xe.wj(a)},gn:function(a){B.isDebugLogEnabled()&&B.logDebug(b.resolve(367),
a);this.xe.gn(a)},Ry:function(b){this.wl&&(b!=this.wl&&a.yx())&&(a.Xz(),this.Hb(!1,"_"==this.ie,!1,!1,!1,"ip",!1));this.wl=b},Xj:function(a,b,c,h){this.Gd.tg(a,b,c,h)},Fd:function(a,b){var h=c.uw(this.f,a,b);this.X.Bc(null,h,p.ed,null)},ji:function(){this.d&&this.d.ji()},cA:function(a,b,c,h){this.X.Bc(a,b,p.Od,new q(c,a,p.Od),h)},eA:function(a,b,c){this.X.Bc(a,b,p.Qe,new q(c,a,p.Qe))},dA:function(a,b,c){this.X.Bc(a,b,p.Lo,c)},le:function(){this.d&&this.d.le()}};x.prototype.unloadEvent=x.prototype.unloadEvent;
return x});
define("lsj","Global lsA LoggerManager lsJ lsK lsL lsn lst lsO Executor lsAY".split(" "),function(g,e,d,b,c,h,a,f,l,m,k){function n(e,l,p,n,y){this.K=new b(l);this.K.Yf(this,!0);this.gf=null;e?this.gf=e:(r.logWarn(d.resolve(368)),this.gf="default");this.ea=new c(n);this.ea.Yf(this,!0);this.ra=new h(p);this.ra.Yf(this,!0);this.Mm=null;if(this.K.Dm){this.Yc=null;do this.Ta="s"+q++;while(g.kx(this.Ta,
"lsEngine"))}else this.Yc=new k(this.gf,y?null:m.packTask(this.Bi,this)),this.Ta=this.Yc.ba();this.r=new a(this);this.h=new f(this,this.r);g.sa(this.Ta,"lsEngine",this);g.eu(this);this.K.Fg&&this.wi()}var p="1640.2";isNaN(p)&&(p=0);var q=0,r=d.getLoggerProxy(e.Sd);n.prototype={toString:U("[LightstreamerEngine]"),pe:function(){return this.h.pe()},Rc:function(){this.r.Rc()},wj:function(a){this.Yc&&this.Yc.ws(a)},gn:function(a){this.Yc&&this.Yc.Yt(a)},Xe:function(a,b,c){var h=this.r.s,f;for(f in h)h[f].Kr(a,
b,c);"maxBandwidth"==b?this.h.ji(c):"forcedTransport"==b?this.K.Fg&&this.wi():"reverseHeartbeatMillis"==b&&this.h.le();return!0},Ay:function(){var a=this.xb();if(this.Mm!=a){var b=this.Mm;this.Mm=a;this.r.By(a,b);if(this.onStatusChange)this.onStatusChange(a)}},fb:M("r"),Fd:function(a){this.h.Fd(a,p);return!0},Rg:M("Ta"),Bi:function(){this.h.Qa(!1,"suicide",!0);this.h.ha();g.Iu(this.Ta);g.Rz(this);this.Yc&&this.Yc.ha();this.r.Er(!0);this.r.ha()},Gw:function(){var a=[],b=this.r.s,c;for(c in b)if(b[c].ah())try{var h=
b[c].Vg();a.push(h)}catch(f){}return a},Wp:function(){r.logInfo(d.resolve(369));this.K.Y("connectionRequested",!1);this.h.Qa(!0,"api",!0)},wi:function(){r.logInfo(d.resolve(370));this.K.Y("connectionRequested",!0);var a=this.ra.fm;null===a?this.h.Hb(!0,!1,!1,!1,!1):this.kv(a)},kv:function(a){var b=a==e.Tk||a==e.Oh;this.h.Hb(!0,b,!b,a==e.rg||a==e.Qd,a==e.Qd||a==e.lg||a==e.Oh)},Xj:function(a,b,c,h){var f=this.xb();if(f==e.$b||f==e.qg)return!1;this.h.Xj(a,b,c,h);return!0},xb:function(){return this.h.mm()}};
return n});
define("lsAS","lsK lsL lsJ lsA lsG lsAf LoggerManager".split(" "),function(g,e,d,b,c,h,a){function f(a){this.b=a}function l(a){return null==a?null:a.toString()}var m=a.getLoggerProxy(b.Oa);f.prototype={toString:U("[Client EventBridge]"),uz:function(b){m.logDebug(a.resolve(371),this);this.b.j.hn(parseInt(b.Do),parseInt(b.u),l(b.status),new g(b.ea),new e(b.ra),new d(b.K),parseInt(b.Ta),!0===b.ob)},Tu:function(b){m.logDebug(a.resolve(372),this);
("lsK"==b.Gr?this.b.ea:"lsL"==b.Gr?this.b.ra:this.b.K).Y(l(b.Gz),b.GB)},pk:function(b){m.logDebug(a.resolve(373),this);this.b.j.pk(l(b.status))},dk:function(b){m.logDebug(a.resolve(374),this);this.b.j.dk(c.af(b.a))},Nn:function(b){m.logDebug(a.resolve(375),this);this.b.j.Ps(c.af(b.a))},tv:function(b){m.logDebug(a.resolve(376),this);this.b.j.se(!0===b.iB)},uv:function(){m.logDebug(a.resolve(377),this);this.b.j.Rm()},bk:function(b){m.logDebug(a.resolve(378),this);this.b.bk(parseInt(b.cm),
l(b.Pc))},lB:function(b){m.logDebug(a.resolve(379),this);this.b.g.yj(l(b.Ge),parseInt(b.w),parseInt(b.zb),parseInt(b.Db))},zk:function(a){var b=h(a.ju,!1);this.b.g.zk(b,a.ZA?!0:!1)},nB:function(b){m.logDebug(a.resolve(381),this);this.b.g.zd(parseInt(b.w),parseInt(b.item),parseInt(b.hy))},Zl:function(b){m.logDebug(a.resolve(382),this);this.b.g.Tb(parseInt(b.w),parseInt(b.item))},vl:function(b){m.logDebug(a.resolve(383),this);this.b.g.Sb(parseInt(b.w),parseInt(b.item))},mB:function(b){m.logDebug(a.resolve(384),
this);this.b.g.eq(parseInt(b.cm),l(b.Pc),parseInt(b.w))},rB:function(b){m.logDebug(a.resolve(385),this);this.b.g.ft(parseInt(b.w),parseInt(b.ay),parseInt(b.wu),parseInt(b.$x),parseInt(b.Fv))},sB:function(){m.logDebug(a.resolve(386),this)},cu:function(b){m.logDebug(a.resolve(387),this);this.b.g.ht(parseInt(b.w))},jj:function(b){m.logDebug(a.resolve(388),this);this.b.q.jj(parseInt(b.Ea),parseInt(b.Vk),l(b.Pc))},fj:function(b){m.logDebug(a.resolve(389),this);this.b.q.fj(parseInt(b.Ea))},kj:function(b){m.logDebug(a.resolve(390),
this);this.b.q.kj(parseInt(b.Ea))},hj:function(b){m.logDebug(a.resolve(391),this);this.b.q.hj(parseInt(b.Ea),parseInt(b.Vk),l(b.Pc))},ij:function(b){m.logDebug(a.resolve(392),this);this.b.q.ij(parseInt(b.Ea))}};return f});
define("EventDispatcher",["Executor","List","Inheritance"],function(g,e,d){function b(){this._callSuperConstructor(b)}function c(){this.initDispatcher()}c.prototype={initDispatcher:function(){this.wk=new b;this.it=!1},addListener:function(b){b&&(b={c:b,sr:!0},this.wk.add(b),this.Ml("onListenStart",[this],b,!0))},removeListener:function(b){b&&(b=this.wk.remove(b))&&this.Ml("onListenEnd",[this],b,!0)},getListeners:function(){return this.wk.asArray()},useSynchEvents:function(b){this.it=!0===b},Ml:function(b,
a,c,d){this.it?this.Tp(b,a,c,!0):g.addTimedTask(this.Tp,0,this,[b,a,c,d])},Tp:function(b,a,c,d){if(c&&c.c[b]&&(d||c.sr))try{a?c.c[b].apply(c.c,a):c.c[b].apply(c.c)}catch(e){}},dispatchEvent:function(b,a){var c=this;this.wk.forEach(function(d){c.Ml(b,a,d,!1)})}};c.prototype.initDispatcher=c.prototype.initDispatcher;c.prototype.addListener=c.prototype.addListener;c.prototype.removeListener=c.prototype.removeListener;c.prototype.getListeners=c.prototype.getListeners;c.prototype.useSynchEvents=c.prototype.useSynchEvents;
c.prototype.dispatchEvent=c.prototype.dispatchEvent;b.prototype={remove:function(b){for(var a=0;a<this.data.length;a++)if(this.data[a].c==b)return b=this.data[a],b.sr=!1,this.data.splice(a,1),b;return!1},asArray:function(){var b=[];this.forEach(function(a){b.push(a.c)});return b}};d(b,e);return c});
define("lsAP","Executor lsA LoggerManager Inheritance Setter Environment IllegalStateException IllegalArgumentException Helpers".split(" "),function(g,e,d,b,c,h,a,f,l){function m(){this.Fc=5E3;this.Ol=!1;this.P=this.Tn=this.$f=this.Vb=this.R=this.Qf=null}var k=/^[a-zA-Z0-9]*$/,n={ATTACH:!0,"ATTACH:FAST":!0,IGNORE:!0,ABORT:!0},p={CREATE:!0,ABORT:!0,WAIT:!0},q={ATTACH:!0,"ATTACH:FAST":!0},r=d.getLoggerProxy(e.Oa);m.prototype={EA:G("P"),jA:function(a){this.Fc=this.checkPositiveNumber(a);
this.P.zu(this.Fc)},$u:function(){this.Tl("default"+l.randomG(),"IGNORE","CREATE",!0,null)},Tl:function(a,b,c,g,l){if(!a)throw new f("The share name is missing");if(!k.test(a))throw new f("The given share name is not valid, use only alphanumeric characters");if(!p[c])throw new f("sharePolicyOnNotFound must be one of: CREATE, ABORT, WAIT");if(!n[b])throw new f("sharePolicyOnFound must be one of: ATTACH, ATTACH:FAST, IGNORE, ABORT");if(!h.isBrowserDocument()){if(q[b])throw new f("ATTACH* can only be used if the LightstreamerClient is loaded inside a browser document");
g||(g=!0)}"file:"!=e.Ph||g||(r.logWarn(d.resolve(393)),g=!0);this.P.jr()||(this.Ol=!0,this.P.lv(),this.Ol=!1);this.Qf=this.checkBool(g,!0);this.R=a;this.Vb=b;this.$f=c;this.Tn=l;"IGNORE"==this.Vb&&"CREATE"==this.$f?(r.logInfo(d.resolve(394)),this.P.Vp(this.R,this.Qf)):"IGNORE"!=this.Vb&&"ABORT"!=this.Vb||"ABORT"!=this.$f?(r.logInfo(d.resolve(396)),this.P.Yp(this.R,"ATTACH:FAST"==this.Vb,this.Qf,this.Fc,this.Tn)):(r.logInfo(d.resolve(395)),this.P.Pl())},cr:function(){return this.P.Fx()},Sw:M("R"),
Tw:function(){return this.P.Tv()},ru:function(){return"IGNORE"==this.Vb},Qr:function(a,b,c){"ABORT"==this.Vb?(r.logInfo(d.resolve(397)),this.P.Pl()):"IGNORE"!=this.Vb?(r.logInfo(d.resolve(398)),this.P.hv(b,c)):r.logInfo(d.resolve(399))},JB:function(a){this.P.ol(a)&&this.P.Yp(this.R,"ATTACH:FAST"==this.Vb,this.Qf,this.Fc,this.Tn)},vj:function(a,b){"CREATE"==this.$f?(r.logInfo(d.resolve(400)),this.P.Vp(this.R,b||this.Qf)):"WAIT"==this.$f?(r.logInfo(d.resolve(401),1E3),g.addTimedTask(this.JB,1E3,this,
[a])):(r.logInfo(d.resolve(402)),this.P.Pl())},Ly:function(){this.Ol||(r.logInfo(d.resolve(403)),this.Tl(this.R,this.Vb,-1<this.Vb.indexOf("ATTACH")?"CREATE":this.$f,this.Qf,null))}};m.prototype.setCheckShareTimeout=m.prototype.jA;m.prototype.enableSharing=m.prototype.Tl;m.prototype.isMaster=m.prototype.cr;m.prototype.getShareName=m.prototype.Sw;m.prototype.getSharedClients=m.prototype.Tw;b(m,c,!0,!0);return m});
define("LightstreamerClient","Helpers Global lsAR Executor CookieManager lsAY lsJ lsL lsK lsAV lsAT lsAU lsAe lsD lsj lsAS Inheritance Setter EventDispatcher lsA EnvironmentStatus IllegalArgumentException Environment LoggerManager lsAP IllegalStateException ASSERT lsm".split(" "),function(g,e,d,b,c,h,a,f,l,m,k,n,p,q,r,t,s,D,C,y,x,
w,L,A,H,R,N,F){function v(b,c){this._callSuperConstructor(v);this.xk=++O;this.Ff=this.sk=this.Uc=this.nb=this.j=null;this.q=new n;this.ja=0;this.f=1;this.qe=y.$b;this.Ip=new f;this.Dl=new l;this.El=new H;this.connectionOptions=this.Ip;this.connectionDetails=this.Dl;this.connectionSharing=this.El;this.K=new a;this.ra=this.Ip;this.ea=this.Dl;this.cc=this.El;b&&this.ea.Ws(b);c&&this.ea.Qs(c);this.K.Yf(this);this.ra.Yf(this);this.ea.Yf(this);this.cc.EA(this);this.g=new p(this.ra);this.Tm=2E3;this.Fc=
null;"undefined"!=typeof console&&L.isBrowser()&&J.logWarn(A.resolve(404))}function I(a,b){var c=h.pm();c.tl(b,a);c.sh(b,a)}var z=A.getLoggerProxy(y.Oa),J=A.getLoggerProxy(y.Kk),O=0,K=/^[a-zA-Z0-9_]*$/;v.setLoggerProvider=function(a){A.setLoggerProvider(a)};v.LIB_NAME="JAVASCRIPT";v.LIB_VERSION="6.1.1 build 1640.2";v.simulateSilence=function(a){F.YA(a)};v.prototype={toString:function(){return["[|LightstreamerClient",this.xk,this.f,this.ja,"]"].join("|")},Xe:function(a,b,c){this.j&&this.j.Js(a,b,c);
return!0},Fr:function(a,b){b!=this.K&&this.dispatchEvent("onPropertyChange",[a])},Vp:function(a,b){z.logInfo(A.resolve(405),a,b);this.ld(9);this.K.Y("isLocalEngine",b);var c=new r(a,this.K,this.ra,this.ea,this.cc.ru()),c=new k(this,c);this.al(c);c.bound(!0)},Pl:function(){this.ld(7);z.logInfo(A.resolve(406));this.dispatchEvent("onShareAbort")},lv:function(){if(1!=this.f){var a=this.f;this.ld(1);this.j&&(5==a?(z.logInfo(A.resolve(407)),this.j.by()):(z.logInfo(A.resolve(408)),this.j.an(),this.j.se()))}},
ol:function(a){return this.ja==a},Yp:function(a,b,c,h,f){this.ld(2);c||this.Fz(a,f);this.nb&&(this.nb.rv(b),this.nb.Ss(h));z.logDebug(A.resolve(417));(b=e.Rw(a))?this.cc.Qr(this.ja,b,!0):this.jp(this.ja,a)?this.cc.vj(this.ja):c?this.cc.vj(this.ja):this.Hn(this.ja,f)},hv:function(a,b){if(b){z.logInfo(A.resolve(409));var c=new k(this,a);this.ld(8);this.al(c);c.bound(!1)}else z.logInfo(A.resolve(410)),this.ld(3),this.al(this.Uc)},Hn:function(a,c,h){if(this.ja==a){z.logDebug(A.resolve(418));h=this.Vs((h||
100)+50);this.Ff=null;this.Uc.ca(!0);var f=b.packTask(this.ce,this,[a]);this.nb.Zz(c,f,a)?(f=b.packTask(this.uy,this,[a+1,c]),this.Uc.My(this.nb,f)?(z.logDebug(A.resolve(421)),this.cc.Qr(this.ja,c,!1)):(z.logDebug(A.resolve(420),h),b.addTimedTask(this.Hn,h,this,[a,c,h]))):(z.logDebug(A.resolve(419),h),b.addTimedTask(this.Hn,h,this,[a,c,h]))}},ce:function(a){this.ja==a&&this.cc.vj(this.ja,!0)},uy:function(a){this.ja==a&&3==this.f&&(z.logDebug(A.resolve(422)),this.Uc.ca(!0),this.ja==a&&this.dq(!1))},
zu:function(a){this.nb&&this.nb.Ss(a)},jp:function(a,h,f){if(a!=this.ja||!c.areCookiesEnabled())return!0;var d=this.Sx(h,f);if(!0!==d&&!1!==d)return b.addTimedTask(this.jp,d.Zh,this,[a,h,d]),!1;if(f){if(d)return!1;this.cc.vj(this.ja)}return!0},Sx:function(a,b){var c={Zh:0},f=!1,d=g.getTimeStamp(),e=h.pm(),l=e.Nj(a);if(!l)return z.logDebug(A.resolve(423)),!1;z.logDebug(A.resolve(424),this);for(var k=0;k<l.length;k++){var m=e.Sf(a,l[k]);if(!m||5>m.length)I(l[k],a);else if(b&&b[l[k]]){if(m[y.wc]!=b[l[k]])return z.logInfo(A.resolve(411)),
!0;z.logInfo(A.resolve(412))}else{var p=Number(m[y.wc])+y.Rd+2E3-d;-6E4>=p?(z.logInfo(A.resolve(413)),I(l[k],a)):(p<this.Tm&&(p=this.Tm),c[l[k]]=m[y.wc],f=!0,c.Zh=c.Zh>p?c.Zh:p)}}if(f)return z.logInfo(A.resolve(414)),c;z.logInfo(A.resolve(415));return!1},jr:function(){return 1==this.f},Bx:function(){return 7==this.f},ld:function(a){a==this.f?N.verifyOk(2==a||1==a):(1==this.f&&7!=a&&e.sa(this.xk,"lsPage",this,"P"),7!=a&&6!=a&&5!=a&&1!=a&&8!=a||this.gv(),1==a&&e.sl(this.xk,"lsPage","P"),this.f=a,this.ja++)},
Fx:function(){return 5==this.f?!0:4==this.f?!1:null},Fz:function(a,c){if(!this.nb){var h=b.packTask(this.Vs,this);this.nb=new d(c||null,a,!0,h,this.Fc);this.Uc=new m(this,this.xk);this.sk=new q(this.Uc,new t(this),!1);this.nb.DB(b.packTask(this.ce,this,[this.ja]))}},gv:function(){this.nb&&(this.nb.uu(),this.nb=null,this.Uc&&(this.Uc.ha(),this.Uc=null),q.remove(this.sk),this.sk=null)},Vs:function(a){2500<a?a=2500:50>a&&(a=50);return this.Ff=this.Ff&&this.Ff<a?this.Ff:a},al:function(a){this.j&&this.j!=
a&&this.j.ha();this.j=a;this.g.ko(a);this.q.ko(a)},Nr:function(a,b,c,h,f){z.logDebug(A.resolve(425));this.ld(b?5:4);b||(this.ra.qi(h),this.K.qi(f),this.ea.qi(c))},dq:function(a){this.Tm=a?1E4:2E3;z.logInfo(A.resolve(416));this.K.Fg?this.Ag(y.qg):this.Ag(y.$b);this.j.ha();this.j=null;x.isUnloading()||x.isUnloaded()?this.ld(1):(N.verifyOk(5!=this.f||a),this.cc.Ly(this.ja))},Tv:function(){if(5==this.f||4==this.f)try{return this.j.nf().Gw()}catch(a){this.j&&this.j.ni&&b.addTimedTask(this.j.ni,0,this.j)}return[]},
Uu:function(){if(!this.ea.xh)throw new R("Configure the server address before trying to connect");this.jr()&&this.cc.$u();if(this.Bx())throw new R("Cannot connect in the current status, reconfigure sharing policies.");J.logDebug(A.resolve(426));b.addTimedTask(this.mu,0,this)},mu:function(){if(!this.qe||this.qe!=y.CONNECTING&&this.qe!=y.Re&&0!=this.qe.indexOf(y.Gb)){J.logDebug(A.resolve(427));this.K.Y("connectionRequested",!0);var a=this.j;a&&a.hi()}},disconnect:function(){J.logDebug(A.resolve(428));
b.addTimedTask(this.nu,0,this)},nu:function(){J.logDebug(A.resolve(429));this.K.Y("connectionRequested",!1);var a=this.j;a&&a.ii()},xb:M("qe"),sendMessage:function(a,c,h,f){if(!c)c=y.xc;else if(!K.test(c))throw new w("The given sequence name is not valid, use only alphanumeric characters plus underscore, or null");h=h?this.checkPositiveNumber(h):null;b.addTimedTask(this.lu,0,this,[a,c,f,h])},lu:function(a,b,c,h){c&&(c=this.q.xw(a,c));5!=this.f&&4!=this.f||!this.j.ob?c&&this.q.vr(c.Ea):this.j.uq(a,
b,c,h)},bk:function(a,b){this.dispatchEvent("onServerError",[a,b])},Nn:function(){this.g.yz();this.q.Lu()},Ag:function(a){a!=this.qe&&(this.qe=a,this.dispatchEvent("onStatusChange",[a]))},Fd:function(a){return 5!=this.f&&4!=this.f||!this.j.ob?!1:(this.j.tq(a),!0)},Ww:function(){var a=[],b=this.g.sc,c;for(c in b)b[c].dt||a.push(b[c]);return a},eo:function(a){this.g.Yh(a)},rt:function(a){this.g.Qj(a)},addListener:function(a){this._callSuperMethod(v,"addListener",[a])},removeListener:function(a){this._callSuperMethod(v,
"removeListener",[a])},getListeners:function(){return this._callSuperMethod(v,"getListeners")}};v.setLoggerProvider=v.setLoggerProvider;v.prototype.connect=v.prototype.Uu;v.prototype.disconnect=v.prototype.disconnect;v.prototype.getStatus=v.prototype.xb;v.prototype.sendMessage=v.prototype.sendMessage;v.prototype.getSubscriptions=v.prototype.Ww;v.prototype.subscribe=v.prototype.eo;v.prototype.unsubscribe=v.prototype.rt;v.prototype.addListener=v.prototype.addListener;v.prototype.removeListener=v.prototype.removeListener;
v.prototype.getListeners=v.prototype.getListeners;s(v,C,!1,!0);s(v,D,!0,!0);return v});define("lsAc",["lsA","ASSERT"],function(g,e){function d(b,c,h){this.Cj=b;this.kr=c;this.ts=h}d.prototype={onItemUpdate:function(b){if(this.WA())return e.verifyValue(b.Mi(),1),b=b.Nd,this.Cj.JA(b.length-2),b=this.Wu(b),this.Cj.update(b,!1,!0)},WA:function(){return this.Cj.lx(this.kr,this.ts)},Wu:function(b){var c=this.Cj,h=this.kr,a=[];a[0]=c.He;a[1]=h;a.Ec=[];for(var h=c.Hq()+2,f=2,d=2;d<h;d++)d==c.keyCode+1?a[d]=this.ts:d==c.eb+1?a[d]="UPDATE":d<=c.ia.yb+1?a[d]=g.pg:
(a[d]=b[f],b.uo[f]?a[d]=g.pg:a.Ec.push(d-1),f++);return a}};return d});
define("lsAb",["LoggerManager","IllegalArgumentException","lsA"],function(g,e,d){function b(b,a,c,d,e){this.Zx=a;this.Yx=b;this.St=d;this.ia=c;this.Nd=e}var c=g.getLoggerProxy(d.Kk);b.prototype={om:M("Yx"),Mi:M("Zx"),getValue:function(b){b=this.Jh(b);return(b=this.Nd[b])&&b.gC?b.value:b},ir:function(b){b=this.Jh(b);return!this.Nd.uo[b]},Px:M("St"),forEachChangedField:function(b){for(var a=this.Nd.Ec,f=0;f<a.length;f++){var d=this.ia.getName(a[f]),e=this.Nd[a[f]+1];try{b(d,a[f],e)}catch(k){c.logErrorExc(k,
g.resolve(430))}}},rq:function(b){for(var a=2;a<this.Nd.length;a++){var f=a-1,d=this.ia.getName(f),e=this.Nd[a];try{b(d,f,e)}catch(k){c.logErrorExc(k,g.resolve(431))}}},Jh:function(b){b=isNaN(b)?this.ia.ke(b):b;if(null==b)throw new e("the specified field does not exist");if(0>=b||b>this.ia.lm()+1)throw new e("the specified field position is out of bounds");return b+1},Cw:function(){return this.Nd.length-2},iw:function(b){return this.ia.getName(b)}};b.prototype.getItemName=b.prototype.om;b.prototype.getItemPos=
b.prototype.Mi;b.prototype.getValue=b.prototype.getValue;b.prototype.isValueChanged=b.prototype.ir;b.prototype.isSnapshot=b.prototype.Px;b.prototype.forEachChangedField=b.prototype.forEachChangedField;b.prototype.forEachField=b.prototype.rq;return b});define("lsX",[],function(){function g(){this.Wb=null;this.yb=0}g.prototype={Xs:G("Wb"),lm:function(){return this.Wb?this.yb+this.Wb.yb:this.yb},Jd:G("yb")};return g});
define("lsY",["Inheritance","lsX"],function(g,e){function d(b){this._callSuperConstructor(d);this.list=b;for(var c={},h=0;h<b.length;h++)c[b[h]]=h+1;this.Fs=c;this.yb=b.length}d.prototype={Jd:E(),gm:function(){return this.list.join(" ")},ke:function(b){return this.Fs[b]?this.Fs[b]:this.Wb?(b=this.Wb.ke(b),null!==b?b+this.yb:null):null},getName:function(b){return b>this.yb&&this.Wb?this.Wb.getName(b-this.yb):this.list[b-1]||null},Kc:M("list")};g(d,e);return d});
define("lsZ",["Inheritance","lsX"],function(g,e){function d(b){this._callSuperConstructor(d);this.name=b}d.prototype={gm:M("name"),ke:function(b){return this.Wb?(b=this.Wb.ke(b),null!==b?b+this.yb:null):null},getName:function(b){return this.Wb?this.Wb.getName(b-this.yb):null},Kc:M("name")};g(d,e);return d});
define("Matrix",[],function(){function g(e){this.wa=e||{}}g.prototype={insert:function(e,d,b){this.wa[d]||(this.wa[d]={});this.wa[d][b]=e},get:function(e,d){return this.wa[e]&&"undefined"!=typeof this.wa[e][d]?this.wa[e][d]:null},del:function(e,d){if(this.wa[e]){this.wa[e][d]&&delete this.wa[e][d];for(var b in this.wa[e])return;delete this.wa[e]}},insertRow:function(e,d){this.wa[d]=e},getRow:function(e){return this.wa[e]?this.wa[e]:null},delRow:function(e){this.wa[e]&&delete this.wa[e]},getEntireMatrix:M("wa")};
g.prototype.insert=g.prototype.insert;g.prototype.get=g.prototype.get;g.prototype.del=g.prototype.del;g.prototype.insertRow=g.prototype.insertRow;g.prototype.getRow=g.prototype.getRow;g.prototype.delRow=g.prototype.delRow;g.prototype.getEntireMatrix=g.prototype.getEntireMatrix;return g});
define("Subscription","lsAc lsAb lsY lsZ Inheritance Setter Matrix Executor lsA EventDispatcher IllegalArgumentException IllegalStateException LoggerManager lsG ASSERT Helpers".split(" "),function(g,e,d,b,c,h,a,f,l,m,k,n,p,q,r,t){function s(b,c,h){this._callSuperConstructor(s);b=(new String(b)).toUpperCase();if(!b||!y[b])throw new k("The given value is not a valid subscription mode. Admitted values are MERGE, DISTINCT, RAW, COMMAND");
this.fd=b;this.ia=this.Hc=this.Mb=this.Qb=this.tf=this.uf=null;this.lc="RAW"===b?null:"yes";this.Sj=this.He=this.ri=this.Uh=this.Zo=this.dp=this.Be=this.Ya=null;this.ue=new a;this.Qc=new a;this.c=null;this.Za=1;this.uk=0;this.ac=null;this.Db=0;this.zb=null;this.rh;this.Lj;this.Vj=this.uj=0;this.rb=this.fd==l.kg?2:1;this.vo=this.keyCode=this.eb=null;this.xa={};this.Dh=this.Fe=this.Kd=null;this.hB=l.Qk;if(c){if(!h||!t.isArray(h))throw new k("Please specify a valid field list");t.isArray(c)?this.Ah(c):
this.Ah([c]);this.fk(h)}else if(h)throw new k("Please specify a valid item or item list");}function D(a,b){for(var c=0;c<a.length;c++)if(a[c]){if(-1<a[c].indexOf(" "))throw new k(b+A);if(!isNaN(a[c]))throw new k(b+H);}else throw new k(b+L);}function C(a,b){return a-b}var y={COMMAND:!0,RAW:!0,MERGE:!0,DISTINCT:!0},x=l.pg,w=p.getLoggerProxy(l.og),L=" name cannot be empty",A=" name cannot contain spaces",H=" name cannot be a number";s.prototype={toString:function(){return["[|Subscription",this.Za,this.uk,
this.ac,this.Db,this.zb,"]"].join("|")},Ap:function(){this.He=null;this.ue=new a;this.Qc=new a;this.ia.Jd(0);this.Qb.Jd(0);3==this.rb&&(this.ia.Xs(null),this.xa={});this.Lj=this.rh=null;w.logDebug(p.resolve(436),this)},Gy:function(a,b,c){this.Ab();if(!this.Qb)throw new k("Invalid Subscription, please specify an item list or item group");if(!this.ia)throw new k("Invalid Subscription, please specify a field list or field schema");this.Za=5;this.zb=b;this.ac=a;this.c=c;this.Db++;this.uj++;r.verifyValue(this.uj,
1);this.Og();w.logInfo(p.resolve(433),this);return!0},hz:function(){this.Db++;this.Za=2;w.logDebug(p.resolve(437),this)},yj:function(a){this.He=a;this.Za=3;w.logDebug(p.resolve(438),this)},Yy:function(){var a=this.oe();this.Za=5;this.Ap();a&&this.Mr();w.logDebug(p.resolve(439),this)},az:function(){this.wx();var a=this.oe();this.Za=1;this.ac=this.zb=null;delete this.Sj;3==this.rb&&this.Sz();this.Ap();this.uj--;r.verifyValue(this.uj,0);a&&this.Mr();this.c=null;w.logDebug(p.resolve(440),this)},iz:function(){this.rh&&
(f.addPackedTimedTask(this.rh,this.Lj),this.Lj=this.rh=null,w.logDebug(p.resolve(441),this))},fz:function(a,b,c,h){this.Za=4;this.Vj++;r.verifyValue(this.Vj,1);w.logInfo(p.resolve(434),this);3==this.rb&&this.ia.Xs(this.Dh);this.Hc&&1!=this.rb&&this.LA(b,a);this.Qb.Jd(c);this.ia.Jd(h);this.dispatchEvent("onSubscription")},Mr:function(){this.Vj--;r.verifyValue(this.Vj,0);w.logInfo(p.resolve(435),this);this.dispatchEvent("onUnsubscription")},Sz:function(){for(var a in this.xa)this.ys(a)},ys:function(a){for(var b in this.xa[a])this.zs(a,
b)},pl:function(a){return a==this.Db},xp:function(a){return this.zb==a},ku:function(a,b){this.rh=a;this.Lj=b},xq:function(){if(null!=this.Ya){var a=this.Ya;return{LS_requested_max_frequency:"unlimited"==a?0:a}}return{}},Og:function(){var a={LS_mode:this.fd,LS_id:encodeURIComponent(this.Qb.gm()),LS_schema:encodeURIComponent(this.ia.gm())};null!=this.ri&&(a.LS_data_adapter=encodeURIComponent(this.ri));null!=this.Uh&&(a.LS_selector=encodeURIComponent(this.Uh));null!=this.dp&&(a.LS_start=this.dp);null!=
this.Zo&&(a.LS_end=this.Zo);null!=this.lc&&(a.LS_snapshot="yes"===this.lc?"true":"no"===this.lc?"false":this.lc);q.aa(a,this.xq());if(null!=this.Be){var b=this.Be;"unlimited"!=b&&0<b&&(a.LS_requested_buffer_size=b)}w.logDebug(p.resolve(442),this);return this.Sj=a},IA:function(){if(this.fd==l.kg&&null!=this.Mb&&(this.eb=this.Mb.ke("command"),this.keyCode=this.Mb.ke("key"),!this.eb||!this.keyCode))throw new k("A field list for a COMMAND subscription must contain the key and command fields");},LA:function(a,
b){w.logDebug(p.resolve(443),this,a,b);this.eb=a;this.keyCode=b},Ab:function(){if(this.$g())throw new n("Cannot modify an active Subscription, please unsubscribe before applying any change");},wx:function(){if(!this.$g())throw new n("Subscription is not active");},In:function(){if(this.fd!=l.kg)throw new n("Second level field list is only available on COMMAND Subscriptions");},Al:function(){if(this.fd!=l.kg)throw new n("This method can only be used on COMMAND subscriptions");},Gx:function(){return 1==
this.Za},Hm:function(){return 2==this.Za},Fm:function(){return 3==this.Za},oe:function(){return 4==this.Za},Hx:function(){return 5==this.Za},$g:function(){return 1!=this.Za},dh:function(){return this.oe()},Ah:function(a){this.Ab();if(!t.isArray(a))throw new k(" Please specifiy a valid array");D(a,"An item");this.uf=null==a?null:new d(a);this.tf=null;this.Qb=this.uf},sw:function(){if(!this.uf){if(this.tf)throw new n("This Subscription was initiated using an item group, use getItemGroup instead of using getItems");
throw new n("The  item list/item group of this Subscription was not initiated");}return this.uf.Kc()},Us:function(a){this.Ab();this.uf=null;this.Qb=this.tf=null==a?null:new b(a)},rw:function(){if(!this.tf){if(this.uf)throw new n("This Subscription was initiated using an item list, use getItems instead of using getItemGroup");throw new n("The  item list/item group of this Subscription was not initiated");}return this.tf.Kc()},fk:function(a){this.Ab();if(!t.isArray(a))throw new k(" Please specifiy a valid array");
D(a,"A field");this.Mb=null==a?null:new d(a);this.Hc=null;this.ia=this.Mb;this.IA()},Cq:function(){if(!this.Mb){if(this.Hc)throw new n("This Subscription was initiated using a field schema, use getFieldSchema instead of using getFields");throw new IllegalStateExceptio("The field list/field schema of this Subscription was not initiated");}return this.Mb.Kc()},On:function(a){this.Ab();this.Mb=null;this.ia=this.Hc=null==a?null:new b(a)},jw:function(){if(!this.Hc){if(this.Mb)throw new n("This Subscription was initiated using a field list, use getFields instead of using getFieldSchema");
throw new IllegalStateExceptio("The field list/field schema of this Subscription was not initiated");}return this.Hc.Kc()},Oi:M("fd"),zh:function(a){this.Ab();this.ri=a;w.logDebug(p.resolve(444),this,a)},fw:M("ri"),jk:function(a){this.Ab();this.Uh=a;w.logDebug(p.resolve(445),this,a)},Ow:M("Uh"),Bh:function(a){a&&(a=new String(a),a=a.toLowerCase());var b=this.Ya;if(this.$g()){if(!a&&0!=a||null==this.Ya)throw new n("Can't change the frequency from/to 'unfiltered' or null while the Subscription is active");
if("unfiltered"==a||"unfiltered"==this.Ya)throw new n("Can't change the frequency from/to 'unfiltered' or null while the Subscription is active");}if(a||0==a)if("unfiltered"==a||"unlimited"==a)this.Ya=a;else try{this.Ya=this.checkPositiveNumber(a,!1,!0)}catch(c){throw new k("The given value is not valid for this setting; use null, 'unlimited', 'unfiltered' or a positive number instead");}else this.Ya=null;if((this.Hm()||this.Fm()||this.oe())&&String(b)!=String(this.Ya)&&(this.Og(),this.c.dd(this,
this.xq()),3==this.rb))for(var h in this.xa)for(var f in this.xa[h])r.verifyOk(this.oe()),this.xa[h][f].Bh(this.Ya);w.logDebug(p.resolve(446),this,this.Ya)},Kw:M("Ya"),ik:function(a){this.Ab();if(a||0==a)if(a=new String(a),a=a.toLowerCase(),"unlimited"==a)this.Be=a;else try{this.Be=this.checkPositiveNumber(a)}catch(b){throw new k("The given value is not valid for this setting; use null, 'unlimited' or a positive number instead");}else this.Be=null;w.logDebug(p.resolve(447),this,this.Be)},Jw:M("Be"),
Rn:function(a){this.Ab();if(a||0==a)if(a=new String(a),a=a.toLowerCase(),"no"==a)this.lc=a;else{if(this.fd==l.Rk)throw new n("Snapshot is not permitted if RAW was specified as mode");if("yes"==a)this.lc=a;else{if(isNaN(a))throw new k("The given value is not valid for this setting; use null, 'yes', 'no' or a positive number instead");if(this.fd!=l.Nk)throw new n("Numeric values are only allowed when the subscription mode is DISTINCT");try{this.lc=this.checkPositiveNumber(a)}catch(b){throw new k("The given value is not valid for this setting; use null, 'yes', 'no' or a positive number instead");
}}}else this.lc=null;w.logDebug(p.resolve(448),this,this.lc)},Lw:M("lc"),mA:function(a){this.Ab();this.In();if(!t.isArray(a))throw new k(" Please specifiy a valid array");D(a,"A field");this.Kd=null==a?null:new d(a);this.Fe=null;this.Dh=this.Kd;this.ns()},Yv:function(){if(!this.Kd){if(this.Fe)throw new n("The second level of this Subscription was initiated using a field schema, use getCommandSecondLevelFieldSchema instead of using getCommandSecondLevelFields");throw new n("The second level of this Subscription was not initiated");
}return this.Kd.Kc()},lA:function(a){this.Ab();this.In();this.Kd=null;this.Dh=this.Fe=null==a?null:new b(a);this.ns()},Xv:function(){if(!this.Fe){if(this.Kd)throw new n("The second level of this Subscription was initiated using a field list, use getCommandSecondLevelFields instead of using getCommandSecondLevelFieldSchema");throw new n("The second level of this Subscription was not initiated");}return this.Fe.Kc()},kA:function(a){this.Ab();this.In();this.vo=a;w.logDebug(p.resolve(449),this,a)},Wv:M("vo"),
getValue:function(a,b){return this.ue.get(this.pt(a),this.ot(b))},Zv:function(a,b,c){this.Al();return this.Qc.get(this.pt(a)+" "+b,this.ot(c,!0))},Iq:function(){this.Al();if(!this.Hc&&this.Mb)throw new n("This Subscription was initiated using a field list, key field is always 'key'");if(null==this.keyCode)throw new n("The position of the key field is currently unknown");return this.keyCode},yq:function(){this.Al();if(!this.Hc&&this.Mb)throw new n("This Subscription was initiated using a field list, command field is always 'command'");
if(null==this.eb)throw new n("The position of the command field is currently unknown");return this.eb},ot:function(a,b){var c=this.Jh(a,this.ia,b);if(null===c)throw new k("the specified field does not exist");if(!1===c)throw new k("the specified field position is out of bounds");return c},pt:function(a){a=this.Jh(a,this.Qb);if(null===a)throw new k("the specified item does not exist");if(!1===a)throw new k("the specified item position is out of bounds");return a},Jh:function(a,b,c){a=isNaN(a)?b.ke(a):
a;return null==a?null:0>=a||a>(c?b.lm():b.yb)?!1:a},ns:function(){this.rb=null==this.Dh?2:3},Zl:function(a){this.dispatchEvent("onEndOfSnapshot",[this.Qb.getName(a),a])},vl:function(b){var c=this.Qb.getName(b);2==this.rb?this.Qc=new a:3==this.rb&&(this.Qc=new a,this.ys(b));this.dispatchEvent("onClearSnapshot",[c,b])},gy:function(a,b){this.dispatchEvent("onItemLostUpdates",[this.Qb.getName(a),a,b])},hA:function(a,b){this.dispatchEvent("onSubscriptionError",[a,b])},update:function(a,b,c){r.verifyValue(4,
this.Za);var h=a[1],f=new String(h);1!=this.rb&&(f=this.rz(a,h,c));3!=this.rb||c||this.jx(a);1==this.rb?this.ut(this.ue,h,a,!0):this.ut(this.Qc,f,a,!0);a=new e(this.Qb.getName(h),h,this.ia,b,a);this.dispatchEvent("onItemUpdate",[a]);"DELETE"==this.Qc.get(f,this.eb)&&this.Qc.delRow(f)},ut:function(a,b,c,h){var f=c.length-2,d=1,e=2;for(c.uo={};d<=f;d++,e++)c[e]!==x?a.insert(c[e],b,d):h&&(c[e]=a.get(b,d),c.uo[e]=!0)},rz:function(a,b,c){var h;if("undefined"==typeof a[this.keyCode+1]||"undefined"==typeof a[this.eb+
1])return w.logWarn(p.resolve(432)),null;h=a[this.keyCode+1]==x?b+" "+this.ue.get(b,this.keyCode):b+" "+a[this.keyCode+1];if(c)a[this.keyCode+1]=x,a[this.eb+1]==this.Qc.get(h,this.eb)?a[this.eb+1]=x:(a.Ec.push(this.eb),a.Ec.sort(C));else{a.Ec=[];for(c=2;c<a.length;c++)a[c]&&a[c]==x?a[c]=this.ue.get(b,c-1):this.ue.insert(a[c],b,c-1),a[c]==this.Qc.get(h,c-1)?a[c]=x:a.Ec.push(c-1);if(3==this.rb&&(b=this.Hq()+2,b>a.length))for(c=a.length;c<b;c++)a[c]=x}return h},jx:function(a){var b=a[1],c=a[this.keyCode+
1]==x?this.ue.get(b,this.keyCode):a[this.keyCode+1];a=a[this.eb+1];this.xa[b]&&this.xa[b][c]&&"DELETE"==a?this.zs(b,c):this.xa[b]&&this.xa[b][c]||"DELETE"==a||this.fu(b,c)},iy:function(){this.dt=!0},lx:function(a,b){return this.xa[a]&&this.xa[a][b]},zs:function(a,b){this.c.Qj(this.xa[a][b]);delete this.xa[a][b]},fu:function(a,b){var c=new s(this.hB);c.Ah([b]);this.Kd?c.fk(this.Kd.Kc()):c.On(this.Fe.Kc());c.zh(this.vo);c.Rn("yes");c.Ya=this.Ya;c.iy();var h=new g(this,a,b);c.addListener(h);this.xa[a]||
(this.xa[a]={});this.xa[a][b]=c;this.c.Yh(c)},JA:function(a){this.Dh.Jd(a)},Hq:function(){return this.ia.lm()},addListener:function(a){this._callSuperMethod(s,"addListener",[a])},removeListener:function(a){this._callSuperMethod(s,"removeListener",[a])},getListeners:function(){return this._callSuperMethod(s,"getListeners")}};s.prototype.isActive=s.prototype.$g;s.prototype.isSubscribed=s.prototype.dh;s.prototype.setItems=s.prototype.Ah;s.prototype.getItems=s.prototype.sw;s.prototype.setItemGroup=s.prototype.Us;
s.prototype.getItemGroup=s.prototype.rw;s.prototype.setFields=s.prototype.fk;s.prototype.getFields=s.prototype.Cq;s.prototype.setFieldSchema=s.prototype.On;s.prototype.getFieldSchema=s.prototype.jw;s.prototype.getMode=s.prototype.Oi;s.prototype.setDataAdapter=s.prototype.zh;s.prototype.getDataAdapter=s.prototype.fw;s.prototype.setSelector=s.prototype.jk;s.prototype.getSelector=s.prototype.Ow;s.prototype.setRequestedMaxFrequency=s.prototype.Bh;s.prototype.getRequestedMaxFrequency=s.prototype.Kw;s.prototype.setRequestedBufferSize=
s.prototype.ik;s.prototype.getRequestedBufferSize=s.prototype.Jw;s.prototype.setRequestedSnapshot=s.prototype.Rn;s.prototype.getRequestedSnapshot=s.prototype.Lw;s.prototype.setCommandSecondLevelFields=s.prototype.mA;s.prototype.getCommandSecondLevelFields=s.prototype.Yv;s.prototype.setCommandSecondLevelFieldSchema=s.prototype.lA;s.prototype.getCommandSecondLevelFieldSchema=s.prototype.Xv;s.prototype.setCommandSecondLevelDataAdapter=s.prototype.kA;s.prototype.getCommandSecondLevelDataAdapter=s.prototype.Wv;
s.prototype.getValue=s.prototype.getValue;s.prototype.getCommandValue=s.prototype.Zv;s.prototype.getKeyPosition=s.prototype.Iq;s.prototype.getCommandPosition=s.prototype.yq;s.prototype.addListener=s.prototype.addListener;s.prototype.removeListener=s.prototype.removeListener;s.prototype.getListeners=s.prototype.getListeners;c(s,m,!1,!0);c(s,h,!0,!0);return s});
define("Cell",["Environment"],function(g){function e(b,c){this.i=b;this.ka=!0;this.Di=0;c||(c=this.bx());if(c)if(0==c.toLowerCase().indexOf("style.")){var d=c.slice(6);this.gg=h(d);this.Tf=a(d)}else this.gg=n(c),this.Tf=p(c);else b.nodeName.toLowerCase()in C?(this.gg=f,this.Tf=l):(this.gg=m,this.Tf=k);this.Cg=y++;this.cd=0;this.mc=this.nc=this.te=null;this.ux=this.Tf(!0);this.sx=this.i.className;this.tx=this.lq()}function d(a,b){if(!1===e.Bk)return a.dataset?a.dataset[b]:a.getAttribute("data-"+b);
if(!0===e.Bk)return a.getAttribute(b);var c=a.dataset?a.dataset[b]:a.getAttribute("data-"+b);if(c)return e.Bk=!1,c;if(c=a.getAttribute(b))e.Bk=!0;return c}function b(a,b){if(!a)return b;for(var c in b)a[c]||(null===a[c]||""===a[c])||(a[c]=b[c]);return a}function c(a){return(a=d(a,s))&&a.toLowerCase()==D}function h(a){return function(b){this.i.style[a]=b===t?null:b}}function a(a){return function(){return this.i.style[a]||""}}function f(a){this.i.value=a&&a!==t?a:""}function l(){return this.i.value}
function m(a,b){b?this.i.innerHTML=a:1!=this.i.childNodes.length||3!=this.i.firstChild.nodeType?(null!=this.i.firstChild&&(this.i.innerHTML=""),this.i.appendChild(document.createTextNode(a))):this.i.firstChild.nodeValue=a}function k(a){return a?this.i.innerHTML:this.i.firstChild?this.i.firstChild.nodeValue:""}function n(a){return a===q?f:function(b){b&&b!==t?this.i.setAttribute(a,b):this.i.removeAttribute(a)}}function p(a){return a===q?l:function(){return this.i.getAttribute(a)}}g.browserDocumentOrDie();
var q="value",r={extra:!0,"first-level":!0,"second-level":!0},t="\u00a0",s="source",D="lightstreamer",C={input:!0,textarea:!0},y=0;e.RB=1;e.Mo=2;e.Ct="first-level";e.It="second-level";e.Bk=null;e.Ni=function(a,b){var d=[];b||(b=["*"]);for(var f=0;f<b.length;f++)for(var h=a.getElementsByTagName(b[f]),g=0;g<h.length;g++)c(h[g])&&d.push(new e(h[g]));return d};e.vt=c;e.td=function(a){for(var b=null;null!=a&&a!=document;)b=a,a=a.parentNode;return null==a?null!=b&&"HTML"==b.nodeName?!0:!1:!0};e.prototype=
{Gn:function(a,b){this.gg(a.Tf(),b);this.te=a.te;this.nc=a.nc;this.mc=a.mc;this.cd=a.cd;this.ek(a.lq());this.xo(a.i.className);this.Di=a.Di},Qg:M("i"),lq:function(){var a={},b;for(b in this.i.style)a[b]=this.i.style[b];return a},xo:function(a){null!==a&&this.i.className!=a&&(this.i.className=a)},ek:function(a){if(a)for(var b in a){"CLASS"==b&&this.xo(a[b]);try{null!==a[b]&&(this.i.style[b]=a[b])}catch(c){}}},yg:function(a,b){a==this.cd&&(1==b?(this.ek(this.nc),this.nc=null):(this.ek(this.mc),this.mc=
null))},Vd:function(a,b){a==this.cd&&(this.gg(this.te,b),this.te=null,this.yg(a,1))},SA:function(){this.cd++;return this.cd},of:function(){var a=d(this.i,"field");return a?a:null},Pb:function(){var a=d(this.i,"replica");return a?a:null},Bq:function(){var a=d(this.i,"fieldtype");if(!a)return"first-level";a=a.toLowerCase();return r[a]?a:"first-level"},Qq:function(){return d(this.i,"grid")},getRow:function(){var a=d(this.i,"item");a||(a=d(this.i,"row"));return a},bx:function(){return d(this.i,"update")},
Am:function(){return++this.Di},jm:M("Di"),gr:function(a){return a.i===this.i},td:function(){return e.td(this.i)},Zq:function(){return this.i.id?document.getElementById(this.i.id)===this.i:this.td(this.i)},Qn:function(a){this.te=""===a?t:a},ug:function(a,b,c){this.nc||(this.nc={});this.mc||(this.mc={});this.nc[c]=a||"";this.mc[c]=b||""},Bw:function(a){a&&(this.nc=b(this.nc,a));return this.nc},Aw:function(a){a&&(this.mc=b(this.mc,a));return this.mc},clean:function(){this.gg(this.ux,!0);this.xo(this.sx);
this.ek(this.tx)}};return e});
define("CellMatrix",["Matrix","Inheritance","Cell"],function(g,e,d){function b(a){this._callSuperConstructor(b,[a])}function c(a,b){var c=new d(document.createElement("p"));c.Gn(a,b);var e=a.Pb();c.Pb=function(){return e};return c}function h(a){if(a.ka)a.clean();else for(var b=0;b<a.length;b++)a[b].clean()}b.Vf=function(a,b,d){var e={},g;for(g in a)e[g]=!0;if(b)for(g in b)e[g]=!0;else b={};for(var n in e)if(a[n])if(b[n])if(b[n].ka&&a[n].ka)b[n].Gn(a[n],d);else{e=a[n].ka?[a[n]]:a[n];b[n].ka&&(b[n]=
[b[n]]);g=[].concat(b[n]);for(var p=0;p<e.length;p++){for(var q=!1,r=0;r<g.length;r++)if(g[r].Pb()===e[p].Pb()){g[r].Gn(e[p],d);q=!0;g.splice(r,1);break}q||b[n].push(c(e[p],d))}h(g)}else{e=b;g=n;p=a[n];q=d;if(p.ka)p=c(p,q);else{for(var r=[],t=0;t<p.length;t++)r[t]=c(p[t],q);p=r}e[g]=p}else h(b[n]);return b};b.prototype={hu:function(a){var b=this.mf(a.getRow(),a.of());if(!b)return!1;if(b.ka)return b.gr(a);for(var c=0;c<b.length;c++)if(b[c].gr(a))return!0;return!1},addCell:function(a,b,c){b=b||a.getRow();
c=c||a.of();var d=this.mf(b,c);d?d.ka?this.insert([d,a],b,c):d.push(a):this.insert(a,b,c)},Gv:function(a){var b=this.getEntireMatrix(),c;for(c in b)this.dm(c,a)},dm:function(a,b){var c=this.getRow(a),d;for(d in c)this.qq(a,d,b)},qq:function(a,b,c){var d=this.get(a,b);if(d)if(d.ka)c(d,a,b);else for(var e=0;e<d.length;e++)c(d[e],a,b,d[e].Pb())},mf:function(a,b,c){if(c){if(a=this.get(a,b))if(!a.ka)for(b=0;b<a.length;b++){if(a[b].Pb()==c)return a[b]}else if(a.Pb()==c)return a;return null}return this.get(a,
b)},yu:function(){var a=this.getEntireMatrix(),b;for(b in a){var c=a[b],d=!1,e=void 0;for(e in c){var h;h=c[e];if(h.ka)h=h.Zq();else{for(var g=!1,q=0;q<h.length;)h[q].Zq()?(g=!0,q++):h.splice(q,1);h=g}h?d=!0:delete c[e]}d||delete a[b]}}};e(b,g,!1,!0);return b});
define("ColorConverter",["Environment","LoggerManager","BrowserDetection","IFrameHandler"],function(g,e,d,b){function c(b){0==b.indexOf("#")&&(b=b.substring(1,b.length));if(3==b.length)b=b.charAt(0)+b.charAt(0)+b.charAt(1)+b.charAt(1)+b.charAt(2)+b.charAt(2);else if(6!=b.length)return n.warn("A hexadecimal color value must be 3 or 6 character long. An invalid value was specified, will be ignored"),null;var c=b.substring(2,4),d=b.substring(4,6);numR=a(b.substring(0,2));numG=a(c);numB=a(d);return null==
numR||null==numG||null==numB?null:[numR,numG,numB]}function h(a){if(0<=a&&9>=a)return new Number(a);a=a.toUpperCase();if(p[a])return p[a];n.warn("A hexadecimal number must contain numbers between 0 and 9 and letters between A and F. An invalid value was specified, will be ignored");return null}function a(a){var b=0,c=0,d;for(d=a.length;1<=d;d--){var e=h(a.substring(d-1,d));if(null==e)return null;var f;for(f=1;f<=c;f++)e*=16;c++;b+=e}return b}function f(a){if(a.indexOf("%")==a.length-1){a=parseFloat(a.substring(0,
a.length-1));if(100<a||0>a)return n.warn("A RGB element must be a number \x3e\x3d0 and \x3c\x3d255 or a percentile \x3e\x3d0 and \x3c\x3d100. An invalid value was specified, will be ignored"),null;a*=2.55}return a}function l(a,b){return a&&""!=a?b?a!=b?!0:!1:!0:!1}function m(a){var b=document.createElement("DIV");b.style.backgroundColor=a;var c=s.Xg(b,q,a);if(255==c[0]&&(255==c[1]&&255==c[2])&&"WHITE"!=a.toUpperCase()){var d=document.getElementsByTagName("BODY")[0];d&&(d.appendChild(b),c=s.Xg(b,q,
a),d.removeChild(b))}r[a]=c;return r[a]}function k(a){var e="";if(r[a])return r[a];if(d.isProbablyIE())try{if(t=b.getFrameWindow("weswit__ColorFrame",!0))t.document.bgColor=a,e=t.document.bgColor}catch(f){e=null}else return m(a);if(!e||e==a){var h=document.bgColor;document.bgColor=a;e=document.bgColor;document.bgColor=h}if(!e||e==a)return m(a);r[a]=c(e);return r[a]}g.browserDocumentOrDie();var n=e.getLoggerProxy("lightstreamer.grids"),p={A:10,B:11,C:12,D:13,E:14,F:15},q="backgroundColor",r={},t=null,
s={ro:function(a){if(0==a.indexOf("rgb"))a:{var b,d;if(0==a.indexOf("rgb("))b=4,d=")";else if(0==a.indexOf("rgba("))b=5,d=",";else{n.warn("A RGB color value must be in the form 'rgb(x, y, z)' or 'rgba(x, y, z, a)'. An invalid value was specified, will be ignored");a=null;break a}a=a.substring(b,a.length);var e=a.indexOf(",");b=f(a.substring(0,e));var h=a.indexOf(",",e+1),e=f(a.substring(e+1,h));a=f(a.substring(h+1,a.indexOf(d,h+1)));a=null==b||null==e||null==a?null:[b,e,a]}else a=0==a.indexOf("#")?
c(a):k(a);return a},Xg:function(a,b,c){if(null==a)return[255,255,255];var d="";try{if(window.getComputedStyle||document.defaultView&&document.defaultView.getComputedStyle){var e=document.defaultView.getComputedStyle(a,null);if(e)var f=b==q?"background-color":b,d=e.getPropertyValue(f)}}catch(h){}try{!l(d,c)&&a.currentStyle&&(f="background-color"==b?q:b,d=a.currentStyle[f])}catch(g){}try{if(!l(d,c))if(e="background-color"==b?q:b,""!=a.style[e])d=a.style[e];else return[255,255,255]}catch(k){}return"transparent"==
d&&a.parentNode?this.Xg(a.parentNode,b):"transparent"==d?[255,255,255]:l(d,c)?this.ro(d):[255,255,255]}};return s});
define("FadersHandler",["ColorConverter","Executor","Helpers","Cell","Environment"],function(g,e,d,b,c){function h(a,b,c,d,e,f,h){this.ca(a,b,c,d,e,f,h)}function a(){this.length=0;this.js={}}function f(b){this.ee=b;this.Li=new a;this.nq=0;this.jf={};this.Ei=!1;this.Wc={}}c.browserDocumentOrDie();f.prototype={Jq:function(a,b,c,d,e,f){e=this.pw(e);var g=a.Am();if(g){var t=this.Li.get();if(null==t)return this.jf[this.nq]=new h(a,b,c,d,e,g,f),this.nq++;this.jf[t].ca(a,b,c,d,e,g,f);return t}},pw:function(a){a/=
this.ee;return 1<a?a:1},nr:function(a){var b=this.jf[a],c=b.kd.jm();if(!c)this.$n(b.kd);else if(!(b.a<c)){var c=this.Wc[b.kd.Cg],d=this.jf[c];d&&(d.Rq||(b.Rq?d.xi&&e.executeTask(d.xi):(b.Ha=d.Ha,b.Ma<d.Ma&&(b.Ma=d.Ma))),this.Li.put(c));this.Wc[b.kd.Cg]=a;b.ff&&(b.bg=g.Xg(b.kd.Qg(),"backgroundColor"));b.Mg&&(b.Yn=g.Xg(b.kd.Qg(),"color"));this.Ei||this.Av(this.ee)}},$n:function(a){var b=this.Wc[a.Cg];if(b||0==b)delete this.Wc[a.Cg],this.Li.put(b)},mv:function(a){var b=d.getTimeStamp(),c=0;a&&(c=b-(a+
this.ee));a=!1;for(var f in this.Wc){var h=this.Wc[f],g=this.jf[h];if(g.Ha>g.Ma)this.Li.put(h),delete this.Wc[f],g.xi&&e.addPackedTimedTask(g.xi,0);else{h=g.kd.Qg();if(!h){this.$n(g.kd);continue}"transparent"==g.ff?h.style.backgroundColor="rgba("+g.bg[0]+","+g.bg[1]+","+g.bg[2]+","+this.de(100,0,g.Ma,g.Ha)/100+")":g.ff&&(h.style.backgroundColor="rgb("+this.de(g.bg[0],g.ff[0],g.Ma,g.Ha)+","+this.de(g.bg[1],g.ff[1],g.Ma,g.Ha)+","+this.de(g.bg[2],g.ff[2],g.Ma,g.Ha)+")");g.Mg&&(h.style.color="rgb("+this.de(g.Yn[0],
g.Mg[0],g.Ma,g.Ha)+","+this.de(g.Yn[1],g.Mg[1],g.Ma,g.Ha)+","+this.de(g.Yn[2],g.Mg[2],g.Ma,g.Ha)+")");a=!0}g.Ha++}a?(f=d.getTimeStamp(),b=f-b+c,b>this.ee&&(c=b/this.ee,b=Math.floor(c),c-=b,this.Jz(b),b=this.ee*c),this.xr(this.ee-b,f)):this.Ei=!1},xr:function(a,b){e.addTimedTask(this.mv,a,this,[b])},Jz:function(a){for(var b in this.Wc){var c=this.jf[this.Wc[b]];c.Ha>c.Ma||(c.Ha=c.Ha+a<c.Ma?c.Ha+a:c.Ma)}},Av:function(a){!0!=this.Ei&&(this.Ei=!0,this.xr(a))},de:function(a,b,c,d){a=new Number(a);b=new Number(b);
return Math.ceil(a+1/c*d*(b-a))}};a.prototype={put:function(a){this.js[this.length]=a;this.length++},get:function(){if(0>=this.length)return null;this.length--;return this.js[this.length]}};h.prototype={ca:function(a,b,c,d,e,f,h){this.xi=h?h:null;this.Rq=b;this.kd=a;this.ff=""===c||"transparent"==c?"transparent":c?g.ro(c):null;this.Mg=d?g.ro(d):null;this.Ma=e;this.a=f;this.Ha=0}};return f});
define("LightstreamerConstants",[],function(){return{CONNECTING:"CONNECTING",Gb:"CONNECTED:",ng:"STREAM-SENSING",Qh:"WS-STREAMING",lg:"HTTP-STREAMING",Re:"STALLED",rg:"WS-POLLING",Qd:"HTTP-POLLING",$b:"DISCONNECTED",qg:"DISCONNECTED:WILL-RETRY",Tk:"WS",Oh:"HTTP",Rk:"RAW",Nk:"DISTINCT",kg:"COMMAND",Qk:"MERGE"}});
define("DoubleKeyMatrix",["Inheritance","Matrix"],function(g,e){function d(){this._callSuperConstructor(d);this.vh={}}d.prototype={insert:function(b,c,h){"undefined"==typeof this.vh[h]&&(this.vh[h]=c,this._callSuperMethod(d,"insert",[b,c,h]))},del:function(b,c){this._callSuperMethod(d,"del",[b,c]);delete this.vh[c]},delReverse:function(b){var c=this.vh[b];"undefined"!=typeof c&&this.del(c,b)},delRow:function(b){var c=this.getRow(b),h;for(h in c)delete this.vh[h];this._callSuperMethod(d,"delRow",[b])}};
d.prototype.insert=d.prototype.insert;d.prototype.del=d.prototype.del;d.prototype.delReverse=d.prototype.delReverse;d.prototype.delRow=d.prototype.delRow;g(d,e);return d});
define("AbstractWidget","Inheritance Matrix LoggerManager Setter EventDispatcher IllegalStateException LightstreamerConstants DoubleKeyMatrix".split(" "),function(g,e,d,b,c,h,a,f){function l(a){this._callSuperConstructor(l);this.Nc="ITEM_IS_KEY";this.Bl=this.$i=null;this.cd=0;this.am=null;this.J=new e;this.parsed=!1;this.id=a;this.useSynchEvents(!0);this.Dp=this.Cp=!1;this.Wh=0;this.zf=null;this.em=!1;this.Md=null;this.rk=[];this.Nb=[];this.Ng={};this.Ic=this.Gi=0;this.Km=new f}var m=d.getLoggerProxy("lightstreamer.grids");
l.Uo="ITEM_IS_KEY";l.Lt="UPDATE_IS_KEY";l.prototype={ba:M("id"),nl:function(){if(!this.parsed)throw new h("Please parse html before calling this method");},onItemUpdate:function(a){var b=a.om(),c=a.Mi();this.cd++;var c=null==b?c:b,b=this.Xx()?c:this.ya()?this.cd:c+" "+a.getValue(this.$i),d={};this.ya()?a.rq(this.Eq(d)):a.forEachChangedField(this.Eq(d));this.lr()&&"DELETE"==d[this.Bl]?this.removeRow(b):(this.updateRow(b,d),this.Km.insert(!0,c,b))},onClearSnapshot:function(a,b){var c=this.Km.fC(null==
a?b:a),d;for(d in c)this.removeRow(d)},onSubscription:function(){0==this.Wh&&this.Cp&&this.clean();this.lr()&&!this.$i&&(this.$i=this.zf.Iq(),this.Bl=this.zf.yq());this.Wh++},onUnsubscription:function(){this.Wh--;0==this.Wh&&this.Dp&&this.clean()},onListenStart:function(a){this.zf||(this.zf=a,this.em||this.yp());if(a.dh())this.onSubscription()},onListenEnd:function(a){if(a.dh())this.onUnsubscription()},yp:function(){if(this.zf){var b=this.zf;if(b.Oi()==a.Qk||b.Oi()==a.Rk)this.Nc="ITEM_IS_KEY";else if(b.Oi()==
a.Nk)this.Nc="UPDATE_IS_KEY";else{this.Nc="KEY_IS_KEY";try{b.Cq(),this.$i="key",this.Bl="command"}catch(c){}}}else this.Nc="ITEM_IS_KEY"},Eq:function(a){var b=this;return function(c,d,e){null===b.am&&(b.am=null==c);a[b.am?d:c]=e}},Xx:function(){return"ITEM_IS_KEY"==this.Nc},ya:function(){return"UPDATE_IS_KEY"==this.Nc},lr:function(){return"KEY_IS_KEY"==this.Nc},Lq:function(){return this.Ic>=this.Nb.length?null:this.Nb[this.Ic]},xs:function(a){var b=this.Ng[a];delete this.Ng[a];this.Nb[b]=null;this.Gi++;
if(b==this.Ic){for(;null===this.Nb[this.Ic]&&this.Ic<this.Nb.length;)this.Ic++;if(this.Ic>=this.Nb.length){this.Nb=[];this.Ng={};this.Ic=this.Gi=0;return}}if(100<=this.Gi)for(this.Ng={},a=this.Nb,this.Nb=[],b=this.Gi=this.Ic=0;b<a.length;b++)null!==a[b]&&this.wr(a[b])},wr:function(a){this.Ng[a]=this.Nb.length;this.Nb.push(a)},removeRow:function(a){this.nl();if(this.Md)this.bv(a);else if(this.J.getRow(a)){m.isDebugLogEnabled()&&m.logDebug(d.resolve(494),a,this);this.Md={};var b=null;try{this.removeRowExecution(a),
this.J.delRow(a),this.Km.delReverse(a),this.ya()&&this.xs(a)}catch(c){b=c}this.Md=null;this.Sp();if(null!==b)throw b;}else m.logWarn(d.resolve(492),a,this)},st:function(a,b){m.isDebugLogEnabled()&&m.logDebug(d.resolve(495),this);this.rk.push({type:2,key:a,Dy:b})},bv:function(a){m.isDebugLogEnabled()&&m.logDebug(d.resolve(496),this);this.rk.push({type:1,key:a})},Sp:function(){for(;0<this.rk.length;){var a=this.rk.shift();1==a.type?this.removeRow(a.key):this.updateRow(a.key,a.Dy)}},updateRow:function(a,
b){this.nl();if(this.Md)a==this.Md?this.mergeUpdate(a,b):this.st(a,b);else{this.Md=a;var c=null;try{if(this.updateRowExecution(a,b),this.J.getRow(a)){m.isDebugLogEnabled()&&m.logDebug(d.resolve(498),a,this);for(var e in b)this.J.insert(b[e],a,e)}else m.isDebugLogEnabled()&&m.logDebug(d.resolve(497),a,this),this.ya()&&this.wr(a),this.J.insertRow(b,a)}catch(f){c=f}this.Md=null;this.Sp();if(null!==c)throw c;}},clean:function(){m.logInfo(d.resolve(493),this);var a=this.J.getEntireMatrix(),b,c=[];for(b in a)c.push(b);
for(b=0;b<c.length;b++)this.removeRow(c[b])},getValue:function(a,b){return this.J.get(a,b)},setAutoCleanBehavior:function(a,b){this.Cp=this.checkBool(a);this.Dp=this.checkBool(b)},parseHtml:E(),updateRowExecution:E(),removeRowExecution:E(),mergeUpdate:E()};l.prototype.onItemUpdate=l.prototype.onItemUpdate;l.prototype.onClearSnapshot=l.prototype.onClearSnapshot;l.prototype.onSubscription=l.prototype.onSubscription;l.prototype.onUnsubscription=l.prototype.onUnsubscription;l.prototype.onListenStart=
l.prototype.onListenStart;l.prototype.onListenEnd=l.prototype.onListenEnd;l.prototype.removeRow=l.prototype.removeRow;l.prototype.updateRow=l.prototype.updateRow;l.prototype.clean=l.prototype.clean;l.prototype.getValue=l.prototype.getValue;l.prototype.setAutoCleanBehavior=l.prototype.setAutoCleanBehavior;l.prototype.parseHtml=l.prototype.parseHtml;l.prototype.updateRowExecution=l.prototype.updateRowExecution;l.prototype.removeRowExecution=l.prototype.removeRowExecution;l.prototype.mergeUpdate=l.prototype.mergeUpdate;
g(l,c,!1,!0);g(l,b,!0,!0);return l});
define("AbstractGrid","Inheritance CellMatrix Executor Cell Helpers FadersHandler AbstractWidget IllegalArgumentException IllegalStateException LoggerManager Environment".split(" "),function(g,e,d,b,c,h,a,f,l,m,k){function n(){this._callSuperConstructor(n,arguments);this.Ga=!1;this.Gh=p;this.Ac=!1;this.n=null;this.zl=this.tj=this.Kg=!1;this.hf=new h(50);this.Jg=this.Ig=null;this.l=this.m=0;this.G=new e}k.browserDocumentOrDie();var p=["div","span","input"],q=m.getLoggerProxy("lightstreamer.grids");n.prototype=
{mergeUpdate:function(a,b){q.isDebugLogEnabled()&&q.logDebug(m.resolve(500),this);for(var c in b)this.Jg[c]=b[c];this.bm(this.Ig,b)},bm:function(a,b){for(var c in b)this.G.qq(a,c,function(d){q.isDebugLogEnabled()&&q.logDebug(m.resolve(501),a,c);d.Qn(null===b[c]?"":b[c])})},ne:function(a,b){return null!=a&&null!=b||a==b?this.Kg?a>b:a<b:null==a?!this.Kg:this.Kg},setHtmlInterpretationEnabled:function(a){this.Ga=this.checkBool(a)},isHtmlInterpretationEnabled:M("Ga"),setNodeTypes:function(a){if(a&&0<a.length)this.Gh=
a;else throw new f("The given array is not valid or empty");},getNodeTypes:M("Gh"),setAddOnTop:function(a){null!=this.n&&q.logWarn(m.resolve(499));this.Ac=this.checkBool(a)},isAddOnTop:M("Ac"),setSort:function(a,b,c,d){a?(this.n=a,this.Kg=this.checkBool(b,!0),this.tj=this.checkBool(c,!0),this.zl=this.checkBool(d,!0),this.lk()):this.n=null},getSortField:M("n"),isDescendingSort:function(){return null===this.n?null:this.Kg},isNumericSort:function(){return null===this.n?null:this.tj},isCommaAsDecimalSeparator:function(){return null!==
this.n&&this.tj?this.zl:null},extractFieldList:function(){return this.mq(b.Ct)},extractCommandSecondLevelFieldList:function(){return this.mq(b.It)},parseHtml:E(),forceSubscriptionInterpretation:function(b){if(0<this.m)throw new l("This method can only be called while the grid is empty.");if(b){if(b!=a.Lt&&b!=a.Uo)throw new f("The given value is not valid, use UPDATE_IS_KEY or ITEM_IS_KEY.");this.Nc=b;this.em=!0}else this.em=!1,this.yp()},mq:function(a){a=this.Cl(a);var b=[],c;for(c in a)b.push(c);
return b},ib:function(a){return this.tj?c.getNumber(a,this.zl):null===a?a:(new String(a)).toUpperCase()},wt:function(a,c,e){e=e||a;var f=c.Ep,h=f+c.Vq,g=h+c.Ui,l=c.Ti,k=c.yl,p=[];a=this.G.getRow(a);for(var m in a)for(var q=-1,n=a[m],N=0;n&&(n.ka||N<n.length);N++){var F=n.ka?n:n[N],n=n.ka?null:n;null===F.Pb()&&q++;var v=this.Oq?this.Oq(F,e,m,F.Pb(),q):F;if(null!=F.te){var I=F.SA(),z=F.Aw(k),J=F.Bw(l);if(J){var O=!1,K=!1,F=!1,T=null,Q=null,S=null,B=null;J&&(J.backgroundColor&&(O=!0,T=J.backgroundColor,
Q=z.backgroundColor),J.color&&(O=!0,S=J.color,B=z.color));O&&(0<f?(K=d.packTask(v.Vd,v,[I,this.Ga]),z=this.hf.Jq(v,!1,T,S,f,K),this.hf.nr(z),K=!0):this.hf.$n(v),0<c.Ui&&(F=d.packTask(v.yg,v,[I,b.Mo]),z=this.hf.Jq(v,!0,Q,B,c.Ui,F),d.addTimedTask(this.hf.nr,h,this.hf,[z]),F=!0));K||(0<f?d.addTimedTask(v.Vd,f,v,[I,this.Ga]):(Q=d.packTask(v.Vd,v,[I,this.Ga]),p.push(Q)));F||d.addTimedTask(v.yg,g,v,[I,b.Mo])}else 0<f?d.addTimedTask(v.Vd,f,v,[I,this.Ga]):(Q=d.packTask(v.Vd,v,[I,this.Ga]),p.push(Q))}}for(c=
0;c<p.length;c++)d.executeTask(p[c])},updateRowExecution:E(),removeRowExecution:E(),lk:E(),Cl:E()};n.prototype.setHtmlInterpretationEnabled=n.prototype.setHtmlInterpretationEnabled;n.prototype.isHtmlInterpretationEnabled=n.prototype.isHtmlInterpretationEnabled;n.prototype.setNodeTypes=n.prototype.setNodeTypes;n.prototype.getNodeTypes=n.prototype.getNodeTypes;n.prototype.setAddOnTop=n.prototype.setAddOnTop;n.prototype.isAddOnTop=n.prototype.isAddOnTop;n.prototype.setSort=n.prototype.setSort;n.prototype.getSortField=
n.prototype.getSortField;n.prototype.isDescendingSort=n.prototype.isDescendingSort;n.prototype.isNumericSort=n.prototype.isNumericSort;n.prototype.isCommaAsDecimalSeparator=n.prototype.isCommaAsDecimalSeparator;n.prototype.extractFieldList=n.prototype.extractFieldList;n.prototype.extractCommandSecondLevelFieldList=n.prototype.extractCommandSecondLevelFieldList;n.prototype.parseHtml=n.prototype.parseHtml;n.prototype.forceSubscriptionInterpretation=n.prototype.forceSubscriptionInterpretation;n.prototype.updateRowExecution=
n.prototype.updateRowExecution;n.prototype.removeRowExecution=n.prototype.removeRowExecution;g(n,a);return n});define("AbstractParent",[],function(){function g(){}g.prototype={ca:function(){this.length=0;this.Va={};this.fs||(this.map={})}};return g});
define("VisibleParent",["AbstractParent","Inheritance"],function(g,e){function d(b,c,e){this._callSuperConstructor(d);this.nd=b;this.Ih=c;this.Fy=e;this.fs=!0;this.fg=this.Ih;this.ca()}d.prototype={removeChild:function(b){if(!(0>=this.length)){this.length--;delete this.Va[b.ba()];var c=b.element();c==this.fg&&(this.fg=c.nextSibling);this.nd.removeChild(c);b.hk(null)}},insertBefore:function(b,c){c!=b&&b&&(c?null==this.Va[c.ba()]?this.appendChild(b,!0):(this.Zg(b),this.nd.insertBefore(b.element(),c.element())):
this.appendChild(b,!0))},appendChild:function(b,c){if(b){this.Zg(b);var d=b.element();c?(this.fg||(this.fg=d),this.Ih?this.nd.insertBefore(d,this.Ih):this.nd.appendChild(d)):(this.nd.insertBefore(d,this.fg),this.fg=d)}},Zg:function(b){b.Zi(this)||(this.length++,this.Va[b.ba()]=b,b.Jm(),b.hk(this))},Ob:function(b){if(this.length<=b)return null;b+=this.Fy;b=this.nd.childNodes[b].getAttribute("id");return this.getElementById(b)},getElementById:function(b){return this.Va[b]},clean:function(){this.nd&&
delete this.nd;this.Ih&&delete this.Ih;for(var b in this.Va)this.Va[b].clean()}};e(d,g);return d});
define("InvisibleParent",["AbstractParent","Inheritance"],function(g,e){function d(){this._callSuperConstructor(d);this.fs=!1;this.ca()}d.prototype={removeChild:function(b){if(!(0>=this.length)){this.length--;var c;for(c=this.Va[b.ba()];c<this.length;c++)this.map[c]=this.map[c+1],this.Va[this.map[c].ba()]=c;this.Va[b.ba()]=null;this.map[this.length]=null;b.hk(null)}},insertBefore:function(b,c){if(c!=b&&b)if(c)if(null==this.Va[c.ba()])this.appendChild(b,!0);else{b.Jm();for(var d=this.Va[c.ba()],a=
this.length;a>=d+1;a--)this.map[a]=this.map[a-1],this.Va[this.map[a].ba()]=a;this.Zg(b,d)}else this.appendChild(b,!0)},appendChild:function(b,c){b&&(b.Jm(),c||0==this.length?this.Zg(b,this.length):this.insertBefore(b,this.map[0]))},Zg:function(b,c){this.length++;this.Va[b.ba()]=c;this.map[c]=b;b.hk(this)},Ob:function(b){return this.map[b]},getElementById:function(b){return this.map[this.Va[b]]},clean:function(){for(var b=0;b<this.length;b++)this.map[b].clean()}};e(d,g);return d});
define("DynaElement",["Cell"],function(g){function e(d,b){this.key=d;this.sn=b;this.node=this.Ef=null;this.id="hc6|"+b.ba()+"|"+d}e.prototype={hk:G("Ef"),Jm:function(){this.Ef&&this.Ef.removeChild(this)},Zi:function(d){return this.Ef==d},getKey:M("key"),ba:M("id"),element:function(){if(null!=this.node)return this.node;this.node=this.sn.Zw();this.node.setAttribute("id",this.id);for(var d=g.Ni(this.node,this.sn.getNodeTypes()),b=0;b<d.length;b++){var c=d[b],e=c.of();e&&this.sn.Vy(c,this.key,e)}return this.node},
clean:function(){this.node&&delete this.node}};return e});
define("VisualUpdate",["LoggerManager","Inheritance","Setter","IllegalArgumentException"],function(g,e,d,b){function c(a,b,c){this.ml=a;this.zo=b;this.key=c;this.Ui=this.Ep=0;this.Vq=1200;this.yl=this.Ti=null}var h=g.getLoggerProxy("lightstreamer.grids");c.prototype={getCellValue:function(a,c){var d=this.ml.mf(this.key,a,c);if(!d)throw new b("No cell defined for this field");d.ka||(d=d[0]);return d.te||d.Tf()},setCellValue:function(a,c,d){a=this.ml.mf(this.key,a,d);if(!a)throw new b("No cell defined for this field");
if(a.ka)a.Qn(c);else for(d=0;d<a.length;d++)a[d].Qn(c)},getChangedFieldValue:function(a){return this.zo[a]||null},setHotTime:function(a){this.Vq=this.checkPositiveNumber(a,!0)},setColdToHotTime:function(a){this.Ep=this.checkPositiveNumber(a,!0)},setHotToColdTime:function(a){this.Ui=this.checkPositiveNumber(a,!0)},ug:function(a,c,d,e,g){a=this.ml.mf(this.key,a,g);if(!a)throw new b("No cell defined for this field");if(a.ka)a.ug(c,d,e);else for(g=0;g<a.length;g++)a[g].ug(c,d,e)},gp:function(a,b,c){this.Ti||
(this.Ti={},this.yl={});this.Ti[c]=a||"";this.yl[c]=b||""},setAttribute:function(a,b,c){this.gp(a,b,c)},setStyle:function(a,b){this.gp(a,b,"CLASS")},setCellAttribute:function(a,b,c,d,e){this.ug(a,b,c,d,e)},setCellStyle:function(a,b,c,d){this.ug(a,b,c,"CLASS",d)},forEachChangedField:function(a){for(var b in this.zo)try{a(b,this.zo[b])}catch(c){h.logError(g.resolve(536),c)}}};c.prototype.getCellValue=c.prototype.getCellValue;c.prototype.setCellValue=c.prototype.setCellValue;c.prototype.getChangedFieldValue=
c.prototype.getChangedFieldValue;c.prototype.setHotTime=c.prototype.setHotTime;c.prototype.setColdToHotTime=c.prototype.setColdToHotTime;c.prototype.setHotToColdTime=c.prototype.setHotToColdTime;c.prototype.setAttribute=c.prototype.setAttribute;c.prototype.setStyle=c.prototype.setStyle;c.prototype.setCellAttribute=c.prototype.setCellAttribute;c.prototype.setCellStyle=c.prototype.setCellStyle;c.prototype.forEachChangedField=c.prototype.forEachChangedField;e(c,d,!0,!0);return c});
define("DynaGrid","Inheritance AbstractGrid Cell VisibleParent InvisibleParent DynaElement BrowserDetection VisualUpdate IllegalArgumentException IllegalStateException LoggerManager ASSERT Environment".split(" "),function(g,e,d,b,c,h,a,f,l,m,k,n,p){function q(a,b){this._callSuperConstructor(q,[a]);this.p=1;this.Hg=0;this.gd=null;this.Wd="OFF";this.Xq();(b=this.checkBool(b,!0))&&this.parseHtml()}p.browserDocumentOrDie();var r=k.getLoggerProxy("lightstreamer.grids");q.prototype={toString:function(){return["[",
this.id,this.m,this.Hg,"]"].join("|")},setMaxDynaRows:function(a){this.l=a&&"unlimited"!=(new String(a)).toLowerCase()?this.checkPositiveNumber(a,!0):0;this.ya()?this.qr():(this.hl(),this.lk(),this.up(1))},getMaxDynaRows:function(){return 0==this.l?"unlimited":this.l},goToPage:function(a){if(this.ya())throw new m("This grid is configured to no support pagination");if(0==this.l)throw new m("Can't switch pages while 'no-page mode' is used");a=this.checkPositiveNumber(a);this.up(a)},getCurrentPages:function(){return 0==
this.l?1:this.Hg},setAutoScroll:function(a,b){if(!a)throw new l("The given value is not a valid scroll type. Admitted values are OFF, ELEMENT, PAGE");a=(new String(a)).toUpperCase();if("ELEMENT"==a)if(b)this.gd=b;else throw new l("Please specify an element id in order to use ELEMENT autoscroll");else if("PAGE"!=a&&"OFF"!=a)throw new l("The given value is not a valid scroll type. Admitted values are OFF, ELEMENT, PAGE");this.Wd=a;this.Dz()},parseHtml:function(){this.parsed=!0;var a=this.xl;if(a){if(d.td(a))return!0;
this.Xq()}a=document.getElementById(this.id);if(!this.tB(a))return!1;this.no=a.cloneNode(!0);this.no.removeAttribute("id");this.xl=a;var e=a.parentNode;a.style.display="none";for(var f=e.childNodes,g=0,h=0,k=null,g=0;g<f.length;g++)if(f[g]==a){f[g+1]&&(k=f[g+1]);h=g+1;break}this.V=new b(e,k,h);this.oc=new c;this.lb=new c;return!0},Cl:function(a){for(var b=d.Ni(this.xl,this.Gh),c={},e=0;e<b.length;e++)if(b[e].Bq()==a){var f=b[e].of();f&&(c[f]=!0)}return c},tB:function(a){if(!a)throw new l("No template defined");
if(!d.vt(a))throw new l("The template defined for the grid does not define the 'data-source' attribute");var b=[];a=d.Ni(a,this.Gh);for(var c=0;c<a.length;c++)a[c].of()&&b.push(a[c]);if(0>=b.length)throw new l("No valid cells defined for grid");return!0},Dz:function(){if(!("ELEMENT"!=this.Wd||this.gd&&this.gd.appendChild)){var a=document.getElementById(this.gd);a?this.gd=a:(r.logError(k.resolve(537),this),this.Wd="OFF")}},Xq:function(){this.lb=this.oc=this.V=this.no=this.xl=null;this.pi={}},Zw:function(){return this.no.cloneNode(!0)},
Vy:function(a,b,c){this.G.addCell(a,b,c)},clean:function(){this._callSuperMethod(q,"clean")},LB:function(){if("OFF"==this.Wd)return!1;if(this.ya()){var b="ELEMENT"==this.Wd?this.gd:document.body;return this.Ac?0==b.scrollTop:a.isProbablyOldOpera()?!0:1>=Math.abs(b.clientHeight+b.scrollTop-b.scrollHeight)}return!0},zw:function(a){var b="PAGE"==this.Wd?document.body:this.gd;return this.ya()?this.Ac?0:b.scrollHeight-b.clientHeight:a.offsetTop-b.offsetTop},iv:function(a){r.isDebugLogEnabled()&&r.logDebug(k.resolve(539),
this,a);"PAGE"==this.Wd?window.scrollTo(0,a):this.gd.scrollTop=a},lk:function(){for(var a=this.n,b=new c,d=1;0<this.m;){var e=this.Tg(d);if(e)if(null==a)b.appendChild(e,!0),this.m--;else{var f=e.getKey();if(""==f)this.m--,d++;else{for(var f=this.ib(this.J.get(f,this.n)),g=0,h=b.length-1;g<h;){var l=Math.floor((g+h)/2),m=b.Ob(l);(m=this.ib(this.J.get(m.getKey(),this.n)))||r.logWarn(k.resolve(538),this);this.ne(f,m)?h=l-1:g=l+1}m=b.Ob(g);g==h?(g=this.ib(this.J.get(m.getKey(),this.n)),this.ne(f,g)?b.insertBefore(e,
m):(f=b.Ob(h+1))?b.insertBefore(e,f):b.appendChild(e,!0)):m?b.insertBefore(e,m):b.appendChild(e,!0);this.m--}}else this.m--,d++}for(;0<b.length;)this.m++,a=b.Ob(0),this.m<=this.l*(this.p-1)?this.lb.appendChild(a,!0):0>=this.l||this.m<=this.l*this.p?this.V.appendChild(a,!0):this.oc.appendChild(a,!0)},up:function(a){if(!(0>=this.m)){if(this.p>=a)for(;this.Ch(this.lb,this.V,(a-1)*this.l);)this.Ch(this.V,this.oc,this.l);else for(;this.od(this.V,this.lb,(a-1)*this.l,!1);)this.od(this.oc,this.V,this.l,
!1);this.p=a}},hl:function(){r.isDebugLogEnabled()&&r.logDebug(k.resolve(540),this);var a=0,a=0>=this.l?1:Math.ceil(this.m/this.l);this.Hg!=a&&(this.Hg=a,this.dispatchEvent("onCurrentPagesChanged",[this.Hg]));return a},removeRowExecution:function(a){var b=this.pi[a];if(b){this.m--;this.hl();var c=!1,d=this.lb,e=this.oc;this.dispatchEvent("onVisualUpdate",[a,null,b.element()]);this.ya()&&(this.Ac&&null==this.n)&&(c=this.Ac,d=this.oc,e=this.lb);b.Zi(this.V)?(this.V.removeChild(b),this.od(e,this.V,this.l,
c)):b.Zi(e)?e.removeChild(b):(this.lb.removeChild(b),this.od(this.V,d,this.l*(this.p-1),c)&&this.od(e,this.V,this.l,c));this.G.delRow(a);delete this.pi[a]}},updateRowExecution:function(a,b){var c=!1,d=this.pi[a];d||(d=new h(a,this),this.pi[a]=d,d.element());n.verifyOk(d);this.bm(a,b);var e=this.Nl(a,b,d),f=this.LB(),g=!this.J.getRow(a),k=null!=this.n?this.ib(this.J.get(a,this.n)):null,l=null!=this.n?this.ib(b[this.n]):null,m=k==l||!b[this.n]&&null!==b[this.n];null!=this.n&&!1==m?(k=this.il(d,k,l),
this.vx(k,d),g&&(this.m++,c=!0)):g&&(this.lp(d,!this.Ac),this.m++,c=!0);this.wt(a,e);this.Md=null;g&&this.ya()&&this.qr();f&&d.Zi(this.V)&&(d=this.zw(d.element()),this.iv(d));c&&this.hl()},Nl:function(a,b,c){this.Ig=a;this.Jg=b;b=new f(this.G,b,a);this.dispatchEvent("onVisualUpdate",[a,b,c.element()]);this.Jg=this.Ig=null;return b},il:function(a,b,c){for(var d=1,e=this.m,f=-1;d<e;){var f=Math.floor((d+e)/2),g=null;f<=this.m&&(g=this.Tg(f),g=g==a?b:this.ib(this.J.get(g.getKey(),this.n)));this.ne(c,
g)?e=f-1:d=f+1}return d==e?(g=this.Tg(d),a=this.ib(this.J.get(g.getKey(),this.n)),this.ne(c,a)?d:d+1):d},Tg:function(a){if(a>this.m||0>=a)return null;if(a<=this.lb.length)return this.lb.Ob(a-1);a-=this.lb.length;if(a<=this.V.length)return this.V.Ob(a-1);a-=this.V.length;return this.oc.Ob(a-1)},lp:function(a,b){var c=b?this.lb:this.oc,d=b?this.oc:this.lb;if(0<d.length||this.V.length==this.l&&0<this.l)return d.appendChild(a,b),d;if(0<this.V.length||c.length==this.l*(this.p-1))return this.V.appendChild(a,
b),this.V;c.appendChild(a,b);return c},vx:function(a,b){if(!(a>this.m+1||0>=a)&&b!=this.Tg(a)){var c=b.Ef,d,e=this.V,f=this.oc,g=this.lb,h=this.Tg(a);null==h?d=this.lp(b,!0):(d=h.Ef,d.insertBefore(b,h));d==e?c&&c!=f?c==g&&this.od(e,g,this.l*(this.p-1),!1):this.Ch(e,f,this.l):d==g?c!=g&&this.Ch(g,e,this.l*(this.p-1))&&this.Ch(e,f,this.l):d==f&&(c==g&&this.od(e,g,this.l*(this.p-1),!1),this.od(f,e,this.l,!1))}},od:function(a,b,c,d){return 0>=this.l?!1:b.length<c&&0<a.length?(a=a.Ob(0),b.appendChild(a,
!d),!0):!1},Ch:function(a,b,c){return 0>=this.l?!1:a.length>c?(a=a.Ob(a.length-1),b.insertBefore(a,b.Ob(0)),!0):!1},qr:function(){for(;0<this.l&&this.m>this.l;)this.removeRow(this.Lq())},addListener:function(a){this._callSuperMethod(q,"addListener",[a])},removeListener:function(a){this._callSuperMethod(q,"removeListener",[a])},getListeners:function(){return this._callSuperMethod(q,"getListeners")}};q.prototype.setMaxDynaRows=q.prototype.setMaxDynaRows;q.prototype.getMaxDynaRows=q.prototype.getMaxDynaRows;
q.prototype.goToPage=q.prototype.goToPage;q.prototype.getCurrentPages=q.prototype.getCurrentPages;q.prototype.setAutoScroll=q.prototype.setAutoScroll;q.prototype.parseHtml=q.prototype.parseHtml;q.prototype.clean=q.prototype.clean;q.prototype.addListener=q.prototype.addListener;q.prototype.removeListener=q.prototype.removeListener;q.prototype.getListeners=q.prototype.getListeners;q.prototype.updateRowExecution=q.prototype.updateRowExecution;q.prototype.removeRowExecution=q.prototype.removeRowExecution;
g(q,e);return q});
var classes =['LightstreamerClient','Subscription','DynaGrid'];window.Lightstreamer={};require(classes,function(){for (var i=0;i<classes.length;i++)Lightstreamer[classes[i]]=arguments[i];});})();